import{r as Mn}from"./charts-CuXAiHm0.js";function $n(s){return"_:"+s.value}function kn(s,e){return[...s].map(t=>e(t)).join(`
`)+`
`}function Un(){return""}function on(s){return"<"+s.value+">"}const qn=/["\\\\\n\r]/,Wn=/["\\\\\n\r]/g,Gn={'"':'\\"',"\\":"\\\\","\n":"\\n","\r":"\\r"};function Hn(s){return Gn[s]}function Vn(s){return qn.test(s)?s.replace(Wn,Hn):s}function Qn(s){const e=Vn(s.value);return s.datatype.value==="http://www.w3.org/2001/XMLSchema#string"?'"'+e+'"':s.datatype.value==="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"?'"'+e+'"@'+s.language:'"'+e+'"^^'+on(s.datatype)}function zn(s,e){const t=e(s.subject),r=e(s.predicate),n=e(s.object),l=e(s.graph);return`${t} ${r} ${n} ${l?l+" ":""}.`}function Xn(s){return"?"+s.value}function it(s){if(!s)return null;if(s.termType==="BlankNode")return $n(s);if(s.termType==="DefaultGraph")return Un();if(s.termType==="Literal")return Qn(s);if(s.termType==="NamedNode")return on(s);if(s.termType==="Quad"||s.subject&&s.predicate&&s.object&&s.graph)return zn(s,it);if(s.termType==="Variable")return Xn(s);if(s[Symbol.iterator])return kn(s,it);throw new Error(`unknown termType ${s.termType}`)}class qs{constructor(e){if(this.index=new Map,e)for(const[t,r]of e)this.set(t,r)}get size(){return this.index.size}clear(){this.index.clear()}delete(e){return this.index.delete(it(e))}*entries(){for(const[,{term:e,value:t}]of this.index)yield[e,t]}forEach(e,t){for(const r of this.entries())e.call(t,r[1],r[0],this)}get(e){const t=this.index.get(it(e));return t&&t.value}has(e){return this.index.has(it(e))}*keys(){for(const[,{term:e}]of this.index)yield e}set(e,t){const r=it(e);return this.index.set(r,{term:e,value:t}),this}*values(){for(const[,{value:e}]of this.index)yield e}[Symbol.iterator](){return this.entries()[Symbol.iterator]()}}function Jr(s){try{return it(s)}catch{return null}}class Ws{constructor(e){if(this.index=new Map,e)for(const t of e)this.add(t)}get size(){return this.index.size}add(e){const t=it(e);return this.index.has(t)||this.index.set(t,e),this}clear(){this.index.clear()}delete(e){return e?this.index.delete(Jr(e)):!1}entries(){return this.values().entries()}forEach(e,t){return this.values().forEach(e,t)}has(e){return e?this.index.has(Jr(e)):!1}values(){return new Set(this.index.values())}keys(){return this.values()}[Symbol.iterator](){return this.index.values()}}let ln=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};ln.prototype.termType="BlankNode";let Vr=class{equals(e){return!!e&&e.termType===this.termType}};Vr.prototype.termType="DefaultGraph";Vr.prototype.value="";function ei(s,e){if(!e)return null;if(e.termType==="BlankNode")return s.blankNode(e.value);if(e.termType==="DefaultGraph")return s.defaultGraph();if(e.termType==="Literal")return s.literal(e.value,e.language||s.namedNode(e.datatype.value));if(e.termType==="NamedNode")return s.namedNode(e.value);if(e.termType==="Quad"){const t=s.fromTerm(e.subject),r=s.fromTerm(e.predicate),n=s.fromTerm(e.object),l=s.fromTerm(e.graph);return s.quad(t,r,n,l)}if(e.termType==="Variable")return s.variable(e.value);throw new Error(`unknown termType ${e.termType}`)}let ar=class{constructor(e,t,r,n=""){this.value=e,this.language=t,this.datatype=r,this.direction=n}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)&&(e.direction||"")===this.direction}};ar.prototype.termType="Literal";let Qt=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};Qt.prototype.termType="NamedNode";let Qr=class{constructor(e,t,r,n){this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&(e.termType==="Quad"||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}};Qr.prototype.termType="Quad";Qr.prototype.value="";let un=class{constructor(e){this.value=e}equals(e){return!!e&&e.termType===this.termType&&e.value===this.value}};un.prototype.termType="Variable";const Kn=new Qt("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),ti=new Qt("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),Yn=new Qt("http://www.w3.org/2001/XMLSchema#string");let fn=class{constructor(){this.init()}init(){this._data={blankNodeCounter:0,defaultGraph:new Vr}}namedNode(e){return new Qt(e)}blankNode(e){return e=e||"b"+ ++this._data.blankNodeCounter,new ln(e)}literal(e,t){return typeof t=="string"?new ar(e,t,ti):typeof t?.language=="string"?new ar(e,t.language,t.direction?Kn:ti,t.direction):new ar(e,"",t||Yn)}variable(e){return new un(e)}defaultGraph(){return this._data.defaultGraph}quad(e,t,r,n=this.defaultGraph()){return new Qr(e,t,r,n)}fromTerm(e){return ei(this,e)}fromQuad(e){return ei(this,e)}};fn.exports=["blankNode","defaultGraph","fromQuad","fromTerm","literal","namedNode","quad","variable"];const Zn=new fn,Jn={apply:(s,e,t)=>s(t[0]),get:(s,e)=>s(e)};function Ys(s,{factory:e=Zn}={}){const t=(r="")=>e.namedNode(`${s}${r.raw||r}`);return typeof Proxy>"u"?t:new Proxy(t,Jn)}var st={},Ft={},ri;function cn(){if(ri)return Ft;ri=1,Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.BlankNode=void 0;class s{constructor(t){this.termType="BlankNode",this.value=t}equals(t){return!!t&&t.termType==="BlankNode"&&t.value===this.value}}return Ft.BlankNode=s,Ft}var vt={},Dt={},ii;function dn(){if(ii)return Dt;ii=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.DefaultGraph=void 0;class s{constructor(){this.termType="DefaultGraph",this.value=""}equals(t){return!!t&&t.termType==="DefaultGraph"}}return Dt.DefaultGraph=s,s.INSTANCE=new s,Dt}var Ct={},Pt={},ni;function zr(){if(ni)return Pt;ni=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.NamedNode=void 0;class s{constructor(t){this.termType="NamedNode",this.value=t}equals(t){return!!t&&t.termType==="NamedNode"&&t.value===this.value}}return Pt.NamedNode=s,Pt}var si;function hn(){if(si)return Ct;si=1,Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.Literal=void 0;const s=zr();class e{constructor(r,n){this.termType="Literal",this.value=r,typeof n=="string"?(this.language=n,this.datatype=e.RDF_LANGUAGE_STRING,this.direction=""):n?"termType"in n?(this.language="",this.datatype=n,this.direction=""):(this.language=n.language,this.datatype=n.direction?e.RDF_DIRECTIONAL_LANGUAGE_STRING:e.RDF_LANGUAGE_STRING,this.direction=n.direction||""):(this.language="",this.datatype=e.XSD_STRING,this.direction="")}equals(r){return!!r&&r.termType==="Literal"&&r.value===this.value&&r.language===this.language&&(r.direction===this.direction||!r.direction&&this.direction==="")&&this.datatype.equals(r.datatype)}}return Ct.Literal=e,e.RDF_LANGUAGE_STRING=new s.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),e.RDF_DIRECTIONAL_LANGUAGE_STRING=new s.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),e.XSD_STRING=new s.NamedNode("http://www.w3.org/2001/XMLSchema#string"),Ct}var jt={},ai;function pn(){if(ai)return jt;ai=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.Quad=void 0;class s{constructor(t,r,n,l){this.termType="Quad",this.value="",this.subject=t,this.predicate=r,this.object=n,this.graph=l}equals(t){return!!t&&(t.termType==="Quad"||!t.termType)&&this.subject.equals(t.subject)&&this.predicate.equals(t.predicate)&&this.object.equals(t.object)&&this.graph.equals(t.graph)}}return jt.Quad=s,jt}var Lt={},oi;function _n(){if(oi)return Lt;oi=1,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.Variable=void 0;class s{constructor(t){this.termType="Variable",this.value=t}equals(t){return!!t&&t.termType==="Variable"&&t.value===this.value}}return Lt.Variable=s,Lt}var li;function es(){if(li)return vt;li=1,Object.defineProperty(vt,"__esModule",{value:!0}),vt.DataFactory=void 0;const s=cn(),e=dn(),t=hn(),r=zr(),n=pn(),l=_n();let f=0;class o{constructor(u){this.blankNodeCounter=0,u=u||{},this.blankNodePrefix=u.blankNodePrefix||`df_${f++}_`}namedNode(u){return new r.NamedNode(u)}blankNode(u){return new s.BlankNode(u||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(u,c){return new t.Literal(u,c)}variable(u){return new l.Variable(u)}defaultGraph(){return e.DefaultGraph.INSTANCE}quad(u,c,h,R){return new n.Quad(u,c,h,R||this.defaultGraph())}fromTerm(u){switch(u.termType){case"NamedNode":return this.namedNode(u.value);case"BlankNode":return this.blankNode(u.value);case"Literal":return u.language?this.literal(u.value,u.language):u.datatype.equals(t.Literal.XSD_STRING)?this.literal(u.value):this.literal(u.value,this.fromTerm(u.datatype));case"Variable":return this.variable(u.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(u.subject),this.fromTerm(u.predicate),this.fromTerm(u.object),this.fromTerm(u.graph))}}fromQuad(u){return this.fromTerm(u)}resetBlankNodeCounter(){this.blankNodeCounter=0}}return vt.DataFactory=o,vt}var ui;function ts(){return ui||(ui=1,(function(s){var e=st&&st.__createBinding||(Object.create?(function(r,n,l,f){f===void 0&&(f=l);var o=Object.getOwnPropertyDescriptor(n,l);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[l]}}),Object.defineProperty(r,f,o)}):(function(r,n,l,f){f===void 0&&(f=l),r[f]=n[l]})),t=st&&st.__exportStar||function(r,n){for(var l in r)l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&e(n,r,l)};Object.defineProperty(s,"__esModule",{value:!0}),t(cn(),s),t(es(),s),t(dn(),s),t(hn(),s),t(zr(),s),t(pn(),s),t(_n(),s)})(st)),st}var dr={exports:{}},fi;function ht(){if(fi)return dr.exports;fi=1;var s=dr.exports={},e,t;function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=r}catch{e=r}try{typeof clearTimeout=="function"?t=clearTimeout:t=n}catch{t=n}})();function l(I){if(e===setTimeout)return setTimeout(I,0);if((e===r||!e)&&setTimeout)return e=setTimeout,setTimeout(I,0);try{return e(I,0)}catch{try{return e.call(null,I,0)}catch{return e.call(this,I,0)}}}function f(I){if(t===clearTimeout)return clearTimeout(I);if((t===n||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(I);try{return t(I)}catch{try{return t.call(null,I)}catch{return t.call(this,I)}}}var o=[],g=!1,u,c=-1;function h(){!g||!u||(g=!1,u.length?o=u.concat(o):c=-1,o.length&&R())}function R(){if(!g){var I=l(h);g=!0;for(var x=o.length;x;){for(u=o,o=[];++c<x;)u&&u[c].run();c=-1,x=o.length}u=null,g=!1,f(I)}}s.nextTick=function(I){var x=new Array(arguments.length-1);if(arguments.length>1)for(var _=1;_<arguments.length;_++)x[_-1]=arguments[_];o.push(new D(I,x)),o.length===1&&!g&&l(R)};function D(I,x){this.fun=I,this.array=x}D.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={};function N(){}return s.on=N,s.addListener=N,s.once=N,s.off=N,s.removeListener=N,s.removeAllListeners=N,s.emit=N,s.prependListener=N,s.prependOnceListener=N,s.listeners=function(I){return[]},s.binding=function(I){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(I){throw new Error("process.chdir is not supported")},s.umask=function(){return 0},dr.exports}var Zt={exports:{}},ci;function lr(){if(ci)return Zt.exports;ci=1;var s=typeof Reflect=="object"?Reflect:null,e=s&&typeof s.apply=="function"?s.apply:function(S,H,Y){return Function.prototype.apply.call(S,H,Y)},t;s&&typeof s.ownKeys=="function"?t=s.ownKeys:Object.getOwnPropertySymbols?t=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:t=function(S){return Object.getOwnPropertyNames(S)};function r(C){console&&console.warn&&console.warn(C)}var n=Number.isNaN||function(S){return S!==S};function l(){l.init.call(this)}Zt.exports=l,Zt.exports.once=_,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var f=10;function o(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(C){if(typeof C!="number"||C<0||n(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");f=C}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||n(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function g(C){return C._maxListeners===void 0?l.defaultMaxListeners:C._maxListeners}l.prototype.getMaxListeners=function(){return g(this)},l.prototype.emit=function(S){for(var H=[],Y=1;Y<arguments.length;Y++)H.push(arguments[Y]);var X=S==="error",he=this._events;if(he!==void 0)X=X&&he.error===void 0;else if(!X)return!1;if(X){var B;if(H.length>0&&(B=H[0]),B instanceof Error)throw B;var $=new Error("Unhandled error."+(B?" ("+B.message+")":""));throw $.context=B,$}var Z=he[S];if(Z===void 0)return!1;if(typeof Z=="function")e(Z,this,H);else for(var L=Z.length,ae=N(Z,L),Y=0;Y<L;++Y)e(ae[Y],this,H);return!0};function u(C,S,H,Y){var X,he,B;if(o(H),he=C._events,he===void 0?(he=C._events=Object.create(null),C._eventsCount=0):(he.newListener!==void 0&&(C.emit("newListener",S,H.listener?H.listener:H),he=C._events),B=he[S]),B===void 0)B=he[S]=H,++C._eventsCount;else if(typeof B=="function"?B=he[S]=Y?[H,B]:[B,H]:Y?B.unshift(H):B.push(H),X=g(C),X>0&&B.length>X&&!B.warned){B.warned=!0;var $=new Error("Possible EventEmitter memory leak detected. "+B.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");$.name="MaxListenersExceededWarning",$.emitter=C,$.type=S,$.count=B.length,r($)}return C}l.prototype.addListener=function(S,H){return u(this,S,H,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(S,H){return u(this,S,H,!0)};function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(C,S,H){var Y={fired:!1,wrapFn:void 0,target:C,type:S,listener:H},X=c.bind(Y);return X.listener=H,Y.wrapFn=X,X}l.prototype.once=function(S,H){return o(H),this.on(S,h(this,S,H)),this},l.prototype.prependOnceListener=function(S,H){return o(H),this.prependListener(S,h(this,S,H)),this},l.prototype.removeListener=function(S,H){var Y,X,he,B,$;if(o(H),X=this._events,X===void 0)return this;if(Y=X[S],Y===void 0)return this;if(Y===H||Y.listener===H)--this._eventsCount===0?this._events=Object.create(null):(delete X[S],X.removeListener&&this.emit("removeListener",S,Y.listener||H));else if(typeof Y!="function"){for(he=-1,B=Y.length-1;B>=0;B--)if(Y[B]===H||Y[B].listener===H){$=Y[B].listener,he=B;break}if(he<0)return this;he===0?Y.shift():I(Y,he),Y.length===1&&(X[S]=Y[0]),X.removeListener!==void 0&&this.emit("removeListener",S,$||H)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(S){var H,Y,X;if(Y=this._events,Y===void 0)return this;if(Y.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Y[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Y[S]),this;if(arguments.length===0){var he=Object.keys(Y),B;for(X=0;X<he.length;++X)B=he[X],B!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(H=Y[S],typeof H=="function")this.removeListener(S,H);else if(H!==void 0)for(X=H.length-1;X>=0;X--)this.removeListener(S,H[X]);return this};function R(C,S,H){var Y=C._events;if(Y===void 0)return[];var X=Y[S];return X===void 0?[]:typeof X=="function"?H?[X.listener||X]:[X]:H?x(X):N(X,X.length)}l.prototype.listeners=function(S){return R(this,S,!0)},l.prototype.rawListeners=function(S){return R(this,S,!1)},l.listenerCount=function(C,S){return typeof C.listenerCount=="function"?C.listenerCount(S):D.call(C,S)},l.prototype.listenerCount=D;function D(C){var S=this._events;if(S!==void 0){var H=S[C];if(typeof H=="function")return 1;if(H!==void 0)return H.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function N(C,S){for(var H=new Array(S),Y=0;Y<S;++Y)H[Y]=C[Y];return H}function I(C,S){for(;S+1<C.length;S++)C[S]=C[S+1];C.pop()}function x(C){for(var S=new Array(C.length),H=0;H<S.length;++H)S[H]=C[H].listener||C[H];return S}function _(C,S){return new Promise(function(H,Y){function X(B){C.removeListener(S,he),Y(B)}function he(){typeof C.removeListener=="function"&&C.removeListener("error",X),H([].slice.call(arguments))}y(C,S,he,{once:!0}),S!=="error"&&E(C,X,{once:!0})})}function E(C,S,H){typeof C.on=="function"&&y(C,"error",S,H)}function y(C,S,H,Y){if(typeof C.on=="function")Y.once?C.once(S,H):C.on(S,H);else if(typeof C.addEventListener=="function")C.addEventListener(S,function X(he){Y.once&&C.removeEventListener(S,X),H(he)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return Zt.exports}var at={},Ke={},di;function rs(){if(di)return Ke;di=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.removeDotSegmentsOfPath=Ke.removeDotSegments=Ke.resolve=void 0;function s(n,l){l=l||"";const f=l.indexOf("#");if(f>0&&(l=l.substr(0,f)),!n.length){if(l.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${l}' for value '${n}'`);return l}if(n.startsWith("?")){const D=l.indexOf("?");return D>0&&(l=l.substr(0,D)),l+n}if(n.startsWith("#"))return l+n;if(!l.length){const D=n.indexOf(":");if(D<0)throw new Error(`Found invalid relative IRI '${n}' for a missing baseIRI`);return t(n,D)}const o=n.indexOf(":");if(o>=0)return t(n,o);const g=l.indexOf(":");if(g<0)throw new Error(`Found invalid baseIRI '${l}' for value '${n}'`);const u=l.substr(0,g+1);if(n.indexOf("//")===0)return u+t(n,o);let c;if(l.indexOf("//",g)===g+1){if(c=l.indexOf("/",g+3),c<0)return l.length>g+3?l+"/"+t(n,o):u+t(n,o)}else if(c=l.indexOf("/",g+1),c<0)return u+t(n,o);if(n.indexOf("/")===0)return l.substr(0,c)+e(n);let h=l.substr(c);const R=h.lastIndexOf("/");return R>=0&&R<h.length-1&&(h=h.substr(0,R+1),n[0]==="."&&n[1]!=="."&&n[1]!=="/"&&n[2]&&(n=n.substr(1))),n=h+n,n=e(n),l.substr(0,c)+n}Ke.resolve=s;function e(n){const l=[];let f=0;for(;f<n.length;)switch(n[f]){case"/":if(n[f+1]===".")if(n[f+2]==="."){if(!r(n[f+3])){l.push([]),f++;break}l.pop(),n[f+3]||l.push([]),f+=3}else{if(!r(n[f+2])){l.push([]),f++;break}n[f+2]||l.push([]),f+=2}else l.push([]),f++;break;case"#":case"?":l.length||l.push([]),l[l.length-1].push(n.substr(f)),f=n.length;break;default:l.length||l.push([]),l[l.length-1].push(n[f]),f++;break}return"/"+l.map(o=>o.join("")).join("/")}Ke.removeDotSegments=e;function t(n,l){let f=l+1;l>=0?n[l+1]==="/"&&n[l+2]==="/"&&(f=l+3):n[0]==="/"&&n[1]==="/"&&(f=2);const o=n.indexOf("/",f);if(o<0)return n;const g=n.substr(0,o),u=n.substr(o);return g+e(u)}Ke.removeDotSegmentsOfPath=t;function r(n){return!n||n==="#"||n==="?"||n==="/"}return Ke}var hi;function is(){return hi||(hi=1,(function(s){var e=at&&at.__createBinding||(Object.create?(function(r,n,l,f){f===void 0&&(f=l),Object.defineProperty(r,f,{enumerable:!0,get:function(){return n[l]}})}):(function(r,n,l,f){f===void 0&&(f=l),r[f]=n[l]})),t=at&&at.__exportStar||function(r,n){for(var l in r)l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&e(n,r,l)};Object.defineProperty(s,"__esModule",{value:!0}),t(rs(),s)})(at)),at}var hr={exports:{}},pr={exports:{}},_r={},Bt={},pi;function ns(){if(pi)return Bt;pi=1,Bt.byteLength=o,Bt.toByteArray=u,Bt.fromByteArray=R;for(var s=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,l=r.length;n<l;++n)s[n]=r[n],e[r.charCodeAt(n)]=n;e[45]=62,e[95]=63;function f(D){var N=D.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var I=D.indexOf("=");I===-1&&(I=N);var x=I===N?0:4-I%4;return[I,x]}function o(D){var N=f(D),I=N[0],x=N[1];return(I+x)*3/4-x}function g(D,N,I){return(N+I)*3/4-I}function u(D){var N,I=f(D),x=I[0],_=I[1],E=new t(g(D,x,_)),y=0,C=_>0?x-4:x,S;for(S=0;S<C;S+=4)N=e[D.charCodeAt(S)]<<18|e[D.charCodeAt(S+1)]<<12|e[D.charCodeAt(S+2)]<<6|e[D.charCodeAt(S+3)],E[y++]=N>>16&255,E[y++]=N>>8&255,E[y++]=N&255;return _===2&&(N=e[D.charCodeAt(S)]<<2|e[D.charCodeAt(S+1)]>>4,E[y++]=N&255),_===1&&(N=e[D.charCodeAt(S)]<<10|e[D.charCodeAt(S+1)]<<4|e[D.charCodeAt(S+2)]>>2,E[y++]=N>>8&255,E[y++]=N&255),E}function c(D){return s[D>>18&63]+s[D>>12&63]+s[D>>6&63]+s[D&63]}function h(D,N,I){for(var x,_=[],E=N;E<I;E+=3)x=(D[E]<<16&16711680)+(D[E+1]<<8&65280)+(D[E+2]&255),_.push(c(x));return _.join("")}function R(D){for(var N,I=D.length,x=I%3,_=[],E=16383,y=0,C=I-x;y<C;y+=E)_.push(h(D,y,y+E>C?C:y+E));return x===1?(N=D[I-1],_.push(s[N>>2]+s[N<<4&63]+"==")):x===2&&(N=(D[I-2]<<8)+D[I-1],_.push(s[N>>10]+s[N>>4&63]+s[N<<2&63]+"=")),_.join("")}return Bt}var Jt={};var _i;function ss(){return _i||(_i=1,Jt.read=function(s,e,t,r,n){var l,f,o=n*8-r-1,g=(1<<o)-1,u=g>>1,c=-7,h=t?n-1:0,R=t?-1:1,D=s[e+h];for(h+=R,l=D&(1<<-c)-1,D>>=-c,c+=o;c>0;l=l*256+s[e+h],h+=R,c-=8);for(f=l&(1<<-c)-1,l>>=-c,c+=r;c>0;f=f*256+s[e+h],h+=R,c-=8);if(l===0)l=1-u;else{if(l===g)return f?NaN:(D?-1:1)*(1/0);f=f+Math.pow(2,r),l=l-u}return(D?-1:1)*f*Math.pow(2,l-r)},Jt.write=function(s,e,t,r,n,l){var f,o,g,u=l*8-n-1,c=(1<<u)-1,h=c>>1,R=n===23?Math.pow(2,-24)-Math.pow(2,-77):0,D=r?0:l-1,N=r?1:-1,I=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,f=c):(f=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-f))<1&&(f--,g*=2),f+h>=1?e+=R/g:e+=R*Math.pow(2,1-h),e*g>=2&&(f++,g/=2),f+h>=c?(o=0,f=c):f+h>=1?(o=(e*g-1)*Math.pow(2,n),f=f+h):(o=e*Math.pow(2,h-1)*Math.pow(2,n),f=0));n>=8;s[t+D]=o&255,D+=N,o/=256,n-=8);for(f=f<<n|o,u+=n;u>0;s[t+D]=f&255,D+=N,f/=256,u-=8);s[t+D-N]|=I*128}),Jt}var bi;function Ze(){return bi||(bi=1,(function(s){const e=ns(),t=ss(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=o,s.SlowBuffer=E,s.INSPECT_MAX_BYTES=50;const n=2147483647;s.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=l(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const d=new Uint8Array(1),i={foo:function(){return 42}};return Object.setPrototypeOf(i,Uint8Array.prototype),Object.setPrototypeOf(d,i),d.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function f(d){if(d>n)throw new RangeError('The value "'+d+'" is invalid for option "size"');const i=new Uint8Array(d);return Object.setPrototypeOf(i,o.prototype),i}function o(d,i,a){if(typeof d=="number"){if(typeof i=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(d)}return g(d,i,a)}o.poolSize=8192;function g(d,i,a){if(typeof d=="string")return R(d,i);if(ArrayBuffer.isView(d))return N(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(W(d,ArrayBuffer)||d&&W(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(W(d,SharedArrayBuffer)||d&&W(d.buffer,SharedArrayBuffer)))return I(d,i,a);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const b=d.valueOf&&d.valueOf();if(b!=null&&b!==d)return o.from(b,i,a);const A=x(d);if(A)return A;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return o.from(d[Symbol.toPrimitive]("string"),i,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}o.from=function(d,i,a){return g(d,i,a)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function c(d,i,a){return u(d),d<=0?f(d):i!==void 0?typeof a=="string"?f(d).fill(i,a):f(d).fill(i):f(d)}o.alloc=function(d,i,a){return c(d,i,a)};function h(d){return u(d),f(d<0?0:_(d)|0)}o.allocUnsafe=function(d){return h(d)},o.allocUnsafeSlow=function(d){return h(d)};function R(d,i){if((typeof i!="string"||i==="")&&(i="utf8"),!o.isEncoding(i))throw new TypeError("Unknown encoding: "+i);const a=y(d,i)|0;let b=f(a);const A=b.write(d,i);return A!==a&&(b=b.slice(0,A)),b}function D(d){const i=d.length<0?0:_(d.length)|0,a=f(i);for(let b=0;b<i;b+=1)a[b]=d[b]&255;return a}function N(d){if(W(d,Uint8Array)){const i=new Uint8Array(d);return I(i.buffer,i.byteOffset,i.byteLength)}return D(d)}function I(d,i,a){if(i<0||d.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<i+(a||0))throw new RangeError('"length" is outside of buffer bounds');let b;return i===void 0&&a===void 0?b=new Uint8Array(d):a===void 0?b=new Uint8Array(d,i):b=new Uint8Array(d,i,a),Object.setPrototypeOf(b,o.prototype),b}function x(d){if(o.isBuffer(d)){const i=_(d.length)|0,a=f(i);return a.length===0||d.copy(a,0,0,i),a}if(d.length!==void 0)return typeof d.length!="number"||Se(d.length)?f(0):D(d);if(d.type==="Buffer"&&Array.isArray(d.data))return D(d.data)}function _(d){if(d>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return d|0}function E(d){return+d!=d&&(d=0),o.alloc(+d)}o.isBuffer=function(i){return i!=null&&i._isBuffer===!0&&i!==o.prototype},o.compare=function(i,a){if(W(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),W(a,Uint8Array)&&(a=o.from(a,a.offset,a.byteLength)),!o.isBuffer(i)||!o.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(i===a)return 0;let b=i.length,A=a.length;for(let M=0,z=Math.min(b,A);M<z;++M)if(i[M]!==a[M]){b=i[M],A=a[M];break}return b<A?-1:A<b?1:0},o.isEncoding=function(i){switch(String(i).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(i,a){if(!Array.isArray(i))throw new TypeError('"list" argument must be an Array of Buffers');if(i.length===0)return o.alloc(0);let b;if(a===void 0)for(a=0,b=0;b<i.length;++b)a+=i[b].length;const A=o.allocUnsafe(a);let M=0;for(b=0;b<i.length;++b){let z=i[b];if(W(z,Uint8Array))M+z.length>A.length?(o.isBuffer(z)||(z=o.from(z)),z.copy(A,M)):Uint8Array.prototype.set.call(A,z,M);else if(o.isBuffer(z))z.copy(A,M);else throw new TypeError('"list" argument must be an Array of Buffers');M+=z.length}return A};function y(d,i){if(o.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||W(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const a=d.length,b=arguments.length>2&&arguments[2]===!0;if(!b&&a===0)return 0;let A=!1;for(;;)switch(i){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return ie(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return K(d).length;default:if(A)return b?-1:ie(d).length;i=(""+i).toLowerCase(),A=!0}}o.byteLength=y;function C(d,i,a){let b=!1;if((i===void 0||i<0)&&(i=0),i>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,i>>>=0,a<=i))return"";for(d||(d="utf8");;)switch(d){case"hex":return de(this,i,a);case"utf8":case"utf-8":return ae(this,i,a);case"ascii":return we(this,i,a);case"latin1":case"binary":return V(this,i,a);case"base64":return L(this,i,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,i,a);default:if(b)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),b=!0}}o.prototype._isBuffer=!0;function S(d,i,a){const b=d[i];d[i]=d[a],d[a]=b}o.prototype.swap16=function(){const i=this.length;if(i%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<i;a+=2)S(this,a,a+1);return this},o.prototype.swap32=function(){const i=this.length;if(i%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<i;a+=4)S(this,a,a+3),S(this,a+1,a+2);return this},o.prototype.swap64=function(){const i=this.length;if(i%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<i;a+=8)S(this,a,a+7),S(this,a+1,a+6),S(this,a+2,a+5),S(this,a+3,a+4);return this},o.prototype.toString=function(){const i=this.length;return i===0?"":arguments.length===0?ae(this,0,i):C.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(i){if(!o.isBuffer(i))throw new TypeError("Argument must be a Buffer");return this===i?!0:o.compare(this,i)===0},o.prototype.inspect=function(){let i="";const a=s.INSPECT_MAX_BYTES;return i=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(i+=" ... "),"<Buffer "+i+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(i,a,b,A,M){if(W(i,Uint8Array)&&(i=o.from(i,i.offset,i.byteLength)),!o.isBuffer(i))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof i);if(a===void 0&&(a=0),b===void 0&&(b=i?i.length:0),A===void 0&&(A=0),M===void 0&&(M=this.length),a<0||b>i.length||A<0||M>this.length)throw new RangeError("out of range index");if(A>=M&&a>=b)return 0;if(A>=M)return-1;if(a>=b)return 1;if(a>>>=0,b>>>=0,A>>>=0,M>>>=0,this===i)return 0;let z=M-A,me=b-a;const ve=Math.min(z,me),Ne=this.slice(A,M),Ae=i.slice(a,b);for(let Te=0;Te<ve;++Te)if(Ne[Te]!==Ae[Te]){z=Ne[Te],me=Ae[Te];break}return z<me?-1:me<z?1:0};function H(d,i,a,b,A){if(d.length===0)return-1;if(typeof a=="string"?(b=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Se(a)&&(a=A?0:d.length-1),a<0&&(a=d.length+a),a>=d.length){if(A)return-1;a=d.length-1}else if(a<0)if(A)a=0;else return-1;if(typeof i=="string"&&(i=o.from(i,b)),o.isBuffer(i))return i.length===0?-1:Y(d,i,a,b,A);if(typeof i=="number")return i=i&255,typeof Uint8Array.prototype.indexOf=="function"?A?Uint8Array.prototype.indexOf.call(d,i,a):Uint8Array.prototype.lastIndexOf.call(d,i,a):Y(d,[i],a,b,A);throw new TypeError("val must be string, number or Buffer")}function Y(d,i,a,b,A){let M=1,z=d.length,me=i.length;if(b!==void 0&&(b=String(b).toLowerCase(),b==="ucs2"||b==="ucs-2"||b==="utf16le"||b==="utf-16le")){if(d.length<2||i.length<2)return-1;M=2,z/=2,me/=2,a/=2}function ve(Ae,Te){return M===1?Ae[Te]:Ae.readUInt16BE(Te*M)}let Ne;if(A){let Ae=-1;for(Ne=a;Ne<z;Ne++)if(ve(d,Ne)===ve(i,Ae===-1?0:Ne-Ae)){if(Ae===-1&&(Ae=Ne),Ne-Ae+1===me)return Ae*M}else Ae!==-1&&(Ne-=Ne-Ae),Ae=-1}else for(a+me>z&&(a=z-me),Ne=a;Ne>=0;Ne--){let Ae=!0;for(let Te=0;Te<me;Te++)if(ve(d,Ne+Te)!==ve(i,Te)){Ae=!1;break}if(Ae)return Ne}return-1}o.prototype.includes=function(i,a,b){return this.indexOf(i,a,b)!==-1},o.prototype.indexOf=function(i,a,b){return H(this,i,a,b,!0)},o.prototype.lastIndexOf=function(i,a,b){return H(this,i,a,b,!1)};function X(d,i,a,b){a=Number(a)||0;const A=d.length-a;b?(b=Number(b),b>A&&(b=A)):b=A;const M=i.length;b>M/2&&(b=M/2);let z;for(z=0;z<b;++z){const me=parseInt(i.substr(z*2,2),16);if(Se(me))return z;d[a+z]=me}return z}function he(d,i,a,b){return ee(ie(i,d.length-a),d,a,b)}function B(d,i,a,b){return ee(te(i),d,a,b)}function $(d,i,a,b){return ee(K(i),d,a,b)}function Z(d,i,a,b){return ee(F(i,d.length-a),d,a,b)}o.prototype.write=function(i,a,b,A){if(a===void 0)A="utf8",b=this.length,a=0;else if(b===void 0&&typeof a=="string")A=a,b=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(b)?(b=b>>>0,A===void 0&&(A="utf8")):(A=b,b=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const M=this.length-a;if((b===void 0||b>M)&&(b=M),i.length>0&&(b<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");A||(A="utf8");let z=!1;for(;;)switch(A){case"hex":return X(this,i,a,b);case"utf8":case"utf-8":return he(this,i,a,b);case"ascii":case"latin1":case"binary":return B(this,i,a,b);case"base64":return $(this,i,a,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,i,a,b);default:if(z)throw new TypeError("Unknown encoding: "+A);A=(""+A).toLowerCase(),z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function L(d,i,a){return i===0&&a===d.length?e.fromByteArray(d):e.fromByteArray(d.slice(i,a))}function ae(d,i,a){a=Math.min(d.length,a);const b=[];let A=i;for(;A<a;){const M=d[A];let z=null,me=M>239?4:M>223?3:M>191?2:1;if(A+me<=a){let ve,Ne,Ae,Te;switch(me){case 1:M<128&&(z=M);break;case 2:ve=d[A+1],(ve&192)===128&&(Te=(M&31)<<6|ve&63,Te>127&&(z=Te));break;case 3:ve=d[A+1],Ne=d[A+2],(ve&192)===128&&(Ne&192)===128&&(Te=(M&15)<<12|(ve&63)<<6|Ne&63,Te>2047&&(Te<55296||Te>57343)&&(z=Te));break;case 4:ve=d[A+1],Ne=d[A+2],Ae=d[A+3],(ve&192)===128&&(Ne&192)===128&&(Ae&192)===128&&(Te=(M&15)<<18|(ve&63)<<12|(Ne&63)<<6|Ae&63,Te>65535&&Te<1114112&&(z=Te))}}z===null?(z=65533,me=1):z>65535&&(z-=65536,b.push(z>>>10&1023|55296),z=56320|z&1023),b.push(z),A+=me}return oe(b)}const ue=4096;function oe(d){const i=d.length;if(i<=ue)return String.fromCharCode.apply(String,d);let a="",b=0;for(;b<i;)a+=String.fromCharCode.apply(String,d.slice(b,b+=ue));return a}function we(d,i,a){let b="";a=Math.min(d.length,a);for(let A=i;A<a;++A)b+=String.fromCharCode(d[A]&127);return b}function V(d,i,a){let b="";a=Math.min(d.length,a);for(let A=i;A<a;++A)b+=String.fromCharCode(d[A]);return b}function de(d,i,a){const b=d.length;(!i||i<0)&&(i=0),(!a||a<0||a>b)&&(a=b);let A="";for(let M=i;M<a;++M)A+=Be[d[M]];return A}function T(d,i,a){const b=d.slice(i,a);let A="";for(let M=0;M<b.length-1;M+=2)A+=String.fromCharCode(b[M]+b[M+1]*256);return A}o.prototype.slice=function(i,a){const b=this.length;i=~~i,a=a===void 0?b:~~a,i<0?(i+=b,i<0&&(i=0)):i>b&&(i=b),a<0?(a+=b,a<0&&(a=0)):a>b&&(a=b),a<i&&(a=i);const A=this.subarray(i,a);return Object.setPrototypeOf(A,o.prototype),A};function U(d,i,a){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+i>a)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(i,a,b){i=i>>>0,a=a>>>0,b||U(i,a,this.length);let A=this[i],M=1,z=0;for(;++z<a&&(M*=256);)A+=this[i+z]*M;return A},o.prototype.readUintBE=o.prototype.readUIntBE=function(i,a,b){i=i>>>0,a=a>>>0,b||U(i,a,this.length);let A=this[i+--a],M=1;for(;a>0&&(M*=256);)A+=this[i+--a]*M;return A},o.prototype.readUint8=o.prototype.readUInt8=function(i,a){return i=i>>>0,a||U(i,1,this.length),this[i]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(i,a){return i=i>>>0,a||U(i,2,this.length),this[i]|this[i+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(i,a){return i=i>>>0,a||U(i,2,this.length),this[i]<<8|this[i+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(i,a){return i=i>>>0,a||U(i,4,this.length),(this[i]|this[i+1]<<8|this[i+2]<<16)+this[i+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(i,a){return i=i>>>0,a||U(i,4,this.length),this[i]*16777216+(this[i+1]<<16|this[i+2]<<8|this[i+3])},o.prototype.readBigUInt64LE=xe(function(i){i=i>>>0,v(i,"offset");const a=this[i],b=this[i+7];(a===void 0||b===void 0)&&P(i,this.length-8);const A=a+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24,M=this[++i]+this[++i]*2**8+this[++i]*2**16+b*2**24;return BigInt(A)+(BigInt(M)<<BigInt(32))}),o.prototype.readBigUInt64BE=xe(function(i){i=i>>>0,v(i,"offset");const a=this[i],b=this[i+7];(a===void 0||b===void 0)&&P(i,this.length-8);const A=a*2**24+this[++i]*2**16+this[++i]*2**8+this[++i],M=this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+b;return(BigInt(A)<<BigInt(32))+BigInt(M)}),o.prototype.readIntLE=function(i,a,b){i=i>>>0,a=a>>>0,b||U(i,a,this.length);let A=this[i],M=1,z=0;for(;++z<a&&(M*=256);)A+=this[i+z]*M;return M*=128,A>=M&&(A-=Math.pow(2,8*a)),A},o.prototype.readIntBE=function(i,a,b){i=i>>>0,a=a>>>0,b||U(i,a,this.length);let A=a,M=1,z=this[i+--A];for(;A>0&&(M*=256);)z+=this[i+--A]*M;return M*=128,z>=M&&(z-=Math.pow(2,8*a)),z},o.prototype.readInt8=function(i,a){return i=i>>>0,a||U(i,1,this.length),this[i]&128?(255-this[i]+1)*-1:this[i]},o.prototype.readInt16LE=function(i,a){i=i>>>0,a||U(i,2,this.length);const b=this[i]|this[i+1]<<8;return b&32768?b|4294901760:b},o.prototype.readInt16BE=function(i,a){i=i>>>0,a||U(i,2,this.length);const b=this[i+1]|this[i]<<8;return b&32768?b|4294901760:b},o.prototype.readInt32LE=function(i,a){return i=i>>>0,a||U(i,4,this.length),this[i]|this[i+1]<<8|this[i+2]<<16|this[i+3]<<24},o.prototype.readInt32BE=function(i,a){return i=i>>>0,a||U(i,4,this.length),this[i]<<24|this[i+1]<<16|this[i+2]<<8|this[i+3]},o.prototype.readBigInt64LE=xe(function(i){i=i>>>0,v(i,"offset");const a=this[i],b=this[i+7];(a===void 0||b===void 0)&&P(i,this.length-8);const A=this[i+4]+this[i+5]*2**8+this[i+6]*2**16+(b<<24);return(BigInt(A)<<BigInt(32))+BigInt(a+this[++i]*2**8+this[++i]*2**16+this[++i]*2**24)}),o.prototype.readBigInt64BE=xe(function(i){i=i>>>0,v(i,"offset");const a=this[i],b=this[i+7];(a===void 0||b===void 0)&&P(i,this.length-8);const A=(a<<24)+this[++i]*2**16+this[++i]*2**8+this[++i];return(BigInt(A)<<BigInt(32))+BigInt(this[++i]*2**24+this[++i]*2**16+this[++i]*2**8+b)}),o.prototype.readFloatLE=function(i,a){return i=i>>>0,a||U(i,4,this.length),t.read(this,i,!0,23,4)},o.prototype.readFloatBE=function(i,a){return i=i>>>0,a||U(i,4,this.length),t.read(this,i,!1,23,4)},o.prototype.readDoubleLE=function(i,a){return i=i>>>0,a||U(i,8,this.length),t.read(this,i,!0,52,8)},o.prototype.readDoubleBE=function(i,a){return i=i>>>0,a||U(i,8,this.length),t.read(this,i,!1,52,8)};function re(d,i,a,b,A,M){if(!o.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(i>A||i<M)throw new RangeError('"value" argument is out of bounds');if(a+b>d.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(i,a,b,A){if(i=+i,a=a>>>0,b=b>>>0,!A){const me=Math.pow(2,8*b)-1;re(this,i,a,b,me,0)}let M=1,z=0;for(this[a]=i&255;++z<b&&(M*=256);)this[a+z]=i/M&255;return a+b},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(i,a,b,A){if(i=+i,a=a>>>0,b=b>>>0,!A){const me=Math.pow(2,8*b)-1;re(this,i,a,b,me,0)}let M=b-1,z=1;for(this[a+M]=i&255;--M>=0&&(z*=256);)this[a+M]=i/z&255;return a+b},o.prototype.writeUint8=o.prototype.writeUInt8=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,1,255,0),this[a]=i&255,a+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,2,65535,0),this[a]=i&255,this[a+1]=i>>>8,a+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,2,65535,0),this[a]=i>>>8,this[a+1]=i&255,a+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,4,4294967295,0),this[a+3]=i>>>24,this[a+2]=i>>>16,this[a+1]=i>>>8,this[a]=i&255,a+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,4,4294967295,0),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=i&255,a+4};function G(d,i,a,b,A){be(i,b,A,d,a,7);let M=Number(i&BigInt(4294967295));d[a++]=M,M=M>>8,d[a++]=M,M=M>>8,d[a++]=M,M=M>>8,d[a++]=M;let z=Number(i>>BigInt(32)&BigInt(4294967295));return d[a++]=z,z=z>>8,d[a++]=z,z=z>>8,d[a++]=z,z=z>>8,d[a++]=z,a}function fe(d,i,a,b,A){be(i,b,A,d,a,7);let M=Number(i&BigInt(4294967295));d[a+7]=M,M=M>>8,d[a+6]=M,M=M>>8,d[a+5]=M,M=M>>8,d[a+4]=M;let z=Number(i>>BigInt(32)&BigInt(4294967295));return d[a+3]=z,z=z>>8,d[a+2]=z,z=z>>8,d[a+1]=z,z=z>>8,d[a]=z,a+8}o.prototype.writeBigUInt64LE=xe(function(i,a=0){return G(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=xe(function(i,a=0){return fe(this,i,a,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(i,a,b,A){if(i=+i,a=a>>>0,!A){const ve=Math.pow(2,8*b-1);re(this,i,a,b,ve-1,-ve)}let M=0,z=1,me=0;for(this[a]=i&255;++M<b&&(z*=256);)i<0&&me===0&&this[a+M-1]!==0&&(me=1),this[a+M]=(i/z>>0)-me&255;return a+b},o.prototype.writeIntBE=function(i,a,b,A){if(i=+i,a=a>>>0,!A){const ve=Math.pow(2,8*b-1);re(this,i,a,b,ve-1,-ve)}let M=b-1,z=1,me=0;for(this[a+M]=i&255;--M>=0&&(z*=256);)i<0&&me===0&&this[a+M+1]!==0&&(me=1),this[a+M]=(i/z>>0)-me&255;return a+b},o.prototype.writeInt8=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,1,127,-128),i<0&&(i=255+i+1),this[a]=i&255,a+1},o.prototype.writeInt16LE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,2,32767,-32768),this[a]=i&255,this[a+1]=i>>>8,a+2},o.prototype.writeInt16BE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,2,32767,-32768),this[a]=i>>>8,this[a+1]=i&255,a+2},o.prototype.writeInt32LE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,4,2147483647,-2147483648),this[a]=i&255,this[a+1]=i>>>8,this[a+2]=i>>>16,this[a+3]=i>>>24,a+4},o.prototype.writeInt32BE=function(i,a,b){return i=+i,a=a>>>0,b||re(this,i,a,4,2147483647,-2147483648),i<0&&(i=4294967295+i+1),this[a]=i>>>24,this[a+1]=i>>>16,this[a+2]=i>>>8,this[a+3]=i&255,a+4},o.prototype.writeBigInt64LE=xe(function(i,a=0){return G(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=xe(function(i,a=0){return fe(this,i,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function _e(d,i,a,b,A,M){if(a+b>d.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Ee(d,i,a,b,A){return i=+i,a=a>>>0,A||_e(d,i,a,4),t.write(d,i,a,b,23,4),a+4}o.prototype.writeFloatLE=function(i,a,b){return Ee(this,i,a,!0,b)},o.prototype.writeFloatBE=function(i,a,b){return Ee(this,i,a,!1,b)};function ye(d,i,a,b,A){return i=+i,a=a>>>0,A||_e(d,i,a,8),t.write(d,i,a,b,52,8),a+8}o.prototype.writeDoubleLE=function(i,a,b){return ye(this,i,a,!0,b)},o.prototype.writeDoubleBE=function(i,a,b){return ye(this,i,a,!1,b)},o.prototype.copy=function(i,a,b,A){if(!o.isBuffer(i))throw new TypeError("argument should be a Buffer");if(b||(b=0),!A&&A!==0&&(A=this.length),a>=i.length&&(a=i.length),a||(a=0),A>0&&A<b&&(A=b),A===b||i.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("sourceEnd out of bounds");A>this.length&&(A=this.length),i.length-a<A-b&&(A=i.length-a+b);const M=A-b;return this===i&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,b,A):Uint8Array.prototype.set.call(i,this.subarray(b,A),a),M},o.prototype.fill=function(i,a,b,A){if(typeof i=="string"){if(typeof a=="string"?(A=a,a=0,b=this.length):typeof b=="string"&&(A=b,b=this.length),A!==void 0&&typeof A!="string")throw new TypeError("encoding must be a string");if(typeof A=="string"&&!o.isEncoding(A))throw new TypeError("Unknown encoding: "+A);if(i.length===1){const z=i.charCodeAt(0);(A==="utf8"&&z<128||A==="latin1")&&(i=z)}}else typeof i=="number"?i=i&255:typeof i=="boolean"&&(i=Number(i));if(a<0||this.length<a||this.length<b)throw new RangeError("Out of range index");if(b<=a)return this;a=a>>>0,b=b===void 0?this.length:b>>>0,i||(i=0);let M;if(typeof i=="number")for(M=a;M<b;++M)this[M]=i;else{const z=o.isBuffer(i)?i:o.from(i,A),me=z.length;if(me===0)throw new TypeError('The value "'+i+'" is invalid for argument "value"');for(M=0;M<b-a;++M)this[M+a]=z[M%me]}return this};const q={};function Q(d,i,a){q[d]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:i.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(A){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:A,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}Q("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Q("ERR_INVALID_ARG_TYPE",function(d,i){return`The "${d}" argument must be of type number. Received type ${typeof i}`},TypeError),Q("ERR_OUT_OF_RANGE",function(d,i,a){let b=`The value of "${d}" is out of range.`,A=a;return Number.isInteger(a)&&Math.abs(a)>2**32?A=le(String(a)):typeof a=="bigint"&&(A=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(A=le(A)),A+="n"),b+=` It must be ${i}. Received ${A}`,b},RangeError);function le(d){let i="",a=d.length;const b=d[0]==="-"?1:0;for(;a>=b+4;a-=3)i=`_${d.slice(a-3,a)}${i}`;return`${d.slice(0,a)}${i}`}function ge(d,i,a){v(i,"offset"),(d[i]===void 0||d[i+a]===void 0)&&P(i,d.length-(a+1))}function be(d,i,a,b,A,M){if(d>a||d<i){const z=typeof i=="bigint"?"n":"";let me;throw i===0||i===BigInt(0)?me=`>= 0${z} and < 2${z} ** ${(M+1)*8}${z}`:me=`>= -(2${z} ** ${(M+1)*8-1}${z}) and < 2 ** ${(M+1)*8-1}${z}`,new q.ERR_OUT_OF_RANGE("value",me,d)}ge(b,A,M)}function v(d,i){if(typeof d!="number")throw new q.ERR_INVALID_ARG_TYPE(i,"number",d)}function P(d,i,a){throw Math.floor(d)!==d?(v(d,a),new q.ERR_OUT_OF_RANGE("offset","an integer",d)):i<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${i}`,d)}const k=/[^+/0-9A-Za-z-_]/g;function J(d){if(d=d.split("=")[0],d=d.trim().replace(k,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function ie(d,i){i=i||1/0;let a;const b=d.length;let A=null;const M=[];for(let z=0;z<b;++z){if(a=d.charCodeAt(z),a>55295&&a<57344){if(!A){if(a>56319){(i-=3)>-1&&M.push(239,191,189);continue}else if(z+1===b){(i-=3)>-1&&M.push(239,191,189);continue}A=a;continue}if(a<56320){(i-=3)>-1&&M.push(239,191,189),A=a;continue}a=(A-55296<<10|a-56320)+65536}else A&&(i-=3)>-1&&M.push(239,191,189);if(A=null,a<128){if((i-=1)<0)break;M.push(a)}else if(a<2048){if((i-=2)<0)break;M.push(a>>6|192,a&63|128)}else if(a<65536){if((i-=3)<0)break;M.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((i-=4)<0)break;M.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return M}function te(d){const i=[];for(let a=0;a<d.length;++a)i.push(d.charCodeAt(a)&255);return i}function F(d,i){let a,b,A;const M=[];for(let z=0;z<d.length&&!((i-=2)<0);++z)a=d.charCodeAt(z),b=a>>8,A=a%256,M.push(A),M.push(b);return M}function K(d){return e.toByteArray(J(d))}function ee(d,i,a,b){let A;for(A=0;A<b&&!(A+a>=i.length||A>=d.length);++A)i[A+a]=d[A];return A}function W(d,i){return d instanceof i||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===i.name}function Se(d){return d!==d}const Be=(function(){const d="0123456789abcdef",i=new Array(256);for(let a=0;a<16;++a){const b=a*16;for(let A=0;A<16;++A)i[b+A]=d[a]+d[A]}return i})();function xe(d){return typeof BigInt>"u"?Me:d}function Me(){throw new Error("BigInt not supported")}})(_r)),_r}var br,gi;function De(){if(gi)return br;gi=1;class s extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);let r="";for(let n=0;n<t.length;n++)r+=`    ${t[n].stack}
`;super(r),this.name="AggregateError",this.errors=t}}return br={AggregateError:s,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,t){return e.includes(t)},ArrayPrototypeIndexOf(e,t){return e.indexOf(t)},ArrayPrototypeJoin(e,t){return e.join(t)},ArrayPrototypeMap(e,t){return e.map(t)},ArrayPrototypePop(e,t){return e.pop(t)},ArrayPrototypePush(e,t){return e.push(t)},ArrayPrototypeSlice(e,t,r){return e.slice(t,r)},Error,FunctionPrototypeCall(e,t,...r){return e.call(t,...r)},FunctionPrototypeSymbolHasInstance(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty(e,t,r){return Object.defineProperty(e,t,r)},ObjectGetOwnPropertyDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,t){return Object.setPrototypeOf(e,t)},Promise,PromisePrototypeCatch(e,t){return e.catch(t)},PromisePrototypeThen(e,t,r){return e.then(t,r)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,t){return e.test(t)},SafeSet:Set,String,StringPrototypeSlice(e,t,r){return e.slice(t,r)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,t,r){return e.set(t,r)},Boolean,Uint8Array},br}var gr={exports:{}},yr,yi;function bn(){return yi||(yi=1,yr={format(s,...e){return s.replace(/%([sdifj])/g,function(...[t,r]){const n=e.shift();return r==="f"?n.toFixed(6):r==="j"?JSON.stringify(n):r==="s"&&typeof n=="object"?`${n.constructor!==Object?n.constructor.name:""} {}`.trim():n.toString()})},inspect(s){switch(typeof s){case"string":if(s.includes("'"))if(s.includes('"')){if(!s.includes("`")&&!s.includes("${"))return`\`${s}\``}else return`"${s}"`;return`'${s}'`;case"number":return isNaN(s)?"NaN":Object.is(s,-0)?String(s):s;case"bigint":return`${String(s)}n`;case"boolean":case"undefined":return String(s);case"object":return"{}"}}}),yr}var wr,wi;function qe(){if(wi)return wr;wi=1;const{format:s,inspect:e}=bn(),{AggregateError:t}=De(),r=globalThis.AggregateError||t,n=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],f=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",g={};function u(x,_){if(!x)throw new g.ERR_INTERNAL_ASSERTION(_)}function c(x){let _="",E=x.length;const y=x[0]==="-"?1:0;for(;E>=y+4;E-=3)_=`_${x.slice(E-3,E)}${_}`;return`${x.slice(0,E)}${_}`}function h(x,_,E){if(typeof _=="function")return u(_.length<=E.length,`Code: ${x}; The provided arguments length (${E.length}) does not match the required ones (${_.length}).`),_(...E);const y=(_.match(/%[dfijoOs]/g)||[]).length;return u(y===E.length,`Code: ${x}; The provided arguments length (${E.length}) does not match the required ones (${y}).`),E.length===0?_:s(_,...E)}function R(x,_,E){E||(E=Error);class y extends E{constructor(...S){super(h(x,_,S))}toString(){return`${this.name} [${x}]: ${this.message}`}}Object.defineProperties(y.prototype,{name:{value:E.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${x}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),y.prototype.code=x,y.prototype[n]=!0,g[x]=y}function D(x){const _=o+x.name;return Object.defineProperty(x,"name",{value:_}),x}function N(x,_){if(x&&_&&x!==_){if(Array.isArray(_.errors))return _.errors.push(x),_;const E=new r([_,x],_.message);return E.code=_.code,E}return x||_}class I extends Error{constructor(_="The operation was aborted",E=void 0){if(E!==void 0&&typeof E!="object")throw new g.ERR_INVALID_ARG_TYPE("options","Object",E);super(_,E),this.code="ABORT_ERR",this.name="AbortError"}}return R("ERR_ASSERTION","%s",Error),R("ERR_INVALID_ARG_TYPE",(x,_,E)=>{u(typeof x=="string","'name' must be a string"),Array.isArray(_)||(_=[_]);let y="The ";x.endsWith(" argument")?y+=`${x} `:y+=`"${x}" ${x.includes(".")?"property":"argument"} `,y+="must be ";const C=[],S=[],H=[];for(const X of _)u(typeof X=="string","All expected entries have to be of type string"),l.includes(X)?C.push(X.toLowerCase()):f.test(X)?S.push(X):(u(X!=="object",'The value "object" should be written as "Object"'),H.push(X));if(S.length>0){const X=C.indexOf("object");X!==-1&&(C.splice(C,X,1),S.push("Object"))}if(C.length>0){switch(C.length){case 1:y+=`of type ${C[0]}`;break;case 2:y+=`one of type ${C[0]} or ${C[1]}`;break;default:{const X=C.pop();y+=`one of type ${C.join(", ")}, or ${X}`}}(S.length>0||H.length>0)&&(y+=" or ")}if(S.length>0){switch(S.length){case 1:y+=`an instance of ${S[0]}`;break;case 2:y+=`an instance of ${S[0]} or ${S[1]}`;break;default:{const X=S.pop();y+=`an instance of ${S.join(", ")}, or ${X}`}}H.length>0&&(y+=" or ")}switch(H.length){case 0:break;case 1:H[0].toLowerCase()!==H[0]&&(y+="an "),y+=`${H[0]}`;break;case 2:y+=`one of ${H[0]} or ${H[1]}`;break;default:{const X=H.pop();y+=`one of ${H.join(", ")}, or ${X}`}}if(E==null)y+=`. Received ${E}`;else if(typeof E=="function"&&E.name)y+=`. Received function ${E.name}`;else if(typeof E=="object"){var Y;if((Y=E.constructor)!==null&&Y!==void 0&&Y.name)y+=`. Received an instance of ${E.constructor.name}`;else{const X=e(E,{depth:-1});y+=`. Received ${X}`}}else{let X=e(E,{colors:!1});X.length>25&&(X=`${X.slice(0,25)}...`),y+=`. Received type ${typeof E} (${X})`}return y},TypeError),R("ERR_INVALID_ARG_VALUE",(x,_,E="is invalid")=>{let y=e(_);return y.length>128&&(y=y.slice(0,128)+"..."),`The ${x.includes(".")?"property":"argument"} '${x}' ${E}. Received ${y}`},TypeError),R("ERR_INVALID_RETURN_VALUE",(x,_,E)=>{var y;const C=E!=null&&(y=E.constructor)!==null&&y!==void 0&&y.name?`instance of ${E.constructor.name}`:`type ${typeof E}`;return`Expected ${x} to be returned from the "${_}" function but got ${C}.`},TypeError),R("ERR_MISSING_ARGS",(...x)=>{u(x.length>0,"At least one arg needs to be specified");let _;const E=x.length;switch(x=(Array.isArray(x)?x:[x]).map(y=>`"${y}"`).join(" or "),E){case 1:_+=`The ${x[0]} argument`;break;case 2:_+=`The ${x[0]} and ${x[1]} arguments`;break;default:{const y=x.pop();_+=`The ${x.join(", ")}, and ${y} arguments`}break}return`${_} must be specified`},TypeError),R("ERR_OUT_OF_RANGE",(x,_,E)=>{u(_,'Missing "range" argument');let y;if(Number.isInteger(E)&&Math.abs(E)>2**32)y=c(String(E));else if(typeof E=="bigint"){y=String(E);const C=BigInt(2)**BigInt(32);(E>C||E<-C)&&(y=c(y)),y+="n"}else y=e(E);return`The value of "${x}" is out of range. It must be ${_}. Received ${y}`},RangeError),R("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),R("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),R("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),R("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),R("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),R("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),R("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),R("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),R("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),R("ERR_STREAM_WRITE_AFTER_END","write after end",Error),R("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),wr={AbortError:I,aggregateTwoErrors:D(N),hideStackFrames:D,codes:g},wr}var Ot={exports:{}},mi;function Vt(){if(mi)return Ot.exports;mi=1;const{AbortController:s,AbortSignal:e}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Ot.exports=s,Ot.exports.AbortSignal=e,Ot.exports.default=s,Ot.exports}var xi;function We(){return xi||(xi=1,(function(s){const e=Ze(),{format:t,inspect:r}=bn(),{codes:{ERR_INVALID_ARG_TYPE:n}}=qe(),{kResistStopPropagation:l,AggregateError:f,SymbolDispose:o}=De(),g=globalThis.AbortSignal||Vt().AbortSignal,u=globalThis.AbortController||Vt().AbortController,c=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||e.Blob,R=typeof h<"u"?function(x){return x instanceof h}:function(x){return!1},D=(I,x)=>{if(I!==void 0&&(I===null||typeof I!="object"||!("aborted"in I)))throw new n(x,"AbortSignal",I)},N=(I,x)=>{if(typeof I!="function")throw new n(x,"Function",I)};s.exports={AggregateError:f,kEmptyObject:Object.freeze({}),once(I){let x=!1;return function(..._){x||(x=!0,I.apply(this,_))}},createDeferredPromise:function(){let I,x;return{promise:new Promise((E,y)=>{I=E,x=y}),resolve:I,reject:x}},promisify(I){return new Promise((x,_)=>{I((E,...y)=>E?_(E):x(...y))})},debuglog(){return function(){}},format:t,inspect:r,types:{isAsyncFunction(I){return I instanceof c},isArrayBufferView(I){return ArrayBuffer.isView(I)}},isBlob:R,deprecate(I,x){return I},addAbortListener:lr().addAbortListener||function(x,_){if(x===void 0)throw new n("signal","AbortSignal",x);D(x,"signal"),N(_,"listener");let E;return x.aborted?queueMicrotask(()=>_()):(x.addEventListener("abort",_,{__proto__:null,once:!0,[l]:!0}),E=()=>{x.removeEventListener("abort",_)}),{__proto__:null,[o](){var y;(y=E)===null||y===void 0||y()}}},AbortSignalAny:g.any||function(x){if(x.length===1)return x[0];const _=new u,E=()=>_.abort();return x.forEach(y=>{D(y,"signals"),y.addEventListener("abort",E,{once:!0})}),_.signal.addEventListener("abort",()=>{x.forEach(y=>y.removeEventListener("abort",E))},{once:!0}),_.signal}},s.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")})(gr)),gr.exports}var er={},mr,Ei;function zt(){if(Ei)return mr;Ei=1;const{ArrayIsArray:s,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:t,ArrayPrototypeMap:r,NumberIsInteger:n,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:f,NumberMIN_SAFE_INTEGER:o,NumberParseInt:g,ObjectPrototypeHasOwnProperty:u,RegExpPrototypeExec:c,String:h,StringPrototypeToUpperCase:R,StringPrototypeTrim:D}=De(),{hideStackFrames:N,codes:{ERR_SOCKET_BAD_PORT:I,ERR_INVALID_ARG_TYPE:x,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:E,ERR_UNKNOWN_SIGNAL:y}}=qe(),{normalizeEncoding:C}=We(),{isAsyncFunction:S,isArrayBufferView:H}=We().types,Y={};function X(F){return F===(F|0)}function he(F){return F===F>>>0}const B=/^[0-7]+$/,$="must be a 32-bit unsigned integer or an octal string";function Z(F,K,ee){if(typeof F>"u"&&(F=ee),typeof F=="string"){if(c(B,F)===null)throw new _(K,F,$);F=g(F,8)}return ue(F,K),F}const L=N((F,K,ee=o,W=f)=>{if(typeof F!="number")throw new x(K,"number",F);if(!n(F))throw new E(K,"an integer",F);if(F<ee||F>W)throw new E(K,`>= ${ee} && <= ${W}`,F)}),ae=N((F,K,ee=-2147483648,W=2147483647)=>{if(typeof F!="number")throw new x(K,"number",F);if(!n(F))throw new E(K,"an integer",F);if(F<ee||F>W)throw new E(K,`>= ${ee} && <= ${W}`,F)}),ue=N((F,K,ee=!1)=>{if(typeof F!="number")throw new x(K,"number",F);if(!n(F))throw new E(K,"an integer",F);const W=ee?1:0,Se=4294967295;if(F<W||F>Se)throw new E(K,`>= ${W} && <= ${Se}`,F)});function oe(F,K){if(typeof F!="string")throw new x(K,"string",F)}function we(F,K,ee=void 0,W){if(typeof F!="number")throw new x(K,"number",F);if(ee!=null&&F<ee||W!=null&&F>W||(ee!=null||W!=null)&&l(F))throw new E(K,`${ee!=null?`>= ${ee}`:""}${ee!=null&&W!=null?" && ":""}${W!=null?`<= ${W}`:""}`,F)}const V=N((F,K,ee)=>{if(!e(ee,F)){const Se="must be one of: "+t(r(ee,Be=>typeof Be=="string"?`'${Be}'`:h(Be)),", ");throw new _(K,F,Se)}});function de(F,K){if(typeof F!="boolean")throw new x(K,"boolean",F)}function T(F,K,ee){return F==null||!u(F,K)?ee:F[K]}const U=N((F,K,ee=null)=>{const W=T(ee,"allowArray",!1),Se=T(ee,"allowFunction",!1);if(!T(ee,"nullable",!1)&&F===null||!W&&s(F)||typeof F!="object"&&(!Se||typeof F!="function"))throw new x(K,"Object",F)}),re=N((F,K)=>{if(F!=null&&typeof F!="object"&&typeof F!="function")throw new x(K,"a dictionary",F)}),G=N((F,K,ee=0)=>{if(!s(F))throw new x(K,"Array",F);if(F.length<ee){const W=`must be longer than ${ee}`;throw new _(K,F,W)}});function fe(F,K){G(F,K);for(let ee=0;ee<F.length;ee++)oe(F[ee],`${K}[${ee}]`)}function _e(F,K){G(F,K);for(let ee=0;ee<F.length;ee++)de(F[ee],`${K}[${ee}]`)}function Ee(F,K){G(F,K);for(let ee=0;ee<F.length;ee++){const W=F[ee],Se=`${K}[${ee}]`;if(W==null)throw new x(Se,"AbortSignal",W);ge(W,Se)}}function ye(F,K="signal"){if(oe(F,K),Y[F]===void 0)throw Y[R(F)]!==void 0?new y(F+" (signals must use all capital letters)"):new y(F)}const q=N((F,K="buffer")=>{if(!H(F))throw new x(K,["Buffer","TypedArray","DataView"],F)});function Q(F,K){const ee=C(K),W=F.length;if(ee==="hex"&&W%2!==0)throw new _("encoding",K,`is invalid for data of length ${W}`)}function le(F,K="Port",ee=!0){if(typeof F!="number"&&typeof F!="string"||typeof F=="string"&&D(F).length===0||+F!==+F>>>0||F>65535||F===0&&!ee)throw new I(K,F,ee);return F|0}const ge=N((F,K)=>{if(F!==void 0&&(F===null||typeof F!="object"||!("aborted"in F)))throw new x(K,"AbortSignal",F)}),be=N((F,K)=>{if(typeof F!="function")throw new x(K,"Function",F)}),v=N((F,K)=>{if(typeof F!="function"||S(F))throw new x(K,"Function",F)}),P=N((F,K)=>{if(F!==void 0)throw new x(K,"undefined",F)});function k(F,K,ee){if(!e(ee,F))throw new x(K,`('${t(ee,"|")}')`,F)}const J=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ie(F,K){if(typeof F>"u"||!c(J,F))throw new _(K,F,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function te(F){if(typeof F=="string")return ie(F,"hints"),F;if(s(F)){const K=F.length;let ee="";if(K===0)return ee;for(let W=0;W<K;W++){const Se=F[W];ie(Se,"hints"),ee+=Se,W!==K-1&&(ee+=", ")}return ee}throw new _("hints",F,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return mr={isInt32:X,isUint32:he,parseFileMode:Z,validateArray:G,validateStringArray:fe,validateBooleanArray:_e,validateAbortSignalArray:Ee,validateBoolean:de,validateBuffer:q,validateDictionary:re,validateEncoding:Q,validateFunction:be,validateInt32:ae,validateInteger:L,validateNumber:we,validateObject:U,validateOneOf:V,validatePlainFunction:v,validatePort:le,validateSignalName:ye,validateString:oe,validateUint32:ue,validateUndefined:P,validateUnion:k,validateAbortSignal:ge,validateLinkHeaderValue:te},mr}var tr={exports:{}},xr,Si;function Je(){if(Si)return xr;Si=1;const{SymbolAsyncIterator:s,SymbolIterator:e,SymbolFor:t}=De(),r=t("nodejs.stream.destroyed"),n=t("nodejs.stream.errored"),l=t("nodejs.stream.readable"),f=t("nodejs.stream.writable"),o=t("nodejs.stream.disturbed"),g=t("nodejs.webstream.isClosedPromise"),u=t("nodejs.webstream.controllerErrorFunction");function c(T,U=!1){var re;return!!(T&&typeof T.pipe=="function"&&typeof T.on=="function"&&(!U||typeof T.pause=="function"&&typeof T.resume=="function")&&(!T._writableState||((re=T._readableState)===null||re===void 0?void 0:re.readable)!==!1)&&(!T._writableState||T._readableState))}function h(T){var U;return!!(T&&typeof T.write=="function"&&typeof T.on=="function"&&(!T._readableState||((U=T._writableState)===null||U===void 0?void 0:U.writable)!==!1))}function R(T){return!!(T&&typeof T.pipe=="function"&&T._readableState&&typeof T.on=="function"&&typeof T.write=="function")}function D(T){return T&&(T._readableState||T._writableState||typeof T.write=="function"&&typeof T.on=="function"||typeof T.pipe=="function"&&typeof T.on=="function")}function N(T){return!!(T&&!D(T)&&typeof T.pipeThrough=="function"&&typeof T.getReader=="function"&&typeof T.cancel=="function")}function I(T){return!!(T&&!D(T)&&typeof T.getWriter=="function"&&typeof T.abort=="function")}function x(T){return!!(T&&!D(T)&&typeof T.readable=="object"&&typeof T.writable=="object")}function _(T){return N(T)||I(T)||x(T)}function E(T,U){return T==null?!1:U===!0?typeof T[s]=="function":U===!1?typeof T[e]=="function":typeof T[s]=="function"||typeof T[e]=="function"}function y(T){if(!D(T))return null;const U=T._writableState,re=T._readableState,G=U||re;return!!(T.destroyed||T[r]||G!=null&&G.destroyed)}function C(T){if(!h(T))return null;if(T.writableEnded===!0)return!0;const U=T._writableState;return U!=null&&U.errored?!1:typeof U?.ended!="boolean"?null:U.ended}function S(T,U){if(!h(T))return null;if(T.writableFinished===!0)return!0;const re=T._writableState;return re!=null&&re.errored?!1:typeof re?.finished!="boolean"?null:!!(re.finished||U===!1&&re.ended===!0&&re.length===0)}function H(T){if(!c(T))return null;if(T.readableEnded===!0)return!0;const U=T._readableState;return!U||U.errored?!1:typeof U?.ended!="boolean"?null:U.ended}function Y(T,U){if(!c(T))return null;const re=T._readableState;return re!=null&&re.errored?!1:typeof re?.endEmitted!="boolean"?null:!!(re.endEmitted||U===!1&&re.ended===!0&&re.length===0)}function X(T){return T&&T[l]!=null?T[l]:typeof T?.readable!="boolean"?null:y(T)?!1:c(T)&&T.readable&&!Y(T)}function he(T){return T&&T[f]!=null?T[f]:typeof T?.writable!="boolean"?null:y(T)?!1:h(T)&&T.writable&&!C(T)}function B(T,U){return D(T)?y(T)?!0:!(U?.readable!==!1&&X(T)||U?.writable!==!1&&he(T)):null}function $(T){var U,re;return D(T)?T.writableErrored?T.writableErrored:(U=(re=T._writableState)===null||re===void 0?void 0:re.errored)!==null&&U!==void 0?U:null:null}function Z(T){var U,re;return D(T)?T.readableErrored?T.readableErrored:(U=(re=T._readableState)===null||re===void 0?void 0:re.errored)!==null&&U!==void 0?U:null:null}function L(T){if(!D(T))return null;if(typeof T.closed=="boolean")return T.closed;const U=T._writableState,re=T._readableState;return typeof U?.closed=="boolean"||typeof re?.closed=="boolean"?U?.closed||re?.closed:typeof T._closed=="boolean"&&ae(T)?T._closed:null}function ae(T){return typeof T._closed=="boolean"&&typeof T._defaultKeepAlive=="boolean"&&typeof T._removedConnection=="boolean"&&typeof T._removedContLen=="boolean"}function ue(T){return typeof T._sent100=="boolean"&&ae(T)}function oe(T){var U;return typeof T._consuming=="boolean"&&typeof T._dumped=="boolean"&&((U=T.req)===null||U===void 0?void 0:U.upgradeOrConnect)===void 0}function we(T){if(!D(T))return null;const U=T._writableState,re=T._readableState,G=U||re;return!G&&ue(T)||!!(G&&G.autoDestroy&&G.emitClose&&G.closed===!1)}function V(T){var U;return!!(T&&((U=T[o])!==null&&U!==void 0?U:T.readableDidRead||T.readableAborted))}function de(T){var U,re,G,fe,_e,Ee,ye,q,Q,le;return!!(T&&((U=(re=(G=(fe=(_e=(Ee=T[n])!==null&&Ee!==void 0?Ee:T.readableErrored)!==null&&_e!==void 0?_e:T.writableErrored)!==null&&fe!==void 0?fe:(ye=T._readableState)===null||ye===void 0?void 0:ye.errorEmitted)!==null&&G!==void 0?G:(q=T._writableState)===null||q===void 0?void 0:q.errorEmitted)!==null&&re!==void 0?re:(Q=T._readableState)===null||Q===void 0?void 0:Q.errored)!==null&&U!==void 0?U:!((le=T._writableState)===null||le===void 0)&&le.errored))}return xr={isDestroyed:y,kIsDestroyed:r,isDisturbed:V,kIsDisturbed:o,isErrored:de,kIsErrored:n,isReadable:X,kIsReadable:l,kIsClosedPromise:g,kControllerErrorFunction:u,kIsWritable:f,isClosed:L,isDuplexNodeStream:R,isFinished:B,isIterable:E,isReadableNodeStream:c,isReadableStream:N,isReadableEnded:H,isReadableFinished:Y,isReadableErrored:Z,isNodeStream:D,isWebStream:_,isWritable:he,isWritableNodeStream:h,isWritableStream:I,isWritableEnded:C,isWritableFinished:S,isWritableErrored:$,isServerRequest:oe,isServerResponse:ue,willEmitClose:we,isTransformStream:x},xr}var Ri;function nt(){if(Ri)return tr.exports;Ri=1;const s=ht(),{AbortError:e,codes:t}=qe(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:n}=t,{kEmptyObject:l,once:f}=We(),{validateAbortSignal:o,validateFunction:g,validateObject:u,validateBoolean:c}=zt(),{Promise:h,PromisePrototypeThen:R,SymbolDispose:D}=De(),{isClosed:N,isReadable:I,isReadableNodeStream:x,isReadableStream:_,isReadableFinished:E,isReadableErrored:y,isWritable:C,isWritableNodeStream:S,isWritableStream:H,isWritableFinished:Y,isWritableErrored:X,isNodeStream:he,willEmitClose:B,kIsClosedPromise:$}=Je();let Z;function L(V){return V.setHeader&&typeof V.abort=="function"}const ae=()=>{};function ue(V,de,T){var U,re;if(arguments.length===2?(T=de,de=l):de==null?de=l:u(de,"options"),g(T,"callback"),o(de.signal,"options.signal"),T=f(T),_(V)||H(V))return oe(V,de,T);if(!he(V))throw new r("stream",["ReadableStream","WritableStream","Stream"],V);const G=(U=de.readable)!==null&&U!==void 0?U:x(V),fe=(re=de.writable)!==null&&re!==void 0?re:S(V),_e=V._writableState,Ee=V._readableState,ye=()=>{V.writable||le()};let q=B(V)&&x(V)===G&&S(V)===fe,Q=Y(V,!1);const le=()=>{Q=!0,V.destroyed&&(q=!1),!(q&&(!V.readable||G))&&(!G||ge)&&T.call(V)};let ge=E(V,!1);const be=()=>{ge=!0,V.destroyed&&(q=!1),!(q&&(!V.writable||fe))&&(!fe||Q)&&T.call(V)},v=F=>{T.call(V,F)};let P=N(V);const k=()=>{P=!0;const F=X(V)||y(V);if(F&&typeof F!="boolean")return T.call(V,F);if(G&&!ge&&x(V,!0)&&!E(V,!1))return T.call(V,new n);if(fe&&!Q&&!Y(V,!1))return T.call(V,new n);T.call(V)},J=()=>{P=!0;const F=X(V)||y(V);if(F&&typeof F!="boolean")return T.call(V,F);T.call(V)},ie=()=>{V.req.on("finish",le)};L(V)?(V.on("complete",le),q||V.on("abort",k),V.req?ie():V.on("request",ie)):fe&&!_e&&(V.on("end",ye),V.on("close",ye)),!q&&typeof V.aborted=="boolean"&&V.on("aborted",k),V.on("end",be),V.on("finish",le),de.error!==!1&&V.on("error",v),V.on("close",k),P?s.nextTick(k):_e!=null&&_e.errorEmitted||Ee!=null&&Ee.errorEmitted?q||s.nextTick(J):(!G&&(!q||I(V))&&(Q||C(V)===!1)||!fe&&(!q||C(V))&&(ge||I(V)===!1)||Ee&&V.req&&V.aborted)&&s.nextTick(J);const te=()=>{T=ae,V.removeListener("aborted",k),V.removeListener("complete",le),V.removeListener("abort",k),V.removeListener("request",ie),V.req&&V.req.removeListener("finish",le),V.removeListener("end",ye),V.removeListener("close",ye),V.removeListener("finish",le),V.removeListener("end",be),V.removeListener("error",v),V.removeListener("close",k)};if(de.signal&&!P){const F=()=>{const K=T;te(),K.call(V,new e(void 0,{cause:de.signal.reason}))};if(de.signal.aborted)s.nextTick(F);else{Z=Z||We().addAbortListener;const K=Z(de.signal,F),ee=T;T=f((...W)=>{K[D](),ee.apply(V,W)})}}return te}function oe(V,de,T){let U=!1,re=ae;if(de.signal)if(re=()=>{U=!0,T.call(V,new e(void 0,{cause:de.signal.reason}))},de.signal.aborted)s.nextTick(re);else{Z=Z||We().addAbortListener;const fe=Z(de.signal,re),_e=T;T=f((...Ee)=>{fe[D](),_e.apply(V,Ee)})}const G=(...fe)=>{U||s.nextTick(()=>T.apply(V,fe))};return R(V[$].promise,G,G),ae}function we(V,de){var T;let U=!1;return de===null&&(de=l),(T=de)!==null&&T!==void 0&&T.cleanup&&(c(de.cleanup,"cleanup"),U=de.cleanup),new h((re,G)=>{const fe=ue(V,de,_e=>{U&&fe(),_e?G(_e):re()})})}return tr.exports=ue,tr.exports.finished=we,tr.exports}var Er,Ti;function St(){if(Ti)return Er;Ti=1;const s=ht(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:t},AbortError:r}=qe(),{Symbol:n}=De(),{kIsDestroyed:l,isDestroyed:f,isFinished:o,isServerRequest:g}=Je(),u=n("kDestroy"),c=n("kConstruct");function h(B,$,Z){B&&(B.stack,$&&!$.errored&&($.errored=B),Z&&!Z.errored&&(Z.errored=B))}function R(B,$){const Z=this._readableState,L=this._writableState,ae=L||Z;return L!=null&&L.destroyed||Z!=null&&Z.destroyed?(typeof $=="function"&&$(),this):(h(B,L,Z),L&&(L.destroyed=!0),Z&&(Z.destroyed=!0),ae.constructed?D(this,B,$):this.once(u,function(ue){D(this,e(ue,B),$)}),this)}function D(B,$,Z){let L=!1;function ae(ue){if(L)return;L=!0;const oe=B._readableState,we=B._writableState;h(ue,we,oe),we&&(we.closed=!0),oe&&(oe.closed=!0),typeof Z=="function"&&Z(ue),ue?s.nextTick(N,B,ue):s.nextTick(I,B)}try{B._destroy($||null,ae)}catch(ue){ae(ue)}}function N(B,$){x(B,$),I(B)}function I(B){const $=B._readableState,Z=B._writableState;Z&&(Z.closeEmitted=!0),$&&($.closeEmitted=!0),(Z!=null&&Z.emitClose||$!=null&&$.emitClose)&&B.emit("close")}function x(B,$){const Z=B._readableState,L=B._writableState;L!=null&&L.errorEmitted||Z!=null&&Z.errorEmitted||(L&&(L.errorEmitted=!0),Z&&(Z.errorEmitted=!0),B.emit("error",$))}function _(){const B=this._readableState,$=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),$&&($.constructed=!0,$.destroyed=!1,$.closed=!1,$.closeEmitted=!1,$.errored=null,$.errorEmitted=!1,$.finalCalled=!1,$.prefinished=!1,$.ended=$.writable===!1,$.ending=$.writable===!1,$.finished=$.writable===!1)}function E(B,$,Z){const L=B._readableState,ae=B._writableState;if(ae!=null&&ae.destroyed||L!=null&&L.destroyed)return this;L!=null&&L.autoDestroy||ae!=null&&ae.autoDestroy?B.destroy($):$&&($.stack,ae&&!ae.errored&&(ae.errored=$),L&&!L.errored&&(L.errored=$),Z?s.nextTick(x,B,$):x(B,$))}function y(B,$){if(typeof B._construct!="function")return;const Z=B._readableState,L=B._writableState;Z&&(Z.constructed=!1),L&&(L.constructed=!1),B.once(c,$),!(B.listenerCount(c)>1)&&s.nextTick(C,B)}function C(B){let $=!1;function Z(L){if($){E(B,L??new t);return}$=!0;const ae=B._readableState,ue=B._writableState,oe=ue||ae;ae&&(ae.constructed=!0),ue&&(ue.constructed=!0),oe.destroyed?B.emit(u,L):L?E(B,L,!0):s.nextTick(S,B)}try{B._construct(L=>{s.nextTick(Z,L)})}catch(L){s.nextTick(Z,L)}}function S(B){B.emit(c)}function H(B){return B?.setHeader&&typeof B.abort=="function"}function Y(B){B.emit("close")}function X(B,$){B.emit("error",$),s.nextTick(Y,B)}function he(B,$){!B||f(B)||(!$&&!o(B)&&($=new r),g(B)?(B.socket=null,B.destroy($)):H(B)?B.abort():H(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy($):typeof B.close=="function"?B.close():$?s.nextTick(X,B,$):s.nextTick(Y,B),B.destroyed||(B[l]=!0))}return Er={construct:y,destroyer:he,destroy:R,undestroy:_,errorOrDestroy:E},Er}var Sr,Ni;function Xr(){if(Ni)return Sr;Ni=1;const{ArrayIsArray:s,ObjectSetPrototypeOf:e}=De(),{EventEmitter:t}=lr();function r(l){t.call(this,l)}e(r.prototype,t.prototype),e(r,t),r.prototype.pipe=function(l,f){const o=this;function g(I){l.writable&&l.write(I)===!1&&o.pause&&o.pause()}o.on("data",g);function u(){o.readable&&o.resume&&o.resume()}l.on("drain",u),!l._isStdio&&(!f||f.end!==!1)&&(o.on("end",h),o.on("close",R));let c=!1;function h(){c||(c=!0,l.end())}function R(){c||(c=!0,typeof l.destroy=="function"&&l.destroy())}function D(I){N(),t.listenerCount(this,"error")===0&&this.emit("error",I)}n(o,"error",D),n(l,"error",D);function N(){o.removeListener("data",g),l.removeListener("drain",u),o.removeListener("end",h),o.removeListener("close",R),o.removeListener("error",D),l.removeListener("error",D),o.removeListener("end",N),o.removeListener("close",N),l.removeListener("close",N)}return o.on("end",N),o.on("close",N),l.on("close",N),l.emit("pipe",o),l};function n(l,f,o){if(typeof l.prependListener=="function")return l.prependListener(f,o);!l._events||!l._events[f]?l.on(f,o):s(l._events[f])?l._events[f].unshift(o):l._events[f]=[o,l._events[f]]}return Sr={Stream:r,prependListener:n},Sr}var Rr={exports:{}},Ii;function ur(){return Ii||(Ii=1,(function(s){const{SymbolDispose:e}=De(),{AbortError:t,codes:r}=qe(),{isNodeStream:n,isWebStream:l,kControllerErrorFunction:f}=Je(),o=nt(),{ERR_INVALID_ARG_TYPE:g}=r;let u;const c=(h,R)=>{if(typeof h!="object"||!("aborted"in h))throw new g(R,"AbortSignal",h)};s.exports.addAbortSignal=function(R,D){if(c(R,"signal"),!n(D)&&!l(D))throw new g("stream",["ReadableStream","WritableStream","Stream"],D);return s.exports.addAbortSignalNoValidate(R,D)},s.exports.addAbortSignalNoValidate=function(h,R){if(typeof h!="object"||!("aborted"in h))return R;const D=n(R)?()=>{R.destroy(new t(void 0,{cause:h.reason}))}:()=>{R[f](new t(void 0,{cause:h.reason}))};if(h.aborted)D();else{u=u||We().addAbortListener;const N=u(h,D);o(R,N[e])}return R}})(Rr)),Rr.exports}var Tr,Ai;function as(){if(Ai)return Tr;Ai=1;const{StringPrototypeSlice:s,SymbolIterator:e,TypedArrayPrototypeSet:t,Uint8Array:r}=De(),{Buffer:n}=Ze(),{inspect:l}=We();return Tr=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const g={data:o,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}unshift(o){const g={data:o,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let g=this.head,u=""+g.data;for(;(g=g.next)!==null;)u+=o+g.data;return u}concat(o){if(this.length===0)return n.alloc(0);const g=n.allocUnsafe(o>>>0);let u=this.head,c=0;for(;u;)t(g,u.data,c),c+=u.data.length,u=u.next;return g}consume(o,g){const u=this.head.data;if(o<u.length){const c=u.slice(0,o);return this.head.data=u.slice(o),c}return o===u.length?this.shift():g?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let g="",u=this.head,c=0;do{const h=u.data;if(o>h.length)g+=h,o-=h.length;else{o===h.length?(g+=h,++c,u.next?this.head=u.next:this.head=this.tail=null):(g+=s(h,0,o),this.head=u,u.data=s(h,o));break}++c}while((u=u.next)!==null);return this.length-=c,g}_getBuffer(o){const g=n.allocUnsafe(o),u=o;let c=this.head,h=0;do{const R=c.data;if(o>R.length)t(g,R,u-o),o-=R.length;else{o===R.length?(t(g,R,u-o),++h,c.next?this.head=c.next:this.head=this.tail=null):(t(g,new r(R.buffer,R.byteOffset,o),u-o),this.head=c,c.data=R.slice(o));break}++h}while((c=c.next)!==null);return this.length-=h,g}[Symbol.for("nodejs.util.inspect.custom")](o,g){return l(this,{...g,depth:0,customInspect:!1})}},Tr}var Nr,Fi;function fr(){if(Fi)return Nr;Fi=1;const{MathFloor:s,NumberIsInteger:e}=De(),{validateInteger:t}=zt(),{ERR_INVALID_ARG_VALUE:r}=qe().codes;let n=16*1024,l=16;function f(c,h,R){return c.highWaterMark!=null?c.highWaterMark:h?c[R]:null}function o(c){return c?l:n}function g(c,h){t(h,"value",0),c?l=h:n=h}function u(c,h,R,D){const N=f(h,D,R);if(N!=null){if(!e(N)||N<0){const I=D?`options.${R}`:"options.highWaterMark";throw new r(I,N)}return s(N)}return o(c.objectMode)}return Nr={getHighWaterMark:u,getDefaultHighWaterMark:o,setDefaultHighWaterMark:g},Nr}var Ir={},rr={exports:{}};var vi;function os(){return vi||(vi=1,(function(s,e){var t=Ze(),r=t.Buffer;function n(f,o){for(var g in f)o[g]=f[g]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?s.exports=t:(n(t,e),e.Buffer=l);function l(f,o,g){return r(f,o,g)}l.prototype=Object.create(r.prototype),n(r,l),l.from=function(f,o,g){if(typeof f=="number")throw new TypeError("Argument must not be a number");return r(f,o,g)},l.alloc=function(f,o,g){if(typeof f!="number")throw new TypeError("Argument must be a number");var u=r(f);return o!==void 0?typeof g=="string"?u.fill(o,g):u.fill(o):u.fill(0),u},l.allocUnsafe=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return r(f)},l.allocUnsafeSlow=function(f){if(typeof f!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(f)}})(rr,rr.exports)),rr.exports}var Di;function ls(){if(Di)return Ir;Di=1;var s=os().Buffer,e=s.isEncoding||function(_){switch(_=""+_,_&&_.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(_){if(!_)return"utf8";for(var E;;)switch(_){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return _;default:if(E)return;_=(""+_).toLowerCase(),E=!0}}function r(_){var E=t(_);if(typeof E!="string"&&(s.isEncoding===e||!e(_)))throw new Error("Unknown encoding: "+_);return E||_}Ir.StringDecoder=n;function n(_){this.encoding=r(_);var E;switch(this.encoding){case"utf16le":this.text=h,this.end=R,E=4;break;case"utf8":this.fillLast=g,E=4;break;case"base64":this.text=D,this.end=N,E=3;break;default:this.write=I,this.end=x;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=s.allocUnsafe(E)}n.prototype.write=function(_){if(_.length===0)return"";var E,y;if(this.lastNeed){if(E=this.fillLast(_),E===void 0)return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<_.length?E?E+this.text(_,y):this.text(_,y):E||""},n.prototype.end=c,n.prototype.text=u,n.prototype.fillLast=function(_){if(this.lastNeed<=_.length)return _.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,this.lastTotal-this.lastNeed,0,_.length),this.lastNeed-=_.length};function l(_){return _<=127?0:_>>5===6?2:_>>4===14?3:_>>3===30?4:_>>6===2?-1:-2}function f(_,E,y){var C=E.length-1;if(C<y)return 0;var S=l(E[C]);return S>=0?(S>0&&(_.lastNeed=S-1),S):--C<y||S===-2?0:(S=l(E[C]),S>=0?(S>0&&(_.lastNeed=S-2),S):--C<y||S===-2?0:(S=l(E[C]),S>=0?(S>0&&(S===2?S=0:_.lastNeed=S-3),S):0))}function o(_,E,y){if((E[0]&192)!==128)return _.lastNeed=0,"";if(_.lastNeed>1&&E.length>1){if((E[1]&192)!==128)return _.lastNeed=1,"";if(_.lastNeed>2&&E.length>2&&(E[2]&192)!==128)return _.lastNeed=2,""}}function g(_){var E=this.lastTotal-this.lastNeed,y=o(this,_);if(y!==void 0)return y;if(this.lastNeed<=_.length)return _.copy(this.lastChar,E,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);_.copy(this.lastChar,E,0,_.length),this.lastNeed-=_.length}function u(_,E){var y=f(this,_,E);if(!this.lastNeed)return _.toString("utf8",E);this.lastTotal=y;var C=_.length-(y-this.lastNeed);return _.copy(this.lastChar,0,C),_.toString("utf8",E,C)}function c(_){var E=_&&_.length?this.write(_):"";return this.lastNeed?E+"":E}function h(_,E){if((_.length-E)%2===0){var y=_.toString("utf16le",E);if(y){var C=y.charCodeAt(y.length-1);if(C>=55296&&C<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=_[_.length-1],_.toString("utf16le",E,_.length-1)}function R(_){var E=_&&_.length?this.write(_):"";if(this.lastNeed){var y=this.lastTotal-this.lastNeed;return E+this.lastChar.toString("utf16le",0,y)}return E}function D(_,E){var y=(_.length-E)%3;return y===0?_.toString("base64",E):(this.lastNeed=3-y,this.lastTotal=3,y===1?this.lastChar[0]=_[_.length-1]:(this.lastChar[0]=_[_.length-2],this.lastChar[1]=_[_.length-1]),_.toString("base64",E,_.length-y))}function N(_){var E=_&&_.length?this.write(_):"";return this.lastNeed?E+this.lastChar.toString("base64",0,3-this.lastNeed):E}function I(_){return _.toString(this.encoding)}function x(_){return _&&_.length?this.write(_):""}return Ir}var Ar,Ci;function gn(){if(Ci)return Ar;Ci=1;const s=ht(),{PromisePrototypeThen:e,SymbolAsyncIterator:t,SymbolIterator:r}=De(),{Buffer:n}=Ze(),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:f}=qe().codes;function o(g,u,c){let h;if(typeof u=="string"||u instanceof n)return new g({objectMode:!0,...c,read(){this.push(u),this.push(null)}});let R;if(u&&u[t])R=!0,h=u[t]();else if(u&&u[r])R=!1,h=u[r]();else throw new l("iterable",["Iterable"],u);const D=new g({objectMode:!0,highWaterMark:1,...c});let N=!1;D._read=function(){N||(N=!0,x())},D._destroy=function(_,E){e(I(_),()=>s.nextTick(E,_),y=>s.nextTick(E,y||_))};async function I(_){const E=_!=null,y=typeof h.throw=="function";if(E&&y){const{value:C,done:S}=await h.throw(_);if(await C,S)return}if(typeof h.return=="function"){const{value:C}=await h.return();await C}}async function x(){for(;;){try{const{value:_,done:E}=R?await h.next():h.next();if(E)D.push(null);else{const y=_&&typeof _.then=="function"?await _:_;if(y===null)throw N=!1,new f;if(D.push(y))continue;N=!1}}catch(_){D.destroy(_)}break}}return D}return Ar=o,Ar}var Fr,Pi;function cr(){if(Pi)return Fr;Pi=1;const s=ht(),{ArrayPrototypeIndexOf:e,NumberIsInteger:t,NumberIsNaN:r,NumberParseInt:n,ObjectDefineProperties:l,ObjectKeys:f,ObjectSetPrototypeOf:o,Promise:g,SafeSet:u,SymbolAsyncDispose:c,SymbolAsyncIterator:h,Symbol:R}=De();Fr=W,W.ReadableState=ee;const{EventEmitter:D}=lr(),{Stream:N,prependListener:I}=Xr(),{Buffer:x}=Ze(),{addAbortSignal:_}=ur(),E=nt();let y=We().debuglog("stream",p=>{y=p});const C=as(),S=St(),{getHighWaterMark:H,getDefaultHighWaterMark:Y}=fr(),{aggregateTwoErrors:X,codes:{ERR_INVALID_ARG_TYPE:he,ERR_METHOD_NOT_IMPLEMENTED:B,ERR_OUT_OF_RANGE:$,ERR_STREAM_PUSH_AFTER_EOF:Z,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:L},AbortError:ae}=qe(),{validateObject:ue}=zt(),oe=R("kPaused"),{StringDecoder:we}=ls(),V=gn();o(W.prototype,N.prototype),o(W,N);const de=()=>{},{errorOrDestroy:T}=S,U=1,re=2,G=4,fe=8,_e=16,Ee=32,ye=64,q=128,Q=256,le=512,ge=1024,be=2048,v=4096,P=8192,k=16384,J=32768,ie=65536,te=1<<17,F=1<<18;function K(p){return{enumerable:!1,get(){return(this.state&p)!==0},set(m){m?this.state|=p:this.state&=~p}}}l(ee.prototype,{objectMode:K(U),ended:K(re),endEmitted:K(G),reading:K(fe),constructed:K(_e),sync:K(Ee),needReadable:K(ye),emittedReadable:K(q),readableListening:K(Q),resumeScheduled:K(le),errorEmitted:K(ge),emitClose:K(be),autoDestroy:K(v),destroyed:K(P),closed:K(k),closeEmitted:K(J),multiAwaitDrain:K(ie),readingMore:K(te),dataEmitted:K(F)});function ee(p,m,ne){typeof ne!="boolean"&&(ne=m instanceof Ye()),this.state=be|v|_e|Ee,p&&p.objectMode&&(this.state|=U),ne&&p&&p.readableObjectMode&&(this.state|=U),this.highWaterMark=p?H(this,p,"readableHighWaterMark",ne):Y(!1),this.buffer=new C,this.length=0,this.pipes=[],this.flowing=null,this[oe]=null,p&&p.emitClose===!1&&(this.state&=~be),p&&p.autoDestroy===!1&&(this.state&=~v),this.errored=null,this.defaultEncoding=p&&p.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,p&&p.encoding&&(this.decoder=new we(p.encoding),this.encoding=p.encoding)}function W(p){if(!(this instanceof W))return new W(p);const m=this instanceof Ye();this._readableState=new ee(p,this,m),p&&(typeof p.read=="function"&&(this._read=p.read),typeof p.destroy=="function"&&(this._destroy=p.destroy),typeof p.construct=="function"&&(this._construct=p.construct),p.signal&&!m&&_(p.signal,this)),N.call(this,p),S.construct(this,()=>{this._readableState.needReadable&&A(this,this._readableState)})}W.prototype.destroy=S.destroy,W.prototype._undestroy=S.undestroy,W.prototype._destroy=function(p,m){m(p)},W.prototype[D.captureRejectionSymbol]=function(p){this.destroy(p)},W.prototype[c]=function(){let p;return this.destroyed||(p=this.readableEnded?null:new ae,this.destroy(p)),new g((m,ne)=>E(this,se=>se&&se!==p?ne(se):m(null)))},W.prototype.push=function(p,m){return Se(this,p,m,!1)},W.prototype.unshift=function(p,m){return Se(this,p,m,!0)};function Se(p,m,ne,se){y("readableAddChunk",m);const pe=p._readableState;let Oe;if((pe.state&U)===0&&(typeof m=="string"?(ne=ne||pe.defaultEncoding,pe.encoding!==ne&&(se&&pe.encoding?m=x.from(m,ne).toString(pe.encoding):(m=x.from(m,ne),ne=""))):m instanceof x?ne="":N._isUint8Array(m)?(m=N._uint8ArrayToBuffer(m),ne=""):m!=null&&(Oe=new he("chunk",["string","Buffer","Uint8Array"],m))),Oe)T(p,Oe);else if(m===null)pe.state&=~fe,i(p,pe);else if((pe.state&U)!==0||m&&m.length>0)if(se)if((pe.state&G)!==0)T(p,new L);else{if(pe.destroyed||pe.errored)return!1;Be(p,pe,m,!0)}else if(pe.ended)T(p,new Z);else{if(pe.destroyed||pe.errored)return!1;pe.state&=~fe,pe.decoder&&!ne?(m=pe.decoder.write(m),pe.objectMode||m.length!==0?Be(p,pe,m,!1):A(p,pe)):Be(p,pe,m,!1)}else se||(pe.state&=~fe,A(p,pe));return!pe.ended&&(pe.length<pe.highWaterMark||pe.length===0)}function Be(p,m,ne,se){m.flowing&&m.length===0&&!m.sync&&p.listenerCount("data")>0?((m.state&ie)!==0?m.awaitDrainWriters.clear():m.awaitDrainWriters=null,m.dataEmitted=!0,p.emit("data",ne)):(m.length+=m.objectMode?1:ne.length,se?m.buffer.unshift(ne):m.buffer.push(ne),(m.state&ye)!==0&&a(p)),A(p,m)}W.prototype.isPaused=function(){const p=this._readableState;return p[oe]===!0||p.flowing===!1},W.prototype.setEncoding=function(p){const m=new we(p);this._readableState.decoder=m,this._readableState.encoding=this._readableState.decoder.encoding;const ne=this._readableState.buffer;let se="";for(const pe of ne)se+=m.write(pe);return ne.clear(),se!==""&&ne.push(se),this._readableState.length=se.length,this};const xe=1073741824;function Me(p){if(p>xe)throw new $("size","<= 1GiB",p);return p--,p|=p>>>1,p|=p>>>2,p|=p>>>4,p|=p>>>8,p|=p>>>16,p++,p}function d(p,m){return p<=0||m.length===0&&m.ended?0:(m.state&U)!==0?1:r(p)?m.flowing&&m.length?m.buffer.first().length:m.length:p<=m.length?p:m.ended?m.length:0}W.prototype.read=function(p){y("read",p),p===void 0?p=NaN:t(p)||(p=n(p,10));const m=this._readableState,ne=p;if(p>m.highWaterMark&&(m.highWaterMark=Me(p)),p!==0&&(m.state&=~q),p===0&&m.needReadable&&((m.highWaterMark!==0?m.length>=m.highWaterMark:m.length>0)||m.ended))return y("read: emitReadable",m.length,m.ended),m.length===0&&m.ended?Pe(this):a(this),null;if(p=d(p,m),p===0&&m.ended)return m.length===0&&Pe(this),null;let se=(m.state&ye)!==0;if(y("need readable",se),(m.length===0||m.length-p<m.highWaterMark)&&(se=!0,y("length less than watermark",se)),m.ended||m.reading||m.destroyed||m.errored||!m.constructed)se=!1,y("reading, ended or constructing",se);else if(se){y("do read"),m.state|=fe|Ee,m.length===0&&(m.state|=ye);try{this._read(m.highWaterMark)}catch(Oe){T(this,Oe)}m.state&=~Ee,m.reading||(p=d(ne,m))}let pe;return p>0?pe=Ce(p,m):pe=null,pe===null?(m.needReadable=m.length<=m.highWaterMark,p=0):(m.length-=p,m.multiAwaitDrain?m.awaitDrainWriters.clear():m.awaitDrainWriters=null),m.length===0&&(m.ended||(m.needReadable=!0),ne!==p&&m.ended&&Pe(this)),pe!==null&&!m.errorEmitted&&!m.closeEmitted&&(m.dataEmitted=!0,this.emit("data",pe)),pe};function i(p,m){if(y("onEofChunk"),!m.ended){if(m.decoder){const ne=m.decoder.end();ne&&ne.length&&(m.buffer.push(ne),m.length+=m.objectMode?1:ne.length)}m.ended=!0,m.sync?a(p):(m.needReadable=!1,m.emittedReadable=!0,b(p))}}function a(p){const m=p._readableState;y("emitReadable",m.needReadable,m.emittedReadable),m.needReadable=!1,m.emittedReadable||(y("emitReadable",m.flowing),m.emittedReadable=!0,s.nextTick(b,p))}function b(p){const m=p._readableState;y("emitReadable_",m.destroyed,m.length,m.ended),!m.destroyed&&!m.errored&&(m.length||m.ended)&&(p.emit("readable"),m.emittedReadable=!1),m.needReadable=!m.flowing&&!m.ended&&m.length<=m.highWaterMark,Te(p)}function A(p,m){!m.readingMore&&m.constructed&&(m.readingMore=!0,s.nextTick(M,p,m))}function M(p,m){for(;!m.reading&&!m.ended&&(m.length<m.highWaterMark||m.flowing&&m.length===0);){const ne=m.length;if(y("maybeReadMore read 0"),p.read(0),ne===m.length)break}m.readingMore=!1}W.prototype._read=function(p){throw new B("_read()")},W.prototype.pipe=function(p,m){const ne=this,se=this._readableState;se.pipes.length===1&&(se.multiAwaitDrain||(se.multiAwaitDrain=!0,se.awaitDrainWriters=new u(se.awaitDrainWriters?[se.awaitDrainWriters]:[]))),se.pipes.push(p),y("pipe count=%d opts=%j",se.pipes.length,m);const Oe=(!m||m.end!==!1)&&p!==s.stdout&&p!==s.stderr?Kt:w;se.endEmitted?s.nextTick(Oe):ne.once("end",Oe),p.on("unpipe",ke);function ke(j,O){y("onunpipe"),j===ne&&O&&O.hasUnpiped===!1&&(O.hasUnpiped=!0,Xe())}function Kt(){y("onend"),p.end()}let ze,Yt=!1;function Xe(){y("cleanup"),p.removeListener("close",It),p.removeListener("finish",Le),ze&&p.removeListener("drain",ze),p.removeListener("error",bt),p.removeListener("unpipe",ke),ne.removeListener("end",Kt),ne.removeListener("end",w),ne.removeListener("data",_t),Yt=!0,ze&&se.awaitDrainWriters&&(!p._writableState||p._writableState.needDrain)&&ze()}function Nt(){Yt||(se.pipes.length===1&&se.pipes[0]===p?(y("false write response, pause",0),se.awaitDrainWriters=p,se.multiAwaitDrain=!1):se.pipes.length>1&&se.pipes.includes(p)&&(y("false write response, pause",se.awaitDrainWriters.size),se.awaitDrainWriters.add(p)),ne.pause()),ze||(ze=z(ne,p),p.on("drain",ze))}ne.on("data",_t);function _t(j){y("ondata");const O=p.write(j);y("dest.write",O),O===!1&&Nt()}function bt(j){if(y("onerror",j),w(),p.removeListener("error",bt),p.listenerCount("error")===0){const O=p._writableState||p._readableState;O&&!O.errorEmitted?T(p,j):p.emit("error",j)}}I(p,"error",bt);function It(){p.removeListener("finish",Le),w()}p.once("close",It);function Le(){y("onfinish"),p.removeListener("close",It),w()}p.once("finish",Le);function w(){y("unpipe"),ne.unpipe(p)}return p.emit("pipe",ne),p.writableNeedDrain===!0?Nt():se.flowing||(y("pipe resume"),ne.resume()),p};function z(p,m){return function(){const se=p._readableState;se.awaitDrainWriters===m?(y("pipeOnDrain",1),se.awaitDrainWriters=null):se.multiAwaitDrain&&(y("pipeOnDrain",se.awaitDrainWriters.size),se.awaitDrainWriters.delete(m)),(!se.awaitDrainWriters||se.awaitDrainWriters.size===0)&&p.listenerCount("data")&&p.resume()}}W.prototype.unpipe=function(p){const m=this._readableState,ne={hasUnpiped:!1};if(m.pipes.length===0)return this;if(!p){const pe=m.pipes;m.pipes=[],this.pause();for(let Oe=0;Oe<pe.length;Oe++)pe[Oe].emit("unpipe",this,{hasUnpiped:!1});return this}const se=e(m.pipes,p);return se===-1?this:(m.pipes.splice(se,1),m.pipes.length===0&&this.pause(),p.emit("unpipe",this,ne),this)},W.prototype.on=function(p,m){const ne=N.prototype.on.call(this,p,m),se=this._readableState;return p==="data"?(se.readableListening=this.listenerCount("readable")>0,se.flowing!==!1&&this.resume()):p==="readable"&&!se.endEmitted&&!se.readableListening&&(se.readableListening=se.needReadable=!0,se.flowing=!1,se.emittedReadable=!1,y("on readable",se.length,se.reading),se.length?a(this):se.reading||s.nextTick(ve,this)),ne},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(p,m){const ne=N.prototype.removeListener.call(this,p,m);return p==="readable"&&s.nextTick(me,this),ne},W.prototype.off=W.prototype.removeListener,W.prototype.removeAllListeners=function(p){const m=N.prototype.removeAllListeners.apply(this,arguments);return(p==="readable"||p===void 0)&&s.nextTick(me,this),m};function me(p){const m=p._readableState;m.readableListening=p.listenerCount("readable")>0,m.resumeScheduled&&m[oe]===!1?m.flowing=!0:p.listenerCount("data")>0?p.resume():m.readableListening||(m.flowing=null)}function ve(p){y("readable nexttick read 0"),p.read(0)}W.prototype.resume=function(){const p=this._readableState;return p.flowing||(y("resume"),p.flowing=!p.readableListening,Ne(this,p)),p[oe]=!1,this};function Ne(p,m){m.resumeScheduled||(m.resumeScheduled=!0,s.nextTick(Ae,p,m))}function Ae(p,m){y("resume",m.reading),m.reading||p.read(0),m.resumeScheduled=!1,p.emit("resume"),Te(p),m.flowing&&!m.reading&&p.read(0)}W.prototype.pause=function(){return y("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(y("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[oe]=!0,this};function Te(p){const m=p._readableState;for(y("flow",m.flowing);m.flowing&&p.read()!==null;);}W.prototype.wrap=function(p){let m=!1;p.on("data",se=>{!this.push(se)&&p.pause&&(m=!0,p.pause())}),p.on("end",()=>{this.push(null)}),p.on("error",se=>{T(this,se)}),p.on("close",()=>{this.destroy()}),p.on("destroy",()=>{this.destroy()}),this._read=()=>{m&&p.resume&&(m=!1,p.resume())};const ne=f(p);for(let se=1;se<ne.length;se++){const pe=ne[se];this[pe]===void 0&&typeof p[pe]=="function"&&(this[pe]=p[pe].bind(p))}return this},W.prototype[h]=function(){return He(this)},W.prototype.iterator=function(p){return p!==void 0&&ue(p,"options"),He(this,p)};function He(p,m){typeof p.read!="function"&&(p=W.wrap(p,{objectMode:!0}));const ne=et(p,m);return ne.stream=p,ne}async function*et(p,m){let ne=de;function se(ke){this===p?(ne(),ne=de):ne=ke}p.on("readable",se);let pe;const Oe=E(p,{writable:!1},ke=>{pe=ke?X(pe,ke):null,ne(),ne=de});try{for(;;){const ke=p.destroyed?null:p.read();if(ke!==null)yield ke;else{if(pe)throw pe;if(pe===null)return;await new g(se)}}}catch(ke){throw pe=X(pe,ke),pe}finally{(pe||m?.destroyOnReturn!==!1)&&(pe===void 0||p._readableState.autoDestroy)?S.destroyer(p,null):(p.off("readable",se),Oe())}}l(W.prototype,{readable:{__proto__:null,get(){const p=this._readableState;return!!p&&p.readable!==!1&&!p.destroyed&&!p.errorEmitted&&!p.endEmitted},set(p){this._readableState&&(this._readableState.readable=!!p)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(p){this._readableState&&(this._readableState.flowing=p)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(p){this._readableState&&(this._readableState.destroyed=p)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),l(ee.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[oe]!==!1},set(p){this[oe]=!!p}}}),W._fromList=Ce;function Ce(p,m){if(m.length===0)return null;let ne;return m.objectMode?ne=m.buffer.shift():!p||p>=m.length?(m.decoder?ne=m.buffer.join(""):m.buffer.length===1?ne=m.buffer.first():ne=m.buffer.concat(m.length),m.buffer.clear()):ne=m.buffer.consume(p,m.decoder),ne}function Pe(p){const m=p._readableState;y("endReadable",m.endEmitted),m.endEmitted||(m.ended=!0,s.nextTick(Xt,m,p))}function Xt(p,m){if(y("endReadableNT",p.endEmitted,p.length),!p.errored&&!p.closeEmitted&&!p.endEmitted&&p.length===0){if(p.endEmitted=!0,m.emit("end"),m.writable&&m.allowHalfOpen===!1)s.nextTick(tt,m);else if(p.autoDestroy){const ne=m._writableState;(!ne||ne.autoDestroy&&(ne.finished||ne.writable===!1))&&m.destroy()}}}function tt(p){p.writable&&!p.writableEnded&&!p.destroyed&&p.end()}W.from=function(p,m){return V(W,p,m)};let pt;function Tt(){return pt===void 0&&(pt={}),pt}return W.fromWeb=function(p,m){return Tt().newStreamReadableFromReadableStream(p,m)},W.toWeb=function(p,m){return Tt().newReadableStreamFromStreamReadable(p,m)},W.wrap=function(p,m){var ne,se;return new W({objectMode:(ne=(se=p.readableObjectMode)!==null&&se!==void 0?se:p.objectMode)!==null&&ne!==void 0?ne:!0,...m,destroy(pe,Oe){S.destroyer(p,pe),Oe(pe)}}).wrap(p)},Fr}var vr,ji;function Kr(){if(ji)return vr;ji=1;const s=ht(),{ArrayPrototypeSlice:e,Error:t,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:n,ObjectDefineProperties:l,ObjectSetPrototypeOf:f,StringPrototypeToLowerCase:o,Symbol:g,SymbolHasInstance:u}=De();vr=ue,ue.WritableState=L;const{EventEmitter:c}=lr(),h=Xr().Stream,{Buffer:R}=Ze(),D=St(),{addAbortSignal:N}=ur(),{getHighWaterMark:I,getDefaultHighWaterMark:x}=fr(),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:E,ERR_MULTIPLE_CALLBACK:y,ERR_STREAM_CANNOT_PIPE:C,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:H,ERR_STREAM_NULL_VALUES:Y,ERR_STREAM_WRITE_AFTER_END:X,ERR_UNKNOWN_ENCODING:he}=qe().codes,{errorOrDestroy:B}=D;f(ue.prototype,h.prototype),f(ue,h);function $(){}const Z=g("kOnFinished");function L(v,P,k){typeof k!="boolean"&&(k=P instanceof Ye()),this.objectMode=!!(v&&v.objectMode),k&&(this.objectMode=this.objectMode||!!(v&&v.writableObjectMode)),this.highWaterMark=v?I(this,v,"writableHighWaterMark",k):x(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const J=!!(v&&v.decodeStrings===!1);this.decodeStrings=!J,this.defaultEncoding=v&&v.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=T.bind(void 0,P),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ae(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!v||v.emitClose!==!1,this.autoDestroy=!v||v.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Z]=[]}function ae(v){v.buffered=[],v.bufferedIndex=0,v.allBuffers=!0,v.allNoop=!0}L.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},n(L.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function ue(v){const P=this instanceof Ye();if(!P&&!r(ue,this))return new ue(v);this._writableState=new L(v,this,P),v&&(typeof v.write=="function"&&(this._write=v.write),typeof v.writev=="function"&&(this._writev=v.writev),typeof v.destroy=="function"&&(this._destroy=v.destroy),typeof v.final=="function"&&(this._final=v.final),typeof v.construct=="function"&&(this._construct=v.construct),v.signal&&N(v.signal,this)),h.call(this,v),D.construct(this,()=>{const k=this._writableState;k.writing||fe(this,k),q(this,k)})}n(ue,u,{__proto__:null,value:function(v){return r(this,v)?!0:this!==ue?!1:v&&v._writableState instanceof L}}),ue.prototype.pipe=function(){B(this,new C)};function oe(v,P,k,J){const ie=v._writableState;if(typeof k=="function")J=k,k=ie.defaultEncoding;else{if(!k)k=ie.defaultEncoding;else if(k!=="buffer"&&!R.isEncoding(k))throw new he(k);typeof J!="function"&&(J=$)}if(P===null)throw new Y;if(!ie.objectMode)if(typeof P=="string")ie.decodeStrings!==!1&&(P=R.from(P,k),k="buffer");else if(P instanceof R)k="buffer";else if(h._isUint8Array(P))P=h._uint8ArrayToBuffer(P),k="buffer";else throw new _("chunk",["string","Buffer","Uint8Array"],P);let te;return ie.ending?te=new X:ie.destroyed&&(te=new S("write")),te?(s.nextTick(J,te),B(v,te,!0),te):(ie.pendingcb++,we(v,ie,P,k,J))}ue.prototype.write=function(v,P,k){return oe(this,v,P,k)===!0},ue.prototype.cork=function(){this._writableState.corked++},ue.prototype.uncork=function(){const v=this._writableState;v.corked&&(v.corked--,v.writing||fe(this,v))},ue.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=o(P)),!R.isEncoding(P))throw new he(P);return this._writableState.defaultEncoding=P,this};function we(v,P,k,J,ie){const te=P.objectMode?1:k.length;P.length+=te;const F=P.length<P.highWaterMark;return F||(P.needDrain=!0),P.writing||P.corked||P.errored||!P.constructed?(P.buffered.push({chunk:k,encoding:J,callback:ie}),P.allBuffers&&J!=="buffer"&&(P.allBuffers=!1),P.allNoop&&ie!==$&&(P.allNoop=!1)):(P.writelen=te,P.writecb=ie,P.writing=!0,P.sync=!0,v._write(k,J,P.onwrite),P.sync=!1),F&&!P.errored&&!P.destroyed}function V(v,P,k,J,ie,te,F){P.writelen=J,P.writecb=F,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new S("write")):k?v._writev(ie,P.onwrite):v._write(ie,te,P.onwrite),P.sync=!1}function de(v,P,k,J){--P.pendingcb,J(k),G(P),B(v,k)}function T(v,P){const k=v._writableState,J=k.sync,ie=k.writecb;if(typeof ie!="function"){B(v,new y);return}k.writing=!1,k.writecb=null,k.length-=k.writelen,k.writelen=0,P?(P.stack,k.errored||(k.errored=P),v._readableState&&!v._readableState.errored&&(v._readableState.errored=P),J?s.nextTick(de,v,k,P,ie):de(v,k,P,ie)):(k.buffered.length>k.bufferedIndex&&fe(v,k),J?k.afterWriteTickInfo!==null&&k.afterWriteTickInfo.cb===ie?k.afterWriteTickInfo.count++:(k.afterWriteTickInfo={count:1,cb:ie,stream:v,state:k},s.nextTick(U,k.afterWriteTickInfo)):re(v,k,1,ie))}function U({stream:v,state:P,count:k,cb:J}){return P.afterWriteTickInfo=null,re(v,P,k,J)}function re(v,P,k,J){for(!P.ending&&!v.destroyed&&P.length===0&&P.needDrain&&(P.needDrain=!1,v.emit("drain"));k-- >0;)P.pendingcb--,J();P.destroyed&&G(P),q(v,P)}function G(v){if(v.writing)return;for(let ie=v.bufferedIndex;ie<v.buffered.length;++ie){var P;const{chunk:te,callback:F}=v.buffered[ie],K=v.objectMode?1:te.length;v.length-=K,F((P=v.errored)!==null&&P!==void 0?P:new S("write"))}const k=v[Z].splice(0);for(let ie=0;ie<k.length;ie++){var J;k[ie]((J=v.errored)!==null&&J!==void 0?J:new S("end"))}ae(v)}function fe(v,P){if(P.corked||P.bufferProcessing||P.destroyed||!P.constructed)return;const{buffered:k,bufferedIndex:J,objectMode:ie}=P,te=k.length-J;if(!te)return;let F=J;if(P.bufferProcessing=!0,te>1&&v._writev){P.pendingcb-=te-1;const K=P.allNoop?$:W=>{for(let Se=F;Se<k.length;++Se)k[Se].callback(W)},ee=P.allNoop&&F===0?k:e(k,F);ee.allBuffers=P.allBuffers,V(v,P,!0,P.length,ee,"",K),ae(P)}else{do{const{chunk:K,encoding:ee,callback:W}=k[F];k[F++]=null;const Se=ie?1:K.length;V(v,P,!1,Se,K,ee,W)}while(F<k.length&&!P.writing);F===k.length?ae(P):F>256?(k.splice(0,F),P.bufferedIndex=0):P.bufferedIndex=F}P.bufferProcessing=!1}ue.prototype._write=function(v,P,k){if(this._writev)this._writev([{chunk:v,encoding:P}],k);else throw new E("_write()")},ue.prototype._writev=null,ue.prototype.end=function(v,P,k){const J=this._writableState;typeof v=="function"?(k=v,v=null,P=null):typeof P=="function"&&(k=P,P=null);let ie;if(v!=null){const te=oe(this,v,P);te instanceof t&&(ie=te)}return J.corked&&(J.corked=1,this.uncork()),ie||(!J.errored&&!J.ending?(J.ending=!0,q(this,J,!0),J.ended=!0):J.finished?ie=new H("end"):J.destroyed&&(ie=new S("end"))),typeof k=="function"&&(ie||J.finished?s.nextTick(k,ie):J[Z].push(k)),this};function _e(v){return v.ending&&!v.destroyed&&v.constructed&&v.length===0&&!v.errored&&v.buffered.length===0&&!v.finished&&!v.writing&&!v.errorEmitted&&!v.closeEmitted}function Ee(v,P){let k=!1;function J(ie){if(k){B(v,ie??y());return}if(k=!0,P.pendingcb--,ie){const te=P[Z].splice(0);for(let F=0;F<te.length;F++)te[F](ie);B(v,ie,P.sync)}else _e(P)&&(P.prefinished=!0,v.emit("prefinish"),P.pendingcb++,s.nextTick(Q,v,P))}P.sync=!0,P.pendingcb++;try{v._final(J)}catch(ie){J(ie)}P.sync=!1}function ye(v,P){!P.prefinished&&!P.finalCalled&&(typeof v._final=="function"&&!P.destroyed?(P.finalCalled=!0,Ee(v,P)):(P.prefinished=!0,v.emit("prefinish")))}function q(v,P,k){_e(P)&&(ye(v,P),P.pendingcb===0&&(k?(P.pendingcb++,s.nextTick((J,ie)=>{_e(ie)?Q(J,ie):ie.pendingcb--},v,P)):_e(P)&&(P.pendingcb++,Q(v,P))))}function Q(v,P){P.pendingcb--,P.finished=!0;const k=P[Z].splice(0);for(let J=0;J<k.length;J++)k[J]();if(v.emit("finish"),P.autoDestroy){const J=v._readableState;(!J||J.autoDestroy&&(J.endEmitted||J.readable===!1))&&v.destroy()}}l(ue.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(v){this._writableState&&(this._writableState.destroyed=v)}},writable:{__proto__:null,get(){const v=this._writableState;return!!v&&v.writable!==!1&&!v.destroyed&&!v.errored&&!v.ending&&!v.ended},set(v){this._writableState&&(this._writableState.writable=!!v)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const v=this._writableState;return v?!v.destroyed&&!v.ending&&v.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const le=D.destroy;ue.prototype.destroy=function(v,P){const k=this._writableState;return!k.destroyed&&(k.bufferedIndex<k.buffered.length||k[Z].length)&&s.nextTick(G,k),le.call(this,v,P),this},ue.prototype._undestroy=D.undestroy,ue.prototype._destroy=function(v,P){P(v)},ue.prototype[c.captureRejectionSymbol]=function(v){this.destroy(v)};let ge;function be(){return ge===void 0&&(ge={}),ge}return ue.fromWeb=function(v,P){return be().newStreamWritableFromWritableStream(v,P)},ue.toWeb=function(v){return be().newWritableStreamFromStreamWritable(v)},vr}var Dr,Li;function us(){if(Li)return Dr;Li=1;const s=ht(),e=Ze(),{isReadable:t,isWritable:r,isIterable:n,isNodeStream:l,isReadableNodeStream:f,isWritableNodeStream:o,isDuplexNodeStream:g,isReadableStream:u,isWritableStream:c}=Je(),h=nt(),{AbortError:R,codes:{ERR_INVALID_ARG_TYPE:D,ERR_INVALID_RETURN_VALUE:N}}=qe(),{destroyer:I}=St(),x=Ye(),_=cr(),E=Kr(),{createDeferredPromise:y}=We(),C=gn(),S=globalThis.Blob||e.Blob,H=typeof S<"u"?function(L){return L instanceof S}:function(L){return!1},Y=globalThis.AbortController||Vt().AbortController,{FunctionPrototypeCall:X}=De();class he extends x{constructor(L){super(L),L?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),L?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Dr=function Z(L,ae){if(g(L))return L;if(f(L))return $({readable:L});if(o(L))return $({writable:L});if(l(L))return $({writable:!1,readable:!1});if(u(L))return $({readable:_.fromWeb(L)});if(c(L))return $({writable:E.fromWeb(L)});if(typeof L=="function"){const{value:oe,write:we,final:V,destroy:de}=B(L);if(n(oe))return C(he,oe,{objectMode:!0,write:we,final:V,destroy:de});const T=oe?.then;if(typeof T=="function"){let U;const re=X(T,oe,G=>{if(G!=null)throw new N("nully","body",G)},G=>{I(U,G)});return U=new he({objectMode:!0,readable:!1,write:we,final(G){V(async()=>{try{await re,s.nextTick(G,null)}catch(fe){s.nextTick(G,fe)}})},destroy:de})}throw new N("Iterable, AsyncIterable or AsyncFunction",ae,oe)}if(H(L))return Z(L.arrayBuffer());if(n(L))return C(he,L,{objectMode:!0,writable:!1});if(u(L?.readable)&&c(L?.writable))return he.fromWeb(L);if(typeof L?.writable=="object"||typeof L?.readable=="object"){const oe=L!=null&&L.readable?f(L?.readable)?L?.readable:Z(L.readable):void 0,we=L!=null&&L.writable?o(L?.writable)?L?.writable:Z(L.writable):void 0;return $({readable:oe,writable:we})}const ue=L?.then;if(typeof ue=="function"){let oe;return X(ue,L,we=>{we!=null&&oe.push(we),oe.push(null)},we=>{I(oe,we)}),oe=new he({objectMode:!0,writable:!1,read(){}})}throw new D(ae,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],L)};function B(Z){let{promise:L,resolve:ae}=y();const ue=new Y,oe=ue.signal;return{value:Z((async function*(){for(;;){const V=L;L=null;const{chunk:de,done:T,cb:U}=await V;if(s.nextTick(U),T)return;if(oe.aborted)throw new R(void 0,{cause:oe.reason});({promise:L,resolve:ae}=y()),yield de}})(),{signal:oe}),write(V,de,T){const U=ae;ae=null,U({chunk:V,done:!1,cb:T})},final(V){const de=ae;ae=null,de({done:!0,cb:V})},destroy(V,de){ue.abort(),de(V)}}}function $(Z){const L=Z.readable&&typeof Z.readable.read!="function"?_.wrap(Z.readable):Z.readable,ae=Z.writable;let ue=!!t(L),oe=!!r(ae),we,V,de,T,U;function re(G){const fe=T;T=null,fe?fe(G):G&&U.destroy(G)}return U=new he({readableObjectMode:!!(L!=null&&L.readableObjectMode),writableObjectMode:!!(ae!=null&&ae.writableObjectMode),readable:ue,writable:oe}),oe&&(h(ae,G=>{oe=!1,G&&I(L,G),re(G)}),U._write=function(G,fe,_e){ae.write(G,fe)?_e():we=_e},U._final=function(G){ae.end(),V=G},ae.on("drain",function(){if(we){const G=we;we=null,G()}}),ae.on("finish",function(){if(V){const G=V;V=null,G()}})),ue&&(h(L,G=>{ue=!1,G&&I(L,G),re(G)}),L.on("readable",function(){if(de){const G=de;de=null,G()}}),L.on("end",function(){U.push(null)}),U._read=function(){for(;;){const G=L.read();if(G===null){de=U._read;return}if(!U.push(G))return}}),U._destroy=function(G,fe){!G&&T!==null&&(G=new R),de=null,we=null,V=null,T===null?fe(G):(T=fe,I(ae,G),I(L,G))},U}return Dr}var Cr,Bi;function Ye(){if(Bi)return Cr;Bi=1;const{ObjectDefineProperties:s,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:t,ObjectSetPrototypeOf:r}=De();Cr=f;const n=cr(),l=Kr();r(f.prototype,n.prototype),r(f,n);{const c=t(l.prototype);for(let h=0;h<c.length;h++){const R=c[h];f.prototype[R]||(f.prototype[R]=l.prototype[R])}}function f(c){if(!(this instanceof f))return new f(c);n.call(this,c),l.call(this,c),c?(this.allowHalfOpen=c.allowHalfOpen!==!1,c.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),c.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}s(f.prototype,{writable:{__proto__:null,...e(l.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(l.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(l.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(l.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(l.prototype,"writableLength")},writableFinished:{__proto__:null,...e(l.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(l.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(l.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(l.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(c){this._readableState&&this._writableState&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}}});let o;function g(){return o===void 0&&(o={}),o}f.fromWeb=function(c,h){return g().newStreamDuplexFromReadableWritablePair(c,h)},f.toWeb=function(c){return g().newReadableWritablePairFromDuplex(c)};let u;return f.from=function(c){return u||(u=us()),u(c,"body")},Cr}var Pr,Oi;function yn(){if(Oi)return Pr;Oi=1;const{ObjectSetPrototypeOf:s,Symbol:e}=De();Pr=f;const{ERR_METHOD_NOT_IMPLEMENTED:t}=qe().codes,r=Ye(),{getHighWaterMark:n}=fr();s(f.prototype,r.prototype),s(f,r);const l=e("kCallback");function f(u){if(!(this instanceof f))return new f(u);const c=u?n(this,u,"readableHighWaterMark",!0):null;c===0&&(u={...u,highWaterMark:null,readableHighWaterMark:c,writableHighWaterMark:u.writableHighWaterMark||0}),r.call(this,u),this._readableState.sync=!1,this[l]=null,u&&(typeof u.transform=="function"&&(this._transform=u.transform),typeof u.flush=="function"&&(this._flush=u.flush)),this.on("prefinish",g)}function o(u){typeof this._flush=="function"&&!this.destroyed?this._flush((c,h)=>{if(c){u?u(c):this.destroy(c);return}h!=null&&this.push(h),this.push(null),u&&u()}):(this.push(null),u&&u())}function g(){this._final!==o&&o.call(this)}return f.prototype._final=o,f.prototype._transform=function(u,c,h){throw new t("_transform()")},f.prototype._write=function(u,c,h){const R=this._readableState,D=this._writableState,N=R.length;this._transform(u,c,(I,x)=>{if(I){h(I);return}x!=null&&this.push(x),D.ended||N===R.length||R.length<R.highWaterMark?h():this[l]=h})},f.prototype._read=function(){if(this[l]){const u=this[l];this[l]=null,u()}},Pr}var jr,Mi;function wn(){if(Mi)return jr;Mi=1;const{ObjectSetPrototypeOf:s}=De();jr=t;const e=yn();s(t.prototype,e.prototype),s(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,l){l(null,r)},jr}var Lr,$i;function Yr(){if($i)return Lr;$i=1;const s=ht(),{ArrayIsArray:e,Promise:t,SymbolAsyncIterator:r,SymbolDispose:n}=De(),l=nt(),{once:f}=We(),o=St(),g=Ye(),{aggregateTwoErrors:u,codes:{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:R,ERR_STREAM_DESTROYED:D,ERR_STREAM_PREMATURE_CLOSE:N},AbortError:I}=qe(),{validateFunction:x,validateAbortSignal:_}=zt(),{isIterable:E,isReadable:y,isReadableNodeStream:C,isNodeStream:S,isTransformStream:H,isWebStream:Y,isReadableStream:X,isReadableFinished:he}=Je(),B=globalThis.AbortController||Vt().AbortController;let $,Z,L;function ae(G,fe,_e){let Ee=!1;G.on("close",()=>{Ee=!0});const ye=l(G,{readable:fe,writable:_e},q=>{Ee=!q});return{destroy:q=>{Ee||(Ee=!0,o.destroyer(G,q||new D("pipe")))},cleanup:ye}}function ue(G){return x(G[G.length-1],"streams[stream.length - 1]"),G.pop()}function oe(G){if(E(G))return G;if(C(G))return we(G);throw new c("val",["Readable","Iterable","AsyncIterable"],G)}async function*we(G){Z||(Z=cr()),yield*Z.prototype[r].call(G)}async function V(G,fe,_e,{end:Ee}){let ye,q=null;const Q=be=>{if(be&&(ye=be),q){const v=q;q=null,v()}},le=()=>new t((be,v)=>{ye?v(ye):q=()=>{ye?v(ye):be()}});fe.on("drain",Q);const ge=l(fe,{readable:!1},Q);try{fe.writableNeedDrain&&await le();for await(const be of G)fe.write(be)||await le();Ee&&(fe.end(),await le()),_e()}catch(be){_e(ye!==be?u(ye,be):be)}finally{ge(),fe.off("drain",Q)}}async function de(G,fe,_e,{end:Ee}){H(fe)&&(fe=fe.writable);const ye=fe.getWriter();try{for await(const q of G)await ye.ready,ye.write(q).catch(()=>{});await ye.ready,Ee&&await ye.close(),_e()}catch(q){try{await ye.abort(q),_e(q)}catch(Q){_e(Q)}}}function T(...G){return U(G,f(ue(G)))}function U(G,fe,_e){if(G.length===1&&e(G[0])&&(G=G[0]),G.length<2)throw new R("streams");const Ee=new B,ye=Ee.signal,q=_e?.signal,Q=[];_(q,"options.signal");function le(){ie(new I)}L=L||We().addAbortListener;let ge;q&&(ge=L(q,le));let be,v;const P=[];let k=0;function J(ee){ie(ee,--k===0)}function ie(ee,W){var Se;if(ee&&(!be||be.code==="ERR_STREAM_PREMATURE_CLOSE")&&(be=ee),!(!be&&!W)){for(;P.length;)P.shift()(be);(Se=ge)===null||Se===void 0||Se[n](),Ee.abort(),W&&(be||Q.forEach(Be=>Be()),s.nextTick(fe,be,v))}}let te;for(let ee=0;ee<G.length;ee++){const W=G[ee],Se=ee<G.length-1,Be=ee>0,xe=Se||_e?.end!==!1,Me=ee===G.length-1;if(S(W)){let d=function(i){i&&i.name!=="AbortError"&&i.code!=="ERR_STREAM_PREMATURE_CLOSE"&&J(i)};if(xe){const{destroy:i,cleanup:a}=ae(W,Se,Be);P.push(i),y(W)&&Me&&Q.push(a)}W.on("error",d),y(W)&&Me&&Q.push(()=>{W.removeListener("error",d)})}if(ee===0)if(typeof W=="function"){if(te=W({signal:ye}),!E(te))throw new h("Iterable, AsyncIterable or Stream","source",te)}else E(W)||C(W)||H(W)?te=W:te=g.from(W);else if(typeof W=="function"){if(H(te)){var F;te=oe((F=te)===null||F===void 0?void 0:F.readable)}else te=oe(te);if(te=W(te,{signal:ye}),Se){if(!E(te,!0))throw new h("AsyncIterable",`transform[${ee-1}]`,te)}else{var K;$||($=wn());const d=new $({objectMode:!0}),i=(K=te)===null||K===void 0?void 0:K.then;if(typeof i=="function")k++,i.call(te,A=>{v=A,A!=null&&d.write(A),xe&&d.end(),s.nextTick(J)},A=>{d.destroy(A),s.nextTick(J,A)});else if(E(te,!0))k++,V(te,d,J,{end:xe});else if(X(te)||H(te)){const A=te.readable||te;k++,V(A,d,J,{end:xe})}else throw new h("AsyncIterable or Promise","destination",te);te=d;const{destroy:a,cleanup:b}=ae(te,!1,!0);P.push(a),Me&&Q.push(b)}}else if(S(W)){if(C(te)){k+=2;const d=re(te,W,J,{end:xe});y(W)&&Me&&Q.push(d)}else if(H(te)||X(te)){const d=te.readable||te;k++,V(d,W,J,{end:xe})}else if(E(te))k++,V(te,W,J,{end:xe});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],te);te=W}else if(Y(W)){if(C(te))k++,de(oe(te),W,J,{end:xe});else if(X(te)||E(te))k++,de(te,W,J,{end:xe});else if(H(te))k++,de(te.readable,W,J,{end:xe});else throw new c("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],te);te=W}else te=g.from(W)}return(ye!=null&&ye.aborted||q!=null&&q.aborted)&&s.nextTick(le),te}function re(G,fe,_e,{end:Ee}){let ye=!1;if(fe.on("close",()=>{ye||_e(new N)}),G.pipe(fe,{end:!1}),Ee){let q=function(){ye=!0,fe.end()};he(G)?s.nextTick(q):G.once("end",q)}else _e();return l(G,{readable:!0,writable:!1},q=>{const Q=G._readableState;q&&q.code==="ERR_STREAM_PREMATURE_CLOSE"&&Q&&Q.ended&&!Q.errored&&!Q.errorEmitted?G.once("end",_e).once("error",_e):_e(q)}),l(fe,{readable:!1,writable:!0},_e)}return Lr={pipelineImpl:U,pipeline:T},Lr}var Br,ki;function mn(){if(ki)return Br;ki=1;const{pipeline:s}=Yr(),e=Ye(),{destroyer:t}=St(),{isNodeStream:r,isReadable:n,isWritable:l,isWebStream:f,isTransformStream:o,isWritableStream:g,isReadableStream:u}=Je(),{AbortError:c,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:R}}=qe(),D=nt();return Br=function(...I){if(I.length===0)throw new R("streams");if(I.length===1)return e.from(I[0]);const x=[...I];if(typeof I[0]=="function"&&(I[0]=e.from(I[0])),typeof I[I.length-1]=="function"){const $=I.length-1;I[$]=e.from(I[$])}for(let $=0;$<I.length;++$)if(!(!r(I[$])&&!f(I[$]))){if($<I.length-1&&!(n(I[$])||u(I[$])||o(I[$])))throw new h(`streams[${$}]`,x[$],"must be readable");if($>0&&!(l(I[$])||g(I[$])||o(I[$])))throw new h(`streams[${$}]`,x[$],"must be writable")}let _,E,y,C,S;function H($){const Z=C;C=null,Z?Z($):$?S.destroy($):!B&&!he&&S.destroy()}const Y=I[0],X=s(I,H),he=!!(l(Y)||g(Y)||o(Y)),B=!!(n(X)||u(X)||o(X));if(S=new e({writableObjectMode:!!(Y!=null&&Y.writableObjectMode),readableObjectMode:!!(X!=null&&X.readableObjectMode),writable:he,readable:B}),he){if(r(Y))S._write=function(Z,L,ae){Y.write(Z,L)?ae():_=ae},S._final=function(Z){Y.end(),E=Z},Y.on("drain",function(){if(_){const Z=_;_=null,Z()}});else if(f(Y)){const L=(o(Y)?Y.writable:Y).getWriter();S._write=async function(ae,ue,oe){try{await L.ready,L.write(ae).catch(()=>{}),oe()}catch(we){oe(we)}},S._final=async function(ae){try{await L.ready,L.close().catch(()=>{}),E=ae}catch(ue){ae(ue)}}}const $=o(X)?X.readable:X;D($,()=>{if(E){const Z=E;E=null,Z()}})}if(B){if(r(X))X.on("readable",function(){if(y){const $=y;y=null,$()}}),X.on("end",function(){S.push(null)}),S._read=function(){for(;;){const $=X.read();if($===null){y=S._read;return}if(!S.push($))return}};else if(f(X)){const Z=(o(X)?X.readable:X).getReader();S._read=async function(){for(;;)try{const{value:L,done:ae}=await Z.read();if(!S.push(L))return;if(ae){S.push(null);return}}catch{return}}}}return S._destroy=function($,Z){!$&&C!==null&&($=new c),y=null,_=null,E=null,C===null?Z($):(C=Z,r(X)&&t(X,$))},S},Br}var Ui;function fs(){if(Ui)return er;Ui=1;const s=globalThis.AbortController||Vt().AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:t,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:n},AbortError:l}=qe(),{validateAbortSignal:f,validateInteger:o,validateObject:g}=zt(),u=De().Symbol("kWeak"),c=De().Symbol("kResistStopPropagation"),{finished:h}=nt(),R=mn(),{addAbortSignalNoValidate:D}=ur(),{isWritable:N,isNodeStream:I}=Je(),{deprecate:x}=We(),{ArrayPrototypePush:_,Boolean:E,MathFloor:y,Number:C,NumberIsNaN:S,Promise:H,PromiseReject:Y,PromiseResolve:X,PromisePrototypeThen:he,Symbol:B}=De(),$=B("kEmpty"),Z=B("kEof");function L(q,Q){if(Q!=null&&g(Q,"options"),Q?.signal!=null&&f(Q.signal,"options.signal"),I(q)&&!N(q))throw new e("stream",q,"must be writable");const le=R(this,q);return Q!=null&&Q.signal&&D(Q.signal,le),le}function ae(q,Q){if(typeof q!="function")throw new t("fn",["Function","AsyncFunction"],q);Q!=null&&g(Q,"options"),Q?.signal!=null&&f(Q.signal,"options.signal");let le=1;Q?.concurrency!=null&&(le=y(Q.concurrency));let ge=le-1;return Q?.highWaterMark!=null&&(ge=y(Q.highWaterMark)),o(le,"options.concurrency",1),o(ge,"options.highWaterMark",0),ge+=le,async function*(){const v=We().AbortSignalAny([Q?.signal].filter(E)),P=this,k=[],J={signal:v};let ie,te,F=!1,K=0;function ee(){F=!0,W()}function W(){K-=1,Se()}function Se(){te&&!F&&K<le&&k.length<ge&&(te(),te=null)}async function Be(){try{for await(let xe of P){if(F)return;if(v.aborted)throw new l;try{if(xe=q(xe,J),xe===$)continue;xe=X(xe)}catch(Me){xe=Y(Me)}K+=1,he(xe,W,ee),k.push(xe),ie&&(ie(),ie=null),!F&&(k.length>=ge||K>=le)&&await new H(Me=>{te=Me})}k.push(Z)}catch(xe){const Me=Y(xe);he(Me,W,ee),k.push(Me)}finally{F=!0,ie&&(ie(),ie=null)}}Be();try{for(;;){for(;k.length>0;){const xe=await k[0];if(xe===Z)return;if(v.aborted)throw new l;xe!==$&&(yield xe),k.shift(),Se()}await new H(xe=>{ie=xe})}}finally{F=!0,te&&(te(),te=null)}}.call(this)}function ue(q=void 0){return q!=null&&g(q,"options"),q?.signal!=null&&f(q.signal,"options.signal"),async function*(){let le=0;for await(const be of this){var ge;if(q!=null&&(ge=q.signal)!==null&&ge!==void 0&&ge.aborted)throw new l({cause:q.signal.reason});yield[le++,be]}}.call(this)}async function oe(q,Q=void 0){for await(const le of T.call(this,q,Q))return!0;return!1}async function we(q,Q=void 0){if(typeof q!="function")throw new t("fn",["Function","AsyncFunction"],q);return!await oe.call(this,async(...le)=>!await q(...le),Q)}async function V(q,Q){for await(const le of T.call(this,q,Q))return le}async function de(q,Q){if(typeof q!="function")throw new t("fn",["Function","AsyncFunction"],q);async function le(ge,be){return await q(ge,be),$}for await(const ge of ae.call(this,le,Q));}function T(q,Q){if(typeof q!="function")throw new t("fn",["Function","AsyncFunction"],q);async function le(ge,be){return await q(ge,be)?ge:$}return ae.call(this,le,Q)}class U extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function re(q,Q,le){var ge;if(typeof q!="function")throw new t("reducer",["Function","AsyncFunction"],q);le!=null&&g(le,"options"),le?.signal!=null&&f(le.signal,"options.signal");let be=arguments.length>1;if(le!=null&&(ge=le.signal)!==null&&ge!==void 0&&ge.aborted){const ie=new l(void 0,{cause:le.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(ie)),ie}const v=new s,P=v.signal;if(le!=null&&le.signal){const ie={once:!0,[u]:this,[c]:!0};le.signal.addEventListener("abort",()=>v.abort(),ie)}let k=!1;try{for await(const ie of this){var J;if(k=!0,le!=null&&(J=le.signal)!==null&&J!==void 0&&J.aborted)throw new l;be?Q=await q(Q,ie,{signal:P}):(Q=ie,be=!0)}if(!k&&!be)throw new U}finally{v.abort()}return Q}async function G(q){q!=null&&g(q,"options"),q?.signal!=null&&f(q.signal,"options.signal");const Q=[];for await(const ge of this){var le;if(q!=null&&(le=q.signal)!==null&&le!==void 0&&le.aborted)throw new l(void 0,{cause:q.signal.reason});_(Q,ge)}return Q}function fe(q,Q){const le=ae.call(this,q,Q);return async function*(){for await(const be of le)yield*be}.call(this)}function _e(q){if(q=C(q),S(q))return 0;if(q<0)throw new n("number",">= 0",q);return q}function Ee(q,Q=void 0){return Q!=null&&g(Q,"options"),Q?.signal!=null&&f(Q.signal,"options.signal"),q=_e(q),async function*(){var ge;if(Q!=null&&(ge=Q.signal)!==null&&ge!==void 0&&ge.aborted)throw new l;for await(const v of this){var be;if(Q!=null&&(be=Q.signal)!==null&&be!==void 0&&be.aborted)throw new l;q--<=0&&(yield v)}}.call(this)}function ye(q,Q=void 0){return Q!=null&&g(Q,"options"),Q?.signal!=null&&f(Q.signal,"options.signal"),q=_e(q),async function*(){var ge;if(Q!=null&&(ge=Q.signal)!==null&&ge!==void 0&&ge.aborted)throw new l;for await(const v of this){var be;if(Q!=null&&(be=Q.signal)!==null&&be!==void 0&&be.aborted)throw new l;if(q-- >0&&(yield v),q<=0)return}}.call(this)}return er.streamReturningOperators={asIndexedPairs:x(ue,"readable.asIndexedPairs will be removed in a future version."),drop:Ee,filter:T,flatMap:fe,map:ae,take:ye,compose:L},er.promiseReturningOperators={every:we,forEach:de,reduce:re,toArray:G,some:oe,find:V},er}var Or,qi;function xn(){if(qi)return Or;qi=1;const{ArrayPrototypePop:s,Promise:e}=De(),{isIterable:t,isNodeStream:r,isWebStream:n}=Je(),{pipelineImpl:l}=Yr(),{finished:f}=nt();En();function o(...g){return new e((u,c)=>{let h,R;const D=g[g.length-1];if(D&&typeof D=="object"&&!r(D)&&!t(D)&&!n(D)){const N=s(g);h=N.signal,R=N.end}l(g,(N,I)=>{N?c(N):u(I)},{signal:h,end:R})})}return Or={finished:f,pipeline:o},Or}var Wi;function En(){if(Wi)return pr.exports;Wi=1;const{Buffer:s}=Ze(),{ObjectDefineProperty:e,ObjectKeys:t,ReflectApply:r}=De(),{promisify:{custom:n}}=We(),{streamReturningOperators:l,promiseReturningOperators:f}=fs(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=qe(),g=mn(),{setDefaultHighWaterMark:u,getDefaultHighWaterMark:c}=fr(),{pipeline:h}=Yr(),{destroyer:R}=St(),D=nt(),N=xn(),I=Je(),x=pr.exports=Xr().Stream;x.isDestroyed=I.isDestroyed,x.isDisturbed=I.isDisturbed,x.isErrored=I.isErrored,x.isReadable=I.isReadable,x.isWritable=I.isWritable,x.Readable=cr();for(const E of t(l)){let C=function(...S){if(new.target)throw o();return x.Readable.from(r(y,this,S))};const y=l[E];e(C,"name",{__proto__:null,value:y.name}),e(C,"length",{__proto__:null,value:y.length}),e(x.Readable.prototype,E,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}for(const E of t(f)){let C=function(...S){if(new.target)throw o();return r(y,this,S)};const y=f[E];e(C,"name",{__proto__:null,value:y.name}),e(C,"length",{__proto__:null,value:y.length}),e(x.Readable.prototype,E,{__proto__:null,value:C,enumerable:!1,configurable:!0,writable:!0})}x.Writable=Kr(),x.Duplex=Ye(),x.Transform=yn(),x.PassThrough=wn(),x.pipeline=h;const{addAbortSignal:_}=ur();return x.addAbortSignal=_,x.finished=D,x.destroy=R,x.compose=g,x.setDefaultHighWaterMark=u,x.getDefaultHighWaterMark=c,e(x,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return N}}),e(h,n,{__proto__:null,enumerable:!0,get(){return N.pipeline}}),e(D,n,{__proto__:null,enumerable:!0,get(){return N.finished}}),x.Stream=x,x._isUint8Array=function(y){return y instanceof Uint8Array},x._uint8ArrayToBuffer=function(y){return s.from(y.buffer,y.byteOffset,y.byteLength)},pr.exports}var Gi;function Sn(){return Gi||(Gi=1,(function(s){const e=En(),t=xn(),r=e.Readable.destroy;s.exports=e.Readable,s.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,s.exports._isUint8Array=e._isUint8Array,s.exports.isDisturbed=e.isDisturbed,s.exports.isErrored=e.isErrored,s.exports.isReadable=e.isReadable,s.exports.Readable=e.Readable,s.exports.Writable=e.Writable,s.exports.Duplex=e.Duplex,s.exports.Transform=e.Transform,s.exports.PassThrough=e.PassThrough,s.exports.addAbortSignal=e.addAbortSignal,s.exports.finished=e.finished,s.exports.destroy=e.destroy,s.exports.destroy=r,s.exports.pipeline=e.pipeline,s.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return t}}),s.exports.Stream=e.Stream,s.exports.default=s.exports})(hr)),hr.exports}var Rn=Sn();function ot(s){return typeof s=="string"||s instanceof String}const cs="http://www.w3.org/2001/XMLSchema#string";function je(s){if(typeof s=="string")return s;if(!s)return"";if(typeof s.id<"u"&&s.termType!=="Quad")return s.id;let e,t,r,n;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return s.language?`"${s.value}"@${s.language}`:`"${s.value}"${s.datatype&&s.datatype.value!==cs?`^^${s.datatype.value}`:""}`;case"Quad":return e=Mr(je(s.subject)),t=Mr(je(s.predicate)),r=Mr(je(s.object)),n=s.graph.termType==="DefaultGraph"?"":` ${je(s.graph)}`,`<<${e} ${t} ${r}${n}>>`;default:throw new Error(`Unexpected termType: ${s.termType}`)}}const ds=/^"(.*".*)(?="[^"]*$)/;function Mr(s){return s.replace(ds,(e,t)=>`"${t.replace(/"/g,'""')}`)}class hs{constructor(e){if(this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e)for(const t of e)this.add(t)}get size(){let e=this._size;if(e!==null)return e;e=0;const t=this._graphs;let r,n;for(const l in t)for(const f in r=t[l].subjects)for(const o in n=r[f])e+=Object.keys(n[o]).length;return this._size=e,this._size}add(e){let t=je(e.subject),r=je(e.predicate),n=je(e.object);const l=je(e.graph);let f=this._graphs[l];f||(f=this._graphs[l]={subjects:{},predicates:{},objects:{}},Object.freeze(f));const o=this._ids,g=this._entities;return t=o[t]||(o[g[++this._id]=t]=this._id),r=o[r]||(o[g[++this._id]=r]=this._id),n=o[n]||(o[g[++this._id]=n]=this._id),this._addToIndex(f.subjects,t,r,n),this._addToIndex(f.predicates,r,n,t),this._addToIndex(f.objects,n,t,r),this._setQuad(t,r,n,l,e),this._size=null,this}delete(e){let t=je(e.subject),r=je(e.predicate),n=je(e.object);const l=je(e.graph),f=this._ids,o=this._graphs;let g,u,c;if(!(t=f[t])||!(r=f[r])||!(n=f[n])||!(g=o[l])||!(u=g.subjects[t])||!(c=u[r])||!(n in c))return this;this._removeFromIndex(g.subjects,t,r,n),this._removeFromIndex(g.predicates,r,n,t),this._removeFromIndex(g.objects,n,t,r),this._size!==null&&this._size--,this._deleteQuad(t,r,n,l);for(t in g.subjects)return this;return delete o[l],this}has(e){const t=je(e.subject),r=je(e.predicate),n=je(e.object),l=je(e.graph),f=this._graphs[l];if(!f)return!1;const o=this._ids;let g,u,c;return ot(t)&&!(g=o[t])||ot(r)&&!(u=o[r])||ot(n)&&!(c=o[n])?!1:this._countInIndex(f.objects,c,g,u)===1}match(e,t,r,n){return this._createDataset(this._match(e,t,r,n))}[Symbol.iterator](){return this._match()[Symbol.iterator]()}_addToIndex(e,t,r,n){const l=e[t]||(e[t]={}),f=l[r]||(l[r]={}),o=n in f;return o||(f[n]=null),!o}_removeFromIndex(e,t,r,n){const l=e[t],f=l[r];delete f[n];for(const o in f)return;delete l[r];for(const o in l)return;delete e[t]}_findInIndex(e,t,r,n,l,f,o,g,u,c){let h,R,D;t&&((h=e,e={})[t]=h[t]);for(const N in e)if(R=e[N],R){r&&((h=R,R={})[r]=h[r]);for(const I in R)if(D=R[I],D){const x=n?n in D?[n]:[]:Object.keys(D);for(let _=0;_<x.length;_++){const E={[l]:N,[f]:I,[o]:x[_]},y=this._getQuad(E.subject,E.predicate,E.object,g);if(c)c.push(y);else if(u(y))return!0}}}return c}_countInIndex(e,t,r,n){let l=0,f,o,g;t&&((f=e,e={})[t]=f[t]);for(const u in e)if(o=e[u],o){r&&((f=o,o={})[r]=f[r]);for(const c in o)g=o[c],g&&(n?n in g&&l++:l+=Object.keys(g).length)}return l}_getGraphs(e){return ot(e)?{[e]:this._graphs[e]}:this._graphs}_match(e,t,r,n){e=e&&je(e),t=t&&je(t),r=r&&je(r),n=n&&je(n);const l=[],f=this._getGraphs(n),o=this._ids;let g,u,c,h;if(ot(e)&&!(u=o[e])||ot(t)&&!(c=o[t])||ot(r)&&!(h=o[r]))return l;for(const R in f)g=f[R],g&&(u?h?this._findInIndex(g.objects,h,u,c,"object","subject","predicate",R,null,l):this._findInIndex(g.subjects,u,c,null,"subject","predicate","object",R,null,l):c?this._findInIndex(g.predicates,c,h,null,"predicate","object","subject",R,null,l):h?this._findInIndex(g.objects,h,null,null,"object","subject","predicate",R,null,l):this._findInIndex(g.subjects,null,null,null,"subject","predicate","object",R,null,l));return l}_getQuad(e,t,r,n){return this._quads.get(this._toId(e,t,r,n))}_setQuad(e,t,r,n,l){this._quads.set(this._toId(e,t,r,n),l)}_deleteQuad(e,t,r,n){this._quads.delete(this._toId(e,t,r,n))}_createDataset(e){return new this.constructor(e)}_toId(e,t,r,n){return`${e}:${t}:${r}:${n}`}}class Tn{dataset(e){return new hs(e)}}Tn.exports=["dataset"];const ea=new Tn;var ps=Ze();const Mt="http://www.w3.org/1999/02/22-rdf-syntax-ns#",$t="http://www.w3.org/2001/XMLSchema#",ir="http://www.w3.org/2000/10/swap/",$e={xsd:{decimal:`${$t}decimal`,boolean:`${$t}boolean`,double:`${$t}double`,integer:`${$t}integer`,string:`${$t}string`},rdf:{type:`${Mt}type`,nil:`${Mt}nil`,first:`${Mt}first`,rest:`${Mt}rest`,langString:`${Mt}langString`},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:`${ir}reify#forSome`,forAll:`${ir}reify#forAll`},log:{implies:`${ir}log#implies`,isImpliedBy:`${ir}log#isImpliedBy`}},{xsd:nr}=$e,_s=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,Hi={"\\":"\\","'":"'",'"':'"',n:`
`,r:"\r",t:"	",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},bs=/[\x00-\x20<>\\"\{\}\|\^\`]/,gs={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},ys=/$0^/;class ws{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const t in this)!(t in gs)&&this[t]instanceof RegExp&&(this[t]=ys)}else this._n3Mode=e.n3!==!1;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,n=r.length;for(;;){let o,g;for(;o=this._newline.exec(r);)this.comments&&(g=this._comment.exec(o[0]))&&l("comment",g[1],"",this._line,o[0].length),r=r.substr(o[0].length,r.length),n=r.length,this._line++;if(!o&&(o=this._whitespace.exec(r))&&(r=r.substr(o[0].length,r.length)),this._endOfFile.test(r))return t&&(this.comments&&(g=this._comment.exec(r))&&l("comment",g[1],"",this._line,r.length),r=null,l("eof","","",this._line,0)),this._input=r;const u=this._line,c=r[0];let h="",R="",D="",N=null,I=0,x=!1;switch(c){case"^":if(r.length<3)break;if(r[1]==="^"){if(this._previousMarker="^^",r=r.substr(2),r[0]!=="<"){x=!0;break}}else{this._n3Mode&&(I=1,h="^");break}case"<":if(N=this._unescapedIri.exec(r))h="IRI",R=N[1];else if(N=this._iri.exec(r)){if(R=this._unescape(N[1]),R===null||bs.test(R))return f(this);h="IRI"}else r.length>1&&r[1]==="<"?(h="<<",I=2):this._n3Mode&&r.length>1&&r[1]==="="&&(I=2,this._isImpliedBy?(h="abbreviation",R="<"):(h="inverse",R=">"));break;case">":r.length>1&&r[1]===">"&&(h=">>",I=2);break;case"_":((N=this._blank.exec(r))||t&&(N=this._blank.exec(`${r} `)))&&(h="blank",D="_",R=N[1]);break;case'"':if(N=this._simpleQuotedString.exec(r))R=N[1];else if({value:R,matchLength:I}=this._parseLiteral(r),R===null)return f(this);(N!==null||I!==0)&&(h="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(N=this._simpleApostropheString.exec(r))R=N[1];else if({value:R,matchLength:I}=this._parseLiteral(r),R===null)return f(this);(N!==null||I!==0)&&(h="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(N=this._variable.exec(r))&&(h="var",R=N[0]);break;case"@":this._previousMarker==="literal"&&(N=this._langcode.exec(r))?(h="langcode",R=N[1]):(N=this._keyword.exec(r))&&(h=N[0]);break;case".":if(r.length===1?t:r[1]<"0"||r[1]>"9"){h=".",I=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(N=this._number.exec(r)||t&&(N=this._number.exec(`${r} `)))&&(h="literal",R=N[0],D=typeof N[1]=="string"?nr.double:typeof N[2]=="string"?nr.decimal:nr.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(N=this._sparqlKeyword.exec(r))?h=N[0].toUpperCase():x=!0;break;case"f":case"t":(N=this._boolean.exec(r))?(h="literal",R=N[0],D=nr.boolean):x=!0;break;case"a":(N=this._shortPredicates.exec(r))?(h="abbreviation",R="a"):x=!0;break;case"=":this._n3Mode&&r.length>1&&(h="abbreviation",r[1]!==">"?(I=1,R="="):(I=2,R=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(I=1,h=c);break;case"{":!this._lineMode&&r.length>=2&&(r[1]==="|"?(h="{|",I=2):(h=c,I=1));break;case"|":r.length>=2&&r[1]==="}"&&(h="|}",I=2);break;default:x=!0}if(x&&((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(N=this._prefix.exec(r))?(h="prefix",R=N[1]||""):((N=this._prefixed.exec(r))||t&&(N=this._prefixed.exec(`${r} `)))&&(h="prefixed",D=N[1]||"",R=this._unescape(N[2]))),this._previousMarker==="^^")switch(h){case"prefixed":h="type";break;case"IRI":h="typeIRI";break;default:h=""}if(!h)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?f(this):this._input=r;const _=I||N[0].length,E=l(h,R,D,u,_);this.previousToken=E,this._previousMarker=h,r=r.substr(_,r.length)}function l(o,g,u,c,h){const R=r?n-r.length:n,D=R+h,N={type:o,value:g,prefix:u,line:c,start:R,end:D};return e(null,N),N}function f(o){e(o._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(_s,(n,l,f,o)=>{if(typeof l=="string")return String.fromCharCode(Number.parseInt(l,16));if(typeof f=="string"){let g=Number.parseInt(f,16);return g<=65535?String.fromCharCode(Number.parseInt(f,16)):String.fromCharCode(55296+((g-=65536)>>10),56320+(g&1023))}return o in Hi?Hi[o]:(t=!0,"")});return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let l=0;for(;e[n-l-1]==="\\";)l++;if(l%2===0){const f=e.substring(r,n),o=f.split(/\r\n|\r|\n/).length-1,g=n+r;if(r===1&&o!==0||r===3&&this._lineMode)break;return this._line+=o,{value:this._unescape(f),matchLength:g}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error(`Unexpected "${e}" on line ${this._line}.`);return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\uFEFF")?e.substr(1):e}tokenize(e,t){if(this._line=1,typeof e=="string")if(this._input=this._readStartingBom(e),typeof t=="function")queueMicrotask(()=>this._tokenizeToEnd(t,!0));else{const r=[];let n;if(this._tokenizeToEnd((l,f)=>l?n=l:r.push(f),!0),n)throw n;return r}else this._pendingBuffer=null,typeof e.setEncoding=="function"&&e.setEncoding("utf8"),e.on("data",r=>{this._input!==null&&r.length!==0&&(this._pendingBuffer&&(r=ps.Buffer.concat([this._pendingBuffer,r]),this._pendingBuffer=null),r[r.length-1]&128?this._pendingBuffer=r:(typeof this._input>"u"?this._input=this._readStartingBom(typeof r=="string"?r:r.toString()):this._input+=r,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{typeof this._input=="string"&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}const{rdf:ms,xsd:dt}=$e;let Rt,xs=0;const Et={namedNode:An,blankNode:Fn,variable:Dn,literal:vn,defaultGraph:Ts,quad:Gr,triple:Gr,fromTerm:Gt,fromQuad:Cn};class Ve{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof Ve?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class Nn extends Ve{get termType(){return"NamedNode"}}class xt extends Ve{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&e[t++]==="@"?e.substr(t).toLowerCase():""}get datatype(){return new Nn(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return r==="^"?e.substr(t+2):r!=="@"?dt.string:ms.langString}equals(e){return e instanceof xt?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class Es extends Ve{constructor(e){super(`_:${e}`)}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class Ss extends Ve{constructor(e){super(`?${e}`)}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class Rs extends Ve{constructor(){return super(""),Rt||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}Rt=new Rs;function Wt(s,e,t){if(e=e||Et,!s)return e.defaultGraph();switch(s[0]){case"?":return e.variable(s.substr(1));case"_":return e.blankNode(s.substr(2));case'"':if(e===Et)return new xt(s);if(s[s.length-1]==='"')return e.literal(s.substr(1,s.length-2));const r=s.lastIndexOf('"',s.length-1);return e.literal(s.substr(1,r-1),s[r+1]==="@"?s.substr(r+2):e.namedNode(s.substr(r+3)));case"[":s=JSON.parse(s);break;default:if(!t||!Array.isArray(s))return e.namedNode(s)}return e.quad(Wt(s[0],e,!0),Wt(s[1],e,!0),Wt(s[2],e,!0),s[3]&&Wt(s[3],e,!0))}function mt(s,e){if(typeof s=="string")return s;if(s instanceof Ve&&s.termType!=="Quad")return s.id;if(!s)return Rt.id;switch(s.termType){case"NamedNode":return s.value;case"BlankNode":return`_:${s.value}`;case"Variable":return`?${s.value}`;case"DefaultGraph":return"";case"Literal":return`"${s.value}"${s.language?`@${s.language}`:s.datatype&&s.datatype.value!==dt.string?`^^${s.datatype.value}`:""}`;case"Quad":const t=[mt(s.subject,!0),mt(s.predicate,!0),mt(s.object,!0)];return s.graph&&s.graph.termType!=="DefaultGraph"&&t.push(mt(s.graph,!0)),e?t:JSON.stringify(t);default:throw new Error(`Unexpected termType: ${s.termType}`)}}class In extends Ve{constructor(e,t,r,n){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=n||Rt}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function An(s){return new Nn(s)}function Fn(s){return new Es(s||`n3-${xs++}`)}function vn(s,e){if(typeof e=="string")return new xt(`"${s}"@${e.toLowerCase()}`);let t=e?e.value:"";return t===""&&(typeof s=="boolean"?t=dt.boolean:typeof s=="number"&&(Number.isFinite(s)?t=Number.isInteger(s)?dt.integer:dt.double:(t=dt.double,Number.isNaN(s)||(s=s>0?"INF":"-INF")))),t===""||t===dt.string?new xt(`"${s}"`):new xt(`"${s}"^^${t}`)}function Dn(s){return new Ss(s)}function Ts(){return Rt}function Gr(s,e,t,r){return new In(s,e,t,r)}function Gt(s){if(s instanceof Ve)return s;switch(s.termType){case"NamedNode":return An(s.value);case"BlankNode":return Fn(s.value);case"Variable":return Dn(s.value);case"DefaultGraph":return Rt;case"Literal":return vn(s.value,s.language||s.datatype);case"Quad":return Cn(s);default:throw new Error(`Unexpected termType: ${s.termType}`)}}function Cn(s){if(s instanceof In)return s;if(s.termType!=="Quad")throw new Error(`Unexpected termType: ${s.termType}`);return Gr(Gt(s.subject),Gt(s.predicate),Gt(s.object),Gt(s.graph))}let Vi=0;class Ns{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&Pn(this,e.factory);const t=typeof e.format=="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),n=/trig/.test(t),l=/triple/.test(t),f=/quad/.test(t),o=this._n3Mode=/n3/.test(t),g=l||f;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||n||l||o),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=t===""||/star|\*$/.test(t),g&&(this._resolveRelativeIRI=u=>null),this._blankNodePrefix=typeof e.blankNodePrefix!="string"?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new ws({lineMode:g,n3:o,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){Vi=0}_setBase(e){if(!e)this._base="",this._basePath="";else{const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}}_saveContext(e,t,r,n,l){const f=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:n,object:l,graph:t,inverse:f?this._inversePredicate:!1,blankPrefix:f?this._prefixes._:"",quantified:f?this._quantified:null}),f&&(this._inversePredicate=!1,this._prefixes._=this._graph?`${this._graph.value}.`:".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error(`Unexpected ${t.type}`,t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return this._graph!==null?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":const n=this._resolveIRI(e.value);if(n===null)return this._error("Invalid IRI",e);r=this._factory.namedNode(n);break;case"type":case"prefixed":const l=this._prefixes[e.prefix];if(l===void 0)return this._error(`Undefined prefix "${e.prefix}:"`,e);r=this._factory.namedNode(l+e.value);break;case"blank":r=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._factory.variable(e.value.substr(1));break;default:return this._error(`Expected entity but got ${e.type}`,e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(e.prefix.length===0)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._subject=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return this._predicate===null?this._error(`Unexpected ${t}`,e):(this._subject=null,t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===void 0)return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(e.prefix.length===0)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if((this._object=this._readEntity(e))===void 0)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return e.type!=="{"?this._error(`Expected graph but got ${e.type}`,e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return e.type==="]"?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=this._predicate===null;return this._restoreContext("blank",e),this._object!==null?this._getContextEndReader():this._predicate!==null?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,n=this._readListItem;const l=this._subject,f=this._contextStack,o=f[f.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),f.length!==0&&f[f.length-1].type==="list"&&this._emit(this._subject,this._predicate,this._object,this._graph),this._predicate===null){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":e.prefix.length===0?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if((t=this._readEntity(e))===void 0)return}if(r===null&&(this._subject=r=this._factory.blankNode()),l===null?o.predicate===null?o.subject=r:o.object=r:this._emit(l,this.RDF_REST,r,this._graph),t!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed"))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(r===void 0)return;t=this._factory.literal(this._literalValue,r),e=null;break;case"langcode":t=this._factory.literal(this._literalValue,e.value),e=null;break}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),r.token===null?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return e.type!=="}"?this._readPunctuation(e):(this._subject!==null&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),this._object===null?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph;const n=this._subject,l=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,l&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const f=this._predicate,o=this._object;this._subject=this._factory.quad(n,f,o,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if(this._subject.termType!=="Quad")return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&this._graph===null&&(r=this._readEntity(e))!==void 0){t=this._readQuadPunctuation;break}return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}if(n!==null){const f=this._predicate,o=this._object;l?this._emit(o,f,n,r):this._emit(n,f,o,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error(`Expected punctuation to follow "${this._object.id}"`,e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return e.type!=="."?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return e.type!=="prefix"?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if(e.type!=="IRI")return this._error(`Expected IRI to follow prefix "${this._prefix}:"`,e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t=e.type==="IRI"&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return e.type!=="]"?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):e.type!=="."?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if((t=this._readEntity(e,!0))!==void 0)break;default:return this._error(`Unexpected ${e.type}`,e)}return this._explicitQuantifiers?(this._subject===null?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return e.type===","?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,r=t.length&&t[t.length-1];if(r&&r.type==="item"){const n=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,n,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;const n=this._factory.blankNode();if((r=this._readEntity(e))!==void 0)return this._predicate===null?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){const t=this._factory.blankNode();let r,n;if((r=this._readEntity(e))!==void 0)return this._predicate===null?(n=this._subject,this._subject=t):(n=this._object,this._object=t),this._emit(t,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return e.type!==">>"?this._supportsQuads&&this._graph===null&&(this._graph=this._readEntity(e))!==void 0?this._readRDFStarTail:this._error(`Expected >> to follow "${this._object.id}"`,e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(e.type!==">>")return this._error(`Expected >> but got ${e.type}`,e);const t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),this._subject===null?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._factory.quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){const r=new Error(`${e} on line ${t.line}.`);r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=sr}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return(e[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let r="",n=-1,l=-1,f=0,o="/";for(;n<t;){switch(o){case":":if(l<0&&e[++n]==="/"&&e[++n]==="/")for(;(l=n+1)<t&&e[l]!=="/";)n=l;break;case"?":case"#":n=t;break;case"/":if(e[n+1]===".")switch(o=e[++n+1],o){case"/":r+=e.substring(f,n-1),f=n+1;break;case void 0:case"?":case"#":return r+e.substring(f,n)+e.substr(n+1);case".":if(o=e[++n+1],o===void 0||o==="/"||o==="?"||o==="#"){if(r+=e.substring(f,n-2),(f=r.lastIndexOf("/"))>=l&&(r=r.substr(0,f)),o!=="/")return`${r}/${e.substr(n+1)}`;f=n+1}}}o=e[++n]}return r+e.substring(f)}parse(e,t,r){let n,l,f;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(n=t.onQuad,l=t.onPrefix,f=t.onComment):(n=t,l=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):`b${Vi++}_`,this._prefixCallback=l||sr,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const g=[];let u;if(this._callback=(c,h)=>{c?u=c:h&&g.push(h)},this._lexer.tokenize(e).every(c=>this._readCallback=this._readCallback(c)),u)throw u;return g}let o=(g,u)=>{g!==null?(this._callback(g),this._callback=sr):this._readCallback&&(this._readCallback=this._readCallback(u))};f&&(this._lexer.comments=!0,o=(g,u)=>{g!==null?(this._callback(g),this._callback=sr):this._readCallback&&(u.type==="comment"?f(u.value):this._readCallback=this._readCallback(u))}),this._callback=n,this._lexer.tokenize(e,o)}}function sr(){}function Pn(s,e){s._factory=e,s.DEFAULTGRAPH=e.defaultGraph(),s.RDF_FIRST=e.namedNode($e.rdf.first),s.RDF_REST=e.namedNode($e.rdf.rest),s.RDF_NIL=e.namedNode($e.rdf.nil),s.N3_FORALL=e.namedNode($e.r.forAll),s.N3_FORSOME=e.namedNode($e.r.forSome),s.ABBREVIATIONS={a:e.namedNode($e.rdf.type),"=":e.namedNode($e.owl.sameAs),">":e.namedNode($e.log.implies),"<":e.namedNode($e.log.isImpliedBy)},s.QUANTIFIERS_GRAPH=e.namedNode("urn:n3:quantifiers")}Pn(Ns.prototype,Et);function Hr(s){return!!s&&s.termType==="DefaultGraph"}function or(s){return s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}const Is=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,As=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/,Qi="./",Fs="../",$r="?",zi="#";class Zr{constructor(e){this.base=e,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(e.length+1)}static supports(e){return!Is.test(e)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!Zr.supports(this.base))return this._baseMatcher=/.^/;const e=/^[^:]*:\/*/.exec(this.base)[0],t=["^",or(e)],r=[],n=[],l=/[^/?#]*([/?#])/y;let f,o=0,g=0,u=l.lastIndex=e.length;for(;!o&&!g&&(f=l.exec(this.base));)f[1]===zi?g=l.lastIndex-1:(t.push(or(f[0]),"(?:"),r.push(")?"),f[1]!==$r?n.push(u=l.lastIndex):(o=u=l.lastIndex,g=this.base.indexOf(zi,o),this._pathReplacements[o]=$r));for(let c=0;c<n.length;c++)this._pathReplacements[n[c]]=Fs.repeat(n.length-c-1);return this._pathReplacements[n[n.length-1]]=Qi,this._baseLength=g>0?g:this.base.length,t.push(or(this.base.substring(u,this._baseLength)),o?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...t,...r].join(""))}toRelative(e){const t=this._getBaseMatcher().exec(e);if(!t)return e;const r=t[0].length;if(r===this._baseLength&&r===e.length)return"";const n=this._pathReplacements[r];if(n){const l=e.substring(r);return n!==$r&&!As.test(l)?e:n===Qi&&/^[^?#]/.test(l)?l:n+l}return e.substring(r-1)}}const kt=Et.defaultGraph(),{rdf:vs,xsd:wt}=$e,Xi=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,Ki=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Ds={"\\":"\\\\",'"':'\\"',"	":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class Ut extends Ve{equals(e){return e===this}}class jn{constructor(e,t){if(this._prefixRegex=/$0^/,e&&typeof e.write!="function"&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=t.end===void 0?!0:!!t.end;else{let r="";this._outputStream={write(n,l,f){r+=n,f&&f()},end:n=>{n&&n(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=kt,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseIri=new Zr(t.baseIRI)))}get _inDefaultGraph(){return kt.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,l){try{n.equals(this._graph)||(this._write((this._subject===null?"":this._inDefaultGraph?`.
`:`
}
`)+(kt.equals(n)?"":`${this._encodeIriOrBlank(n)} {
`)),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(`, ${this._encodeObject(r)}`,l):this._write(`;
    ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,l):this._write(`${(this._subject===null?"":`.
`)+this._encodeSubject(this._subject=e)} ${this._encodePredicate(this._predicate=t)} ${this._encodeObject(r)}`,l)}catch(f){l&&l(f)}}_writeQuadLine(e,t,r,n,l){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),l)}quadToString(e,t,r,n){return`${this._encodeSubject(e)} ${this._encodeIriOrBlank(t)} ${this._encodeObject(r)}${n&&n.value?` ${this._encodeIriOrBlank(n)} .
`:` .
`}`}quadsToString(e){let t="";for(const r of e)t+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return t}_encodeSubject(e){return e.termType==="Quad"?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if(e.termType!=="NamedNode")return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:`_:${e.value}`;let t=e.value;this._baseIri&&(t=this._baseIri.toRelative(t)),Xi.test(t)&&(t=t.replace(Ki,Yi));const r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:`<${t}>`}_encodeLiteral(e){let t=e.value;if(Xi.test(t)&&(t=t.replace(Ki,Yi)),e.language)return`"${t}"@${e.language}`;if(this._lineMode){if(e.datatype.value===wt.string)return`"${t}"`}else switch(e.datatype.value){case wt.string:return`"${t}"`;case wt.boolean:if(t==="true"||t==="false")return t;break;case wt.integer:if(/^[+-]?\d+$/.test(t))return t;break;case wt.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case wt.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t;break}return`"${t}"^^${this._encodeIriOrBlank(e.datatype)}`}_encodePredicate(e){return e.value===vs.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad({subject:e,predicate:t,object:r,graph:n}){return`<<${this._encodeSubject(e)} ${this._encodePredicate(t)} ${this._encodeObject(r)}${Hr(n)?"":` ${this._encodeIriOrBlank(n)}`}>>`}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,l){r===void 0?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):typeof n=="function"?this._writeQuad(e,t,r,kt,n):this._writeQuad(e,t,r,n||kt,l)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){const n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let r=!1;for(let n in e){let l=e[n];typeof l!="string"&&(l=l.value),r=!0,this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null,this._graph=""),this._prefixIRIs[l]=n+=":",this._write(`@prefix ${n} <${l}>.
`)}if(r){let n="",l="";for(const f in this._prefixIRIs)n+=n?`|${f}`:f,l+=(l?"|":"")+this._prefixIRIs[f];n=or(n),this._prefixRegex=new RegExp(`^(?:${l})[^/]*$|^(${n})([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$`)}this._write(r?`
`:"",t)}blank(e,t){let r=e,n,l;switch(e===void 0?r=[]:e.termType?r=[{predicate:e,object:t}]:"length"in e||(r=[e]),l=r.length){case 0:return new Ut("[]");case 1:if(n=r[0],!(n.object instanceof Ut))return new Ut(`[ ${this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)} ]`);default:let f="[";for(let o=0;o<l;o++)n=r[o],n.predicate.equals(e)?f+=`, ${this._encodeObject(n.object)}`:(f+=`${(o?`;
  `:`
  `)+this._encodePredicate(n.predicate)} ${this._encodeObject(n.object)}`,e=n.predicate);return new Ut(`${f}
]`)}}list(e){const t=e&&e.length||0,r=new Array(t);for(let n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new Ut(`(${r.join(" ")})`)}end(e){this._subject!==null&&(this._write(this._inDefaultGraph?`.
`:`
}
`),this._subject=null),this._write=this._blockedWrite;let t=e&&((r,n)=>{t=null,e(r,n)});if(this._endStream)try{return this._outputStream.end(t)}catch{}t&&t()}}function Yi(s){let e=Ds[s];return e===void 0&&(s.length===1?(e=s.charCodeAt(0).toString(16),e="\\u0000".substr(0,6-e.length)+e):(e=((s.charCodeAt(0)-55296)*1024+s.charCodeAt(1)+9216).toString(16),e="\\U00000000".substr(0,10-e.length)+e)),e}const kr=Symbol("iter");function Ht(s,e,t=4){if(t===0)return Object.assign(s,e);for(const r in e)s[r]=Ht(s[r]||Object.create(null),e[r],t-1);return s}function Ln(s,e,t=4){let r=!1;for(const n in s)if(n in e){const l=t===0?null:Ln(s[n],e[n],t-1);if(l!==!1)r=r||Object.create(null),r[n]=l;else if(t===3)return!1}return r}function Bn(s,e,t=4){let r=!1;for(const n in s)if(!(n in e))r=r||Object.create(null),r[n]=t===0?null:Ht({},s[n],t-1);else if(t!==0){const l=Bn(s[n],e[n],t-1);if(l!==!1)r=r||Object.create(null),r[n]=l;else if(t===3)return!1}return r}class Cs{constructor(e={}){this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||Et}_termFromId(e){if(e[0]==="."){const t=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(t[r[1]]),this._termFromId(t[r[2]]),this._termFromId(t[r[3]]),r[4]&&this._termFromId(t[r[4]]))}return Wt(e,this._factory)}_termToNumericId(e){if(e.termType==="Quad"){const t=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),n=this._termToNumericId(e.object);let l;return t&&r&&n&&(Hr(e.graph)||(l=this._termToNumericId(e.graph)))&&this._ids[l?`.${t}.${r}.${n}.${l}`:`.${t}.${r}.${n}`]}return this._ids[mt(e)]}_termToNewNumericId(e){const t=e&&e.termType==="Quad"?`.${this._termToNewNumericId(e.subject)}.${this._termToNewNumericId(e.predicate)}.${this._termToNewNumericId(e.object)}${Hr(e.graph)?"":`.${this._termToNewNumericId(e.graph)}`}`:mt(e);return this._ids[t]||(this._ids[this._entities[++this._id]=t]=this._id)}createBlankNode(e){let t,r;if(e)for(t=e=`_:${e}`,r=1;this._ids[t];)t=e+r++;else do t=`_:b${this._blankNodeIndex++}`;while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}}class Ge{constructor(e,t){this._size=0,this._graphs=Object.create(null),!t&&e&&!e[0]&&typeof e.match!="function"&&(t=e,e=null),t=t||{},this._factory=t.factory||Et,this._entityIndex=t.entityIndex||new Cs({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addAll(e)}get size(){let e=this._size;if(e!==null)return e;e=0;const t=this._graphs;let r,n;for(const l in t)for(const f in r=t[l].subjects)for(const o in n=r[f])e+=Object.keys(n[o]).length;return this._size=e}_addToIndex(e,t,r,n){const l=e[t]||(e[t]={}),f=l[r]||(l[r]={}),o=n in f;return o||(f[n]=null),!o}_removeFromIndex(e,t,r,n){const l=e[t],f=l[r];delete f[n];for(const o in f)return;delete l[r];for(const o in l)return;delete e[t]}*_findInIndex(e,t,r,n,l,f,o,g){let u,c,h;const R=this._entities,D=this._termFromId(R[g]),N={subject:null,predicate:null,object:null};t&&((u=e,e={})[t]=u[t]);for(const I in e)if(c=e[I]){N[l]=this._termFromId(R[I]),r&&((u=c,c={})[r]=u[r]);for(const x in c)if(h=c[x]){N[f]=this._termFromId(R[x]);const _=n?n in h?[n]:[]:Object.keys(h);for(let E=0;E<_.length;E++)N[o]=this._termFromId(R[_[E]]),yield this._factory.quad(N.subject,N.predicate,N.object,D)}}}_loop(e,t){for(const r in e)t(r)}_loopByKey0(e,t,r){let n,l;if(n=e[t])for(l in n)r(l)}_loopByKey1(e,t,r){let n,l;for(n in e)l=e[n],l[t]&&r(n)}_loopBy2Keys(e,t,r,n){let l,f,o;if((l=e[t])&&(f=l[r]))for(o in f)n(o)}_countInIndex(e,t,r,n){let l=0,f,o,g;t&&((f=e,e={})[t]=f[t]);for(const u in e)if(o=e[u]){r&&((f=o,o={})[r]=f[r]);for(const c in o)(g=o[c])&&(n?n in g&&l++:l+=Object.keys(g).length)}return l}_getGraphs(e){return e=e===""?1:e&&(this._termToNumericId(e)||-1),typeof e!="number"?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const t=Object.create(null);return r=>{r in t||(t[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),n=n?this._termToNewNumericId(n):1;let l=this._graphs[n];return l||(l=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(l)),e=this._termToNewNumericId(e),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),this._addToIndex(l.subjects,e,t,r)?(this._addToIndex(l.predicates,t,r,e),this._addToIndex(l.objects,r,e,t),this._size=null,!0):!1}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}delete(e){return this.removeQuad(e),this}has(e,t,r,n){return e&&e.subject&&({subject:e,predicate:t,object:r,graph:n}=e),!this.readQuads(e,t,r,n).next().done}import(e){return e.on("data",t=>{this.addQuad(t)}),e}removeQuad(e,t,r,n){t||({subject:e,predicate:t,object:r,graph:n}=e),n=n?this._termToNumericId(n):1;const l=this._graphs;let f,o,g;if(!(e=e&&this._termToNumericId(e))||!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(f=l[n])||!(o=f.subjects[e])||!(g=o[t])||!(r in g))return!1;this._removeFromIndex(f.subjects,e,t,r),this._removeFromIndex(f.predicates,t,r,e),this._removeFromIndex(f.objects,r,e,t),this._size!==null&&this._size--;for(e in f.subjects)return!0;return delete l[n],!0}removeQuads(e){for(let t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){return e.on("data",t=>{this.removeQuad(t)}),e}removeMatches(e,t,r,n){const l=new Rn.Readable({objectMode:!0}),f=this.readQuads(e,t,r,n);return l._read=o=>{for(;--o>=0;){const{done:g,value:u}=f.next();if(g){l.push(null);return}l.push(u)}},this.remove(l)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){return[...this.readQuads(e,t,r,n)]}*readQuads(e,t,r,n){const l=this._getGraphs(n);let f,o,g,u;if(!(e&&!(o=this._termToNumericId(e))||t&&!(g=this._termToNumericId(t))||r&&!(u=this._termToNumericId(r))))for(const c in l)(f=l[c])&&(o?u?yield*this._findInIndex(f.objects,u,o,g,"object","subject","predicate",c):yield*this._findInIndex(f.subjects,o,g,null,"subject","predicate","object",c):g?yield*this._findInIndex(f.predicates,g,u,null,"predicate","object","subject",c):u?yield*this._findInIndex(f.objects,u,null,null,"object","subject","predicate",c):yield*this._findInIndex(f.subjects,null,null,null,"subject","predicate","object",c))}match(e,t,r,n){return new rt(this,e,t,r,n,{entityIndex:this._entityIndex})}countQuads(e,t,r,n){const l=this._getGraphs(n);let f=0,o,g,u,c;if(e&&!(g=this._termToNumericId(e))||t&&!(u=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r)))return 0;for(const h in l)(o=l[h])&&(e?r?f+=this._countInIndex(o.objects,c,g,u):f+=this._countInIndex(o.subjects,g,u,c):t?f+=this._countInIndex(o.predicates,u,c,g):f+=this._countInIndex(o.objects,c,g,u));return f}forEach(e,t,r,n,l){this.some(f=>(e(f,this),!1),t,r,n,l)}every(e,t,r,n,l){return!this.some(f=>!e(f,this),t,r,n,l)}some(e,t,r,n,l){for(const f of this.readQuads(t,r,n,l))if(e(f,this))return!0;return!1}getSubjects(e,t,r){const n=[];return this.forSubjects(l=>{n.push(l)},e,t,r),n}forSubjects(e,t,r,n){const l=this._getGraphs(n);let f,o,g;if(e=this._uniqueEntities(e),!(t&&!(o=this._termToNumericId(t))||r&&!(g=this._termToNumericId(r))))for(n in l)(f=l[n])&&(o?g?this._loopBy2Keys(f.predicates,o,g,e):this._loopByKey1(f.subjects,o,e):g?this._loopByKey0(f.objects,g,e):this._loop(f.subjects,e))}getPredicates(e,t,r){const n=[];return this.forPredicates(l=>{n.push(l)},e,t,r),n}forPredicates(e,t,r,n){const l=this._getGraphs(n);let f,o,g;if(e=this._uniqueEntities(e),!(t&&!(o=this._termToNumericId(t))||r&&!(g=this._termToNumericId(r))))for(n in l)(f=l[n])&&(o?g?this._loopBy2Keys(f.objects,g,o,e):this._loopByKey0(f.subjects,o,e):g?this._loopByKey1(f.predicates,g,e):this._loop(f.predicates,e))}getObjects(e,t,r){const n=[];return this.forObjects(l=>{n.push(l)},e,t,r),n}forObjects(e,t,r,n){const l=this._getGraphs(n);let f,o,g;if(e=this._uniqueEntities(e),!(t&&!(o=this._termToNumericId(t))||r&&!(g=this._termToNumericId(r))))for(n in l)(f=l[n])&&(o?g?this._loopBy2Keys(f.subjects,o,g,e):this._loopByKey1(f.objects,o,e):g?this._loopByKey0(f.predicates,g,e):this._loop(f.objects,e))}getGraphs(e,t,r){const n=[];return this.forGraphs(l=>{n.push(l)},e,t,r),n}forGraphs(e,t,r,n){for(const l in this._graphs)this.some(f=>(e(f.graph),!0),t,r,n,this._termFromId(this._entities[l]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists({remove:e=!1,ignoreErrors:t=!1}={}){const r={},n=t?(()=>!0):((o,g)=>{throw new Error(`${o.value} ${g}`)}),l=this.getQuads(null,$e.rdf.rest,$e.rdf.nil,null),f=e?[...l]:[];return l.forEach(o=>{const g=[];let u=!1,c,h;const R=o.graph;let D=o.subject;for(;D&&!u;){const N=this.getQuads(null,null,D,null),I=this.getQuads(D,null,null,null);let x,_=null,E=null,y=null;for(let C=0;C<I.length&&!u;C++)x=I[C],x.graph.equals(R)?c?u=n(D,"has non-list arcs out"):x.predicate.value===$e.rdf.first?_?u=n(D,"has multiple rdf:first arcs"):f.push(_=x):x.predicate.value===$e.rdf.rest?E?u=n(D,"has multiple rdf:rest arcs"):f.push(E=x):N.length?u=n(D,"can't be subject and object"):(c=x,h="subject"):u=n(D,"not confined to single graph");for(let C=0;C<N.length&&!u;++C)x=N[C],c?u=n(D,"can't have coreferences"):x.predicate.value===$e.rdf.rest?y?u=n(D,"has incoming rdf:rest arcs"):y=x:(c=x,h="object");_?g.unshift(_.object):u=n(D,"has no list head"),D=y&&y.subject}u?e=!1:c&&(r[c[h].value]=g)}),e&&this.removeQuads(f),r}addAll(e){if(e instanceof rt&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof Ge&&e._entityIndex===this._entityIndex)e._size!==0&&(this._graphs=Ht(this._graphs,e._graphs),this._size=null);else for(const t of e)this.add(t);return this}contains(e){if(e instanceof rt&&(e=e.filtered),e===this)return!0;if(!(e instanceof Ge)||this._entityIndex!==e._entityIndex)return e.every(u=>this.has(u));const t=this._graphs,r=e._graphs;let n,l,f,o,g;for(const u in r){if(!(n=t[u]))return!1;n=n.subjects;for(const c in l=r[u].subjects){if(!(f=n[c]))return!1;for(const h in o=l[c]){if(!(g=f[h]))return!1;for(const R in o[h])if(!(R in g))return!1}}}return!0}deleteMatches(e,t,r,n){for(const l of this.match(e,t,r,n))this.removeQuad(l);return this}difference(e){if(e&&e instanceof rt&&(e=e.filtered),e===this)return new Ge({entityIndex:this._entityIndex});if(e instanceof Ge&&e._entityIndex===this._entityIndex){const t=new Ge({entityIndex:this._entityIndex}),r=Bn(this._graphs,e._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter(t=>!e.has(t))}equals(e){return e instanceof rt&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const t=new Ge({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&t.add(r);return t}intersection(e){if(e instanceof rt&&(e=e.filtered),e===this){const t=new Ge({entityIndex:this._entityIndex});return t._graphs=Ht(Object.create(null),this._graphs),t._size=this._size,t}else if(e instanceof Ge&&this._entityIndex===e._entityIndex){const t=new Ge({entityIndex:this._entityIndex}),r=Ln(e._graphs,this._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter(t=>e.has(t))}map(e){const t=new Ge({entityIndex:this._entityIndex});for(const r of this)t.add(e(r,this));return t}reduce(e,t){const r=this.readQuads();let n=t===void 0?r.next().value:t;for(const l of r)n=e(n,l,this);return n}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return new jn().quadsToString(this)}union(e){const t=new Ge({entityIndex:this._entityIndex});return t._graphs=Ht(Object.create(null),this._graphs),t._size=this._size,t.addAll(e),t}*[Symbol.iterator](){yield*this.readQuads()}}function Qe(s,e,t=0){const r=e[t];if(r&&!(r in s))return!1;let n=!1;for(const l in r?{[r]:s[r]}:s){const f=t===2?null:Qe(s[l],e,t+1);f!==!1&&(n=n||Object.create(null),n[l]=f)}return n}class rt extends Rn.Readable{constructor(e,t,r,n,l,f){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:t,predicate:r,object:n,graph:l,options:f})}get filtered(){if(!this._filtered){const{n3Store:e,graph:t,object:r,predicate:n,subject:l}=this,f=this._filtered=new Ge({factory:e._factory,entityIndex:this.options.entityIndex});let o,g,u;if(l&&!(o=f._termToNumericId(l))||n&&!(g=f._termToNumericId(n))||r&&!(u=f._termToNumericId(r)))return f;const c=e._getGraphs(t);for(const h in c){let R,D,N,I;(I=c[h])&&(!o&&g?(D=Qe(I.predicates,[g,u,o]))&&(R=Qe(I.subjects,[o,g,u]),N=Qe(I.objects,[u,o,g])):u?(N=Qe(I.objects,[u,o,g]))&&(R=Qe(I.subjects,[o,g,u]),D=Qe(I.predicates,[g,u,o])):(R=Qe(I.subjects,[o,g,u]))&&(D=Qe(I.predicates,[g,u,o]),N=Qe(I.objects,[u,o,g])),R&&(f._graphs[h]={subjects:R,predicates:D,objects:N}))}f._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[kr]&&(this[kr]=this[Symbol.iterator]());const t=this[kr];for(;--e>=0;){const{done:r,value:n}=t.next();if(r){this.push(null);return}this.push(n)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,t,r,n){return this.filtered.deleteMatches(e,t,r,n)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,t,r,n,l){return this.filtered.every(e,t,r,n,l)}filter(e){return this.filtered.filter(e)}forEach(e,t,r,n,l){return this.filtered.forEach(e,t,r,n,l)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,t,r,n,l){return this.filtered.some(e,t,r,n,l)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,t){return this.filtered.reduce(e,t)}toString(){return new jn().quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,t,r,n){return new rt(this.filtered,e,t,r,n,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}var lt={},ut={},ft={},Ur={},Zi;function Ps(){return Zi||(Zi=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");var e=9,t=10,r=13,n=32;s.S_LIST=[n,t,r,e];function l(u){return u>=n&&u<=55295||u===t||u===r||u===e||u>=57344&&u<=65533||u>=65536&&u<=1114111}s.isChar=l;function f(u){return u===n||u===t||u===r||u===e}s.isS=f;function o(u){return u>=65&&u<=90||u>=97&&u<=122||u===58||u===95||u===8204||u===8205||u>=192&&u<=214||u>=216&&u<=246||u>=248&&u<=767||u>=880&&u<=893||u>=895&&u<=8191||u>=8304&&u<=8591||u>=11264&&u<=12271||u>=12289&&u<=55295||u>=63744&&u<=64975||u>=65008&&u<=65533||u>=65536&&u<=983039}s.isNameStartChar=o;function g(u){return o(u)||u>=48&&u<=57||u===45||u===46||u===183||u>=768&&u<=879||u>=8255&&u<=8256}s.isNameChar=g})(Ur)),Ur}var qr={},Ji;function js(){return Ji||(Ji=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");var e=9,t=10,r=13,n=32;s.S_LIST=[n,t,r,e];function l(h){return h>=1&&h<=55295||h>=57344&&h<=65533||h>=65536&&h<=1114111}s.isChar=l;function f(h){return h>=1&&h<=8||h===11||h===12||h>=14&&h<=31||h>=127&&h<=132||h>=134&&h<=159}s.isRestrictedChar=f;function o(h){return h===9||h===10||h===13||h>31&&h<127||h===133||h>159&&h<=55295||h>=57344&&h<=65533||h>=65536&&h<=1114111}s.isCharAndNotRestricted=o;function g(h){return h===n||h===t||h===r||h===e}s.isS=g;function u(h){return h>=65&&h<=90||h>=97&&h<=122||h===58||h===95||h===8204||h===8205||h>=192&&h<=214||h>=216&&h<=246||h>=248&&h<=767||h>=880&&h<=893||h>=895&&h<=8191||h>=8304&&h<=8591||h>=11264&&h<=12271||h>=12289&&h<=55295||h>=63744&&h<=64975||h>=65008&&h<=65533||h>=65536&&h<=983039}s.isNameStartChar=u;function c(h){return u(h)||h>=48&&h<=57||h===45||h===46||h===183||h>=768&&h<=879||h>=8255&&h<=8256}s.isNameChar=c})(qr)),qr}var en;function Ls(){if(en)return ft;en=1,Object.defineProperty(ft,"__esModule",{value:!0}),ft.SaxesParser=ft.EVENTS=void 0;const s=Ps(),e=js(),t=Mn();var r=s.isS,n=s.isChar,l=s.isNameStartChar,f=s.isNameChar,o=s.S_LIST,g=s.NAME_RE,u=e.isChar,c=t.isNCNameStartChar,h=t.isNCNameChar,R=t.NC_NAME_RE;const D="http://www.w3.org/XML/1998/namespace",N="http://www.w3.org/2000/xmlns/",I={__proto__:null,xml:D,xmlns:N},x={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_=-1,E=-2,y=0,C=1,S=2,H=3,Y=4,X=5,he=6,B=7,$=8,Z=9,L=10,ae=11,ue=12,oe=13,we=14,V=15,de=16,T=17,U=18,re=19,G=20,fe=21,_e=22,Ee=23,ye=24,q=25,Q=26,le=27,ge=28,be=29,v=30,P=31,k=32,J=33,ie=34,te=35,F=36,K=37,ee=38,W=39,Se=40,Be=41,xe=42,Me=43,d=44,i=9,a=10,b=13,A=32,M=33,z=34,me=38,ve=39,Ne=45,Ae=47,Te=59,He=60,et=61,Ce=62,Pe=63,Xt=91,tt=93,pt=133,Tt=8232,p=Le=>Le===z||Le===ve,m=[z,ve],ne=[...m,Xt,Ce],se=[...m,He,tt],pe=[et,Pe,...o],Oe=[...o,Ce,me,He];function ke(Le,w,j){switch(w){case"xml":j!==D&&Le.fail(`xml prefix must be bound to ${D}.`);break;case"xmlns":j!==N&&Le.fail(`xmlns prefix must be bound to ${N}.`);break}switch(j){case N:Le.fail(w===""?`the default namespace may not be set to ${j}.`:`may not assign a prefix (even "xmlns") to the URI ${N}.`);break;case D:switch(w){case"xml":break;case"":Le.fail(`the default namespace may not be set to ${j}.`);break;default:Le.fail("may not assign the xml namespace to another prefix.")}break}}function Kt(Le,w){for(const j of Object.keys(w))ke(Le,j,w[j])}const ze=Le=>R.test(Le),Yt=Le=>g.test(Le),Xe=0,Nt=1,_t=2;ft.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const bt={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};class It{get closed(){return this._closed}constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const j=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,j){this.nameStartCheck=c,this.nameCheck=h,this.isName=ze,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},I);const O=this.opt.additionalNamespaces;O!=null&&(Kt(this,O),Object.assign(this.ns,O))}else this.nameStartCheck=l,this.nameCheck=f,this.isName=Yt,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=Xe,this.attribList=[];const{fragmentOpt:j}=this;this.state=j?oe:y,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=j,this.xmlDeclPossible=!j,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:O}=this.opt;if(O===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");O="1.0"}this.setXMLVersion(O),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(x),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,j){this[bt[w]]=j}off(w){this[bt[w]]=void 0}makeError(w){var j;let O=(j=this.fileName)!==null&&j!==void 0?j:"";return this.trackPosition&&(O.length>0&&(O+=":"),O+=`${this.line}:${this.column}`),O.length>0&&(O+=": "),new Error(O+w)}fail(w){const j=this.makeError(w),O=this.errorHandler;if(O===void 0)throw j;return O(j),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let j=!1;w===null?(j=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let O=w.length;const ce=w.charCodeAt(O-1);!j&&(ce===b||ce>=55296&&ce<=56319)&&(this.carriedFromPrevious=w[O-1],O--,w=w.slice(0,O));const{stateTable:Re}=this;for(this.chunk=w,this.i=0;this.i<O;)Re[this.state].call(this);return this.chunkPosition+=O,j?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:j}=this;if(this.prevI=j,this.i=j+1,j>=w.length)return _;const O=w.charCodeAt(j);if(this.column++,O<55296){if(O>=A||O===i)return O;switch(O){case a:return this.line++,this.column=0,this.positionAtNewLine=this.position,a;case b:return w.charCodeAt(j+1)===a&&(this.i=j+2),this.line++,this.column=0,this.positionAtNewLine=this.position,E;default:return this.fail("disallowed character."),O}}if(O>56319)return O>=57344&&O<=65533||this.fail("disallowed character."),O;const ce=65536+(O-55296)*1024+(w.charCodeAt(j+1)-56320);return this.i=j+2,ce>1114111&&this.fail("disallowed character."),ce}getCode11(){const{chunk:w,i:j}=this;if(this.prevI=j,this.i=j+1,j>=w.length)return _;const O=w.charCodeAt(j);if(this.column++,O<55296){if(O>31&&O<127||O>159&&O!==Tt||O===i)return O;switch(O){case a:return this.line++,this.column=0,this.positionAtNewLine=this.position,a;case b:{const Re=w.charCodeAt(j+1);(Re===a||Re===pt)&&(this.i=j+2)}case pt:case Tt:return this.line++,this.column=0,this.positionAtNewLine=this.position,E;default:return this.fail("disallowed character."),O}}if(O>56319)return O>=57344&&O<=65533||this.fail("disallowed character."),O;const ce=65536+(O-55296)*1024+(w.charCodeAt(j+1)-56320);return this.i=j+2,ce>1114111&&this.fail("disallowed character."),ce}getCodeNorm(){const w=this.getCode();return w===E?a:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:j}=this;const{chunk:O}=this;for(;;){const ce=this.getCode(),Re=ce===E,Fe=Re?a:ce;if(Fe===_||w.includes(Fe))return this.text+=O.slice(j,this.prevI),Fe;Re&&(this.text+=`${O.slice(j,this.prevI)}
`,j=this.i)}}captureToChar(w){let{i:j}=this;const{chunk:O}=this;for(;;){let ce=this.getCode();switch(ce){case E:this.text+=`${O.slice(j,this.prevI)}
`,j=this.i,ce=a;break;case _:return this.text+=O.slice(j),!1}if(ce===w)return this.text+=O.slice(j,this.prevI),!0}}captureNameChars(){const{chunk:w,i:j}=this;for(;;){const O=this.getCode();if(O===_)return this.name+=w.slice(j),_;if(!f(O))return this.name+=w.slice(j,this.prevI),O===E?a:O}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===_||!r(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=n,this.getCode=this.getCode10):(this.isChar=u,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=C}sBeginWhitespace(){const w=this.i,j=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),j){case He:if(this.state=V,this.text.length!==0)throw new Error("no-empty text at start");break;case _:break;default:this.unget(),this.state=oe,this.xmlDeclPossible=!1}}sDoctype(){var w;const j=this.captureTo(ne);switch(j){case Ce:{(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=oe,this.doctype=!0;break}case _:break;default:this.text+=String.fromCodePoint(j),j===Xt?this.state=Y:p(j)&&(this.state=H,this.q=j)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=S)}sDTD(){const w=this.captureTo(se);w!==_&&(this.text+=String.fromCodePoint(w),w===tt?this.state=S:w===He?this.state=he:p(w)&&(this.state=X,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=Y,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case M:this.state=B,this.openWakaBang="";break;case Pe:this.state=ae;break;default:this.state=Y}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),j=this.openWakaBang+=w;this.text+=w,j!=="-"&&(this.state=j==="--"?$:Y,this.openWakaBang="")}sDTDComment(){this.captureToChar(Ne)&&(this.text+="-",this.state=Z)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===Ne?L:$}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===Ce?this.state=Y:(this.fail("malformed comment."),this.state=$)}sDTDPI(){this.captureToChar(Pe)&&(this.text+="?",this.state=ue)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===Ce&&(this.state=Y)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:j}=this;e:for(;;)switch(this.getCode()){case E:this.entity+=`${j.slice(w,this.prevI)}
`,w=this.i;break;case Te:{const{entityReturnState:O}=this,ce=this.entity+j.slice(w,this.prevI);this.state=O;let Re;ce===""?(this.fail("empty entity name."),Re="&;"):(Re=this.parseEntity(ce),this.entity=""),(O!==oe||this.textHandler!==void 0)&&(this.text+=Re);break e}case _:this.entity+=j.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(l(w))this.state=ie,this.unget(),this.xmlDeclPossible=!1;else switch(w){case Ae:this.state=Me,this.xmlDeclPossible=!1;break;case M:this.state=de,this.openWakaBang="",this.xmlDeclPossible=!1;break;case Pe:this.state=Ee;break;default:this.fail("disallowed character in tag name"),this.state=oe,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=G,this.openWakaBang="";break;case"--":this.state=T,this.openWakaBang="";break;case"DOCTYPE":this.state=S,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(Ne)&&(this.state=U)}sCommentEnding(){var w;const j=this.getCodeNorm();j===Ne?(this.state=re,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+=`-${String.fromCodePoint(j)}`,this.state=T)}sCommentEnded(){const w=this.getCodeNorm();w!==Ce?(this.fail("malformed comment."),this.text+=`--${String.fromCodePoint(w)}`,this.state=T):this.state=oe}sCData(){this.captureToChar(tt)&&(this.state=fe)}sCDataEnding(){const w=this.getCodeNorm();w===tt?this.state=_e:(this.text+=`]${String.fromCodePoint(w)}`,this.state=G)}sCDataEnding2(){var w;const j=this.getCodeNorm();switch(j){case Ce:{(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=oe;break}case tt:this.text+="]";break;default:this.text+=`]]${String.fromCodePoint(j)}`,this.state=G}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=ye):w===Pe||r(w)?(this.fail("processing instruction without a target."),this.state=w===Pe?Q:q):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=ye)}sPIRest(){const{chunk:w,i:j}=this;for(;;){const O=this.getCodeNorm();if(O===_){this.piTarget+=w.slice(j);return}if(!this.nameCheck(O)){this.piTarget+=w.slice(j,this.prevI);const ce=O===Pe;ce||r(O)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=ce?J:le):this.state=ce?Q:q:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(O));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===Pe?this.state=Q:r(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(Pe)&&(this.state=Q)}sPIEnding(){var w;const j=this.getCodeNorm();if(j===Ce){const{piTarget:O}=this;O.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:O,body:this.text}),this.piTarget=this.text="",this.state=oe}else j===Pe?this.text+="?":(this.text+=`?${String.fromCodePoint(j)}`,this.state=q);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();if(w===Pe){this.state=J;return}w!==_&&(this.state=ge,this.name=String.fromCodePoint(w))}sXMLDeclName(){const w=this.captureTo(pe);if(w===Pe){this.state=J,this.name+=this.text,this.text="",this.fail("XML declaration is incomplete.");return}if(r(w)||w===et){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail(`expected one of ${this.xmlDeclExpects.join(", ")}`)}this.state=w===et?v:be}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===Pe){this.state=J,this.fail("XML declaration is incomplete.");return}r(w)||(w!==et&&this.fail("value required."),this.state=v)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===Pe){this.state=J,this.fail("XML declaration is incomplete.");return}r(w)||(p(w)?this.q=w:(this.fail("value must be quoted."),this.q=A),this.state=P)}sXMLDeclValue(){const w=this.captureTo([this.q,Pe]);if(w===Pe){this.state=J,this.text="",this.fail("XML declaration is incomplete.");return}if(w===_)return;const j=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const O=j;this.xmlDecl.version=O,/^1\.[0-9]+$/.test(O)?this.opt.forceXMLVersion||this.setXMLVersion(O):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(j)||this.fail("encoding value must match 	/^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=j;break;case"standalone":j!=="yes"&&j!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=j;break}this.name="",this.state=k}sXMLDeclSeparator(){const w=this.getCodeNorm();if(w===Pe){this.state=J;return}r(w)||(this.fail("whitespace required."),this.unget()),this.state=le}sXMLDeclEnding(){var w;this.getCodeNorm()===Ce?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=oe):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const j=this.captureNameChars();if(j===_)return;const O=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=O.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,O),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),j){case Ce:this.openTag();break;case Ae:this.state=te;break;default:r(j)||this.fail("disallowed character in tag name."),this.state=F}}sOpenTagSlash(){this.getCode()===Ce?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=F)}sAttrib(){const w=this.skipSpaces();w!==_&&(l(w)?(this.unget(),this.state=K):w===Ce?this.openTag():w===Ae?this.state=te:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===et?this.state=W:r(w)?this.state=ee:w===Ce?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==_&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case _:return;case et:this.state=W;break;default:this.fail("attribute without value."),this.text="",this.name="",w===Ce?this.openTag():l(w)?(this.unget(),this.state=K):(this.fail("disallowed character in attribute name."),this.state=F)}}sAttribValue(){const w=this.getCodeNorm();p(w)?(this.q=w,this.state=Se):r(w)||(this.fail("unquoted attribute value."),this.state=xe,this.unget())}sAttribValueQuoted(){const{q:w,chunk:j}=this;let{i:O}=this;for(;;)switch(this.getCode()){case w:this.pushAttrib(this.name,this.text+j.slice(O,this.prevI)),this.name=this.text="",this.q=null,this.state=Be;return;case me:this.text+=j.slice(O,this.prevI),this.state=we,this.entityReturnState=Se;return;case a:case E:case i:this.text+=`${j.slice(O,this.prevI)} `,O=this.i;break;case He:this.text+=j.slice(O,this.prevI),this.fail("disallowed character.");return;case _:this.text+=j.slice(O);return}}sAttribValueClosed(){const w=this.getCodeNorm();r(w)?this.state=F:w===Ce?this.openTag():w===Ae?this.state=te:l(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=K):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(Oe);switch(w){case me:this.state=we,this.entityReturnState=xe;break;case He:this.fail("disallowed character.");break;case _:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===Ce?this.openTag():this.state=F}}sCloseTag(){const w=this.captureNameChars();w===Ce?this.closeTag():r(w)?this.state=d:w!==_&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case Ce:this.closeTag();break;case _:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:j}=this;const{chunk:O,textHandler:ce}=this;e:for(;;)switch(this.getCode()){case He:{if(this.state=V,ce!==void 0){const{text:Re}=this,Fe=O.slice(w,this.prevI);Re.length!==0?(ce(Re+Fe),this.text=""):Fe.length!==0&&ce(Fe)}j=Xe;break e}case me:this.state=we,this.entityReturnState=oe,ce!==void 0&&(this.text+=O.slice(w,this.prevI)),j=Xe;break e;case tt:switch(j){case Xe:j=Nt;break;case Nt:j=_t;break;case _t:break;default:throw new Error("impossible state")}break;case Ce:j===_t&&this.fail('the string "]]>" is disallowed in char data.'),j=Xe;break;case E:ce!==void 0&&(this.text+=`${O.slice(w,this.prevI)}
`),w=this.i,j=Xe;break;case _:ce!==void 0&&(this.text+=O.slice(w));break e;default:j=Xe}this.forbiddenState=j}handleTextOutsideRoot(){let{i:w}=this;const{chunk:j,textHandler:O}=this;let ce=!1;e:for(;;){const Re=this.getCode();switch(Re){case He:{if(this.state=V,O!==void 0){const{text:Fe}=this,Ue=j.slice(w,this.prevI);Fe.length!==0?(O(Fe+Ue),this.text=""):Ue.length!==0&&O(Ue)}break e}case me:this.state=we,this.entityReturnState=oe,O!==void 0&&(this.text+=j.slice(w,this.prevI)),ce=!0;break e;case E:O!==void 0&&(this.text+=`${j.slice(w,this.prevI)}
`),w=this.i;break;case _:O!==void 0&&(this.text+=j.slice(w));break e;default:r(Re)||(ce=!0)}}ce&&(!this.sawRoot&&!this.reportedTextBeforeRoot&&(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,j){var O;const{prefix:ce,local:Re}=this.qname(w),Fe={name:w,prefix:ce,local:Re,value:j};if(this.attribList.push(Fe),(O=this.attributeHandler)===null||O===void 0||O.call(this,Fe),ce==="xmlns"){const Ue=j.trim();this.currentXMLVersion==="1.0"&&Ue===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[Re]=Ue,ke(this,Re,Ue)}else if(w==="xmlns"){const Ue=j.trim();this.topNS[""]=Ue,ke(this,"",Ue)}}pushAttribPlain(w,j){var O;const ce={name:w,value:j};this.attribList.push(ce),(O=this.attributeHandler)===null||O===void 0||O.call(this,ce)}end(){var w,j;this.sawRoot||this.fail("document must contain a root element.");const{tags:O}=this;for(;O.length>0;){const Re=O.pop();this.fail(`unclosed tag: ${Re.name}`)}this.state!==y&&this.state!==oe&&this.fail("unexpected end.");const{text:ce}=this;return ce.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,ce),this.text=""),this._closed=!0,(j=this.endHandler)===null||j===void 0||j.call(this),this._init(),this}resolve(w){var j,O;let ce=this.topNS[w];if(ce!==void 0)return ce;const{tags:Re}=this;for(let Fe=Re.length-1;Fe>=0;Fe--)if(ce=Re[Fe].ns[w],ce!==void 0)return ce;return ce=this.ns[w],ce!==void 0?ce:(O=(j=this.opt).resolvePrefix)===null||O===void 0?void 0:O.call(j,w)}qname(w){const j=w.indexOf(":");if(j===-1)return{prefix:"",local:w};const O=w.slice(j+1),ce=w.slice(0,j);return(ce===""||O===""||O.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:ce,local:O}}processAttribsNS(){var w;const{attribList:j}=this,O=this.tag;{const{prefix:Fe,local:Ue}=this.qname(O.name);O.prefix=Fe,O.local=Ue;const gt=O.uri=(w=this.resolve(Fe))!==null&&w!==void 0?w:"";Fe!==""&&(Fe==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),gt===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(Fe)}.`),O.uri=Fe))}if(j.length===0)return;const{attributes:ce}=O,Re=new Set;for(const Fe of j){const{name:Ue,prefix:gt,local:On}=Fe;let yt,At;gt===""?(yt=Ue==="xmlns"?N:"",At=Ue):(yt=this.resolve(gt),yt===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(gt)}.`),yt=gt),At=`{${yt}}${On}`),Re.has(At)&&this.fail(`duplicate attribute: ${At}.`),Re.add(At),Fe.uri=yt,ce[Ue]=Fe}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,j=this.tag.attributes;for(const{name:O,value:ce}of w)j[O]!==void 0&&this.fail(`duplicate attribute: ${O}.`),j[O]=ce;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:j}=this,O=this.tag;O.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,O),j.push(O),this.state=oe,this.name=""}openSelfClosingTag(){var w,j,O;this.processAttribs();const{tags:ce}=this,Re=this.tag;Re.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,Re),(j=this.closeTagHandler)===null||j===void 0||j.call(this,Re),(this.tag=(O=ce[ce.length-1])!==null&&O!==void 0?O:null)===null&&(this.closedRoot=!0),this.state=oe,this.name=""}closeTag(){const{tags:w,name:j}=this;if(this.state=oe,this.name="",j===""){this.fail("weird empty close tag."),this.text+="</>";return}const O=this.closeTagHandler;let ce=w.length;for(;ce-- >0;){const Re=this.tag=w.pop();if(this.topNS=Re.ns,O?.(Re),Re.name===j)break;this.fail("unexpected close tag.")}ce===0?this.closedRoot=!0:ce<0&&(this.fail(`unmatched closing tag: ${j}.`),this.text+=`</${j}>`)}parseEntity(w){if(w[0]!=="#"){const O=this.ENTITIES[w];return O!==void 0?O:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let j=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?j=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(j=parseInt(w.slice(1),10)),this.isChar(j)?String.fromCodePoint(j):(this.fail("malformed character entity."),`&${w};`)}}return ft.SaxesParser=It,ft}var qt={},tn;function Bs(){if(tn)return qt;tn=1,Object.defineProperty(qt,"__esModule",{value:!0}),qt.ParseError=void 0;let s=class extends Error{constructor(t,r){const n=t.saxParser;super(t.trackPosition?`Line ${n.line} column ${n.column+1}: ${r}`:r)}};return qt.ParseError=s,qt}var ct={},Wr={},rn;function Os(){return rn||(rn=1,(function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.validateIri=s.IriValidationStrategy=void 0;function e(){const o="[!$&'()*+,;=]",g="%[a-fA-F0-9]{2}",u="([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c=`${u}\\.${u}\\.${u}\\.${u}`,h="[a-fA-F0-9]{1,4}",R=`(${h}:${h}|${c})`,D=`((${h}:){6}${R}|::(${h}:){5}${R}|(${h})?::(${h}:){4}${R}|((${h}:){0,1}${h})?::(${h}:){3}${R}|((${h}:){0,2}${h})?::(${h}:){2}${R}|((${h}:){0,3}${h})?::${h}:${R}|((${h}:){0,4}${h})?::${R}|((${h}:){0,5}${h})?::${h}|((${h}:){0,6}${h})?::)`,N=`v[a-fA-F0-9]+\\.(${o}|${o}|":)+`,I=`\\[(${D}|${N})\\]`,x="[0-9]*",_="[a-zA-Z][a-zA-Z0-9+\\-.]*",y="[---]",H="[a-zA-Z0-9\\-._~-----------------]",Y=`(${H}|${g}|${o}|[:@])*`,X=`(${Y}|[\\/?])*`,he=`(${Y}|${y}|[\\/?])*`,B=`(${Y})+`,$=`(${Y})*`,Z="",L=`${B}(\\/${$})*`,ae=`\\/(${B}(\\/${$})*)?`,ue=`(\\/${$})*`,oe=`(${H}|${g}|${o})*`,we=`(${I}|${c}|${oe})`,T=`(\\/\\/${`(${`(${H}|${g}|${o}|:)*`}@)?${we}(:${x})?`}${ue}|${ae}|${L}|${Z})`,U=`^${_}:${T}(\\?${he})?(#${X})?$`;return new RegExp(U,"u")}const t=e(),r=/^[A-Za-z][\d+-.A-Za-z]*:[^\u0000-\u0020"<>\\^`{|}]*$/u;var n;(function(f){f.Strict="strict",f.Pragmatic="pragmatic",f.None="none"})(n=s.IriValidationStrategy||(s.IriValidationStrategy={}));function l(f,o=n.Strict){switch(o){case n.Strict:return t.test(f)?void 0:new Error(`Invalid IRI according to RFC 3987: '${f}'`);case n.Pragmatic:return r.test(f)?void 0:new Error(`Invalid IRI according to RDF Turtle: '${f}'`);case n.None:return;default:return new Error(`Not supported validation strategy "${o}"`)}}s.validateIri=l})(Wr)),Wr}var nn;function Ms(){return nn||(nn=1,(function(s){var e=ct&&ct.__createBinding||(Object.create?(function(r,n,l,f){f===void 0&&(f=l);var o=Object.getOwnPropertyDescriptor(n,l);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[l]}}),Object.defineProperty(r,f,o)}):(function(r,n,l,f){f===void 0&&(f=l),r[f]=n[l]})),t=ct&&ct.__exportStar||function(r,n){for(var l in r)l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&e(n,r,l)};Object.defineProperty(s,"__esModule",{value:!0}),t(Os(),s)})(ct)),ct}var sn;function $s(){if(sn)return ut;sn=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.ParseType=ut.RdfXmlParser=void 0;const s=is(),e=Ls(),t=Sn(),r=Bs(),n=ts(),l=Ms();let f=class Ie extends t.Transform{constructor(u){super({readableObjectMode:!0}),this.activeTagStack=[],this.nodeIds={},u&&(Object.assign(this,u),this.options=u),this.dataFactory||(this.dataFactory=new n.DataFactory),this.baseIRI||(this.baseIRI=""),this.defaultGraph||(this.defaultGraph=this.dataFactory.defaultGraph()),this.validateUri!==!1&&(this.validateUri=!0),this.iriValidationStrategy||(this.iriValidationStrategy=this.validateUri?l.IriValidationStrategy.Pragmatic:l.IriValidationStrategy.None),this.parseUnsupportedVersions=!!u?.parseUnsupportedVersions,this.version=u?.version,this.saxParser=new e.SaxesParser({xmlns:!0,position:this.trackPosition}),this.attachSaxListeners()}import(u){const c=new t.PassThrough({readableObjectMode:!0});u.on("error",R=>h.emit("error",R)),u.on("data",R=>c.push(R)),u.on("end",()=>c.push(null));const h=c.pipe(new Ie(this.options));return h}_transform(u,c,h){if(this.version){const R=this.version;if(this.version=void 0,!this.isValidVersion(R))return h(this.newParseError(`Detected unsupported version as media type parameter: ${R}`))}try{this.saxParser.write(u)}catch(R){return h(R)}h()}newParseError(u){return new r.ParseError(this,u)}valueToUri(u,c){return this.uriToNamedNode((0,s.resolve)(u,c.baseIRI))}uriToNamedNode(u){const c=(0,l.validateIri)(u,this.iriValidationStrategy);if(c instanceof Error)throw this.newParseError(c.message);return this.dataFactory.namedNode(u)}validateNcname(u){if(!Ie.NCNAME_MATCHER.test(u))throw this.newParseError(`Not a valid NCName: ${u}`)}createLiteral(u,c){return this.dataFactory.literal(u,c.datatype?c.datatype:c.language?{language:c.language,direction:c.rdfVersion?c.direction:void 0}:void 0)}isValidVersion(u){return this.parseUnsupportedVersions||Ie.SUPPORTED_VERSIONS.includes(u)}attachSaxListeners(){this.saxParser.on("error",u=>this.emit("error",u)),this.saxParser.on("opentag",this.onTag.bind(this)),this.saxParser.on("text",this.onText.bind(this)),this.saxParser.on("cdata",this.onText.bind(this)),this.saxParser.on("closetag",this.onCloseTag.bind(this)),this.saxParser.on("doctype",this.onDoctype.bind(this))}onTag(u){const c=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;let h=o.RESOURCE;if(c&&(c.hadChildren=!0,h=c.childrenParseType),c&&c.childrenStringTags){const D=u.name;let N="";for(const{key:E,value:y}of c.namespaces||[])N+=` ${E}="${y}"`;for(const E in u.attributes)N+=` ${E}="${u.attributes[E].value}"`;const x=`<${`${D}${N}`}>`;c.childrenStringTags.push(x);const _={childrenStringTags:c.childrenStringTags};_.childrenStringEmitClosingTag=`</${D}>`,this.activeTagStack.push(_);return}const R={};c?(R.language=c.language,R.direction=c.direction,R.baseIRI=c.baseIRI,R.childrenTripleTerms=c.childrenTripleTerms,R.rdfVersion=c.rdfVersion):R.baseIRI=this.baseIRI,this.activeTagStack.push(R),h===o.RESOURCE?this.onTagResource(u,R,c,!c):this.onTagProperty(u,R,c);for(const D in u.attributes){const N=u.attributes[D];N.prefix==="xmlns"&&(R.namespaces||(R.namespaces=[]),R.namespaces.push({key:`${N.prefix}:${N.local}`,value:N.value}))}c&&c.namespaces&&(R.namespaces=[...R.namespaces||[],...c.namespaces])}onTagResource(u,c,h,R){c.childrenParseType=o.PROPERTY;let D=!0;if(u.uri===Ie.RDF){if(!R&&Ie.FORBIDDEN_NODE_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal node element name: ${u.local}`);switch(u.local){case"RDF":c.childrenParseType=o.RESOURCE;case"Description":D=!1}}const N=[],I=[];let x=null,_=!1,E=!1,y=null;for(const C in u.attributes){const S=u.attributes[C];if(S.uri===Ie.RDF&&S.local==="version"){this.setVersion(c,S.value);continue}else if(h&&S.uri===Ie.RDF)switch(S.local){case"about":if(x)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${x} where found.`);x=S.value;continue;case"ID":if(x)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${x} where found.`);this.validateNcname(S.value),x="#"+S.value,_=!0;continue;case"nodeID":if(x)throw this.newParseError(`Only one of rdf:about, rdf:nodeID and rdf:ID can be present, while ${S.value} and ${x} where found.`);this.validateNcname(S.value),x=S.value,E=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"type":y=S.value;continue;case"aboutEach":throw this.newParseError("rdf:aboutEach is not supported.");case"aboutEachPrefix":throw this.newParseError("rdf:aboutEachPrefix is not supported.");case"li":throw this.newParseError("rdf:li on node elements are not supported.")}else if(S.uri===Ie.XML){if(S.local==="lang"){c.language=S.value===""?null:S.value.toLowerCase();continue}else if(S.local==="base"){c.baseIRI=(0,s.resolve)(S.value,c.baseIRI);continue}}else if(S.uri===Ie.ITS&&S.local==="dir"){this.setDirection(c,S.value);continue}S.prefix!=="xml"&&S.prefix!=="xmlns"&&(S.prefix!==""||S.local!=="xmlns")&&S.uri&&(N.push(this.uriToNamedNode(S.uri+S.local)),I.push(S.value))}if(x!==null&&(c.subject=E?this.dataFactory.blankNode(x):this.valueToUri(x,c),_&&this.claimNodeId(c.subject)),c.subject||(c.subject=this.dataFactory.blankNode()),D){const C=this.uriToNamedNode(u.uri+u.local);this.emitTriple(c.subject,this.dataFactory.namedNode(Ie.RDF+"type"),C,h?h.reifiedStatementId:null,c.childrenTripleTerms,c.reifier)}if(h){if(h.predicate)if(h.childrenCollectionSubject){const C=this.dataFactory.blankNode(),S=this.dataFactory.namedNode(Ie.RDF+"rest"),H=h.childrenCollectionPredicate.equals(S);this.emitTriple(h.childrenCollectionSubject,h.childrenCollectionPredicate,C,H?null:h.reifiedStatementId,h.childrenTripleTerms,H?null:h.reifier),this.emitTriple(C,this.dataFactory.namedNode(Ie.RDF+"first"),c.subject,null,c.childrenTripleTerms),h.childrenCollectionSubject=C,h.childrenCollectionPredicate=S}else{h.childrenTagsToTripleTerms||(this.emitTriple(h.subject,h.predicate,c.subject,h.reifiedStatementId,h.childrenTripleTerms,h.reifier),h.predicateEmitted=!0);for(let C=0;C<h.predicateSubPredicates.length;C++)this.emitTriple(c.subject,h.predicateSubPredicates[C],h.predicateSubObjects[C],null,h.childrenTripleTerms,h.reifier);h.predicateSubPredicates=[],h.predicateSubObjects=[]}for(let C=0;C<N.length;C++){const S=this.createLiteral(I[C],c);this.emitTriple(c.subject,N[C],S,h.reifiedStatementId,h.childrenTripleTerms,h.reifier)}y&&this.emitTriple(c.subject,this.dataFactory.namedNode(Ie.RDF+"type"),this.uriToNamedNode(y),null,c.childrenTripleTerms,c.reifier)}}onTagProperty(u,c,h){if(c.childrenParseType=o.RESOURCE,c.subject=h.subject,u.uri===Ie.RDF&&u.local==="li"?(h.listItemCounter||(h.listItemCounter=1),c.predicate=this.uriToNamedNode(u.uri+"_"+h.listItemCounter++)):c.predicate=this.uriToNamedNode(u.uri+u.local),u.uri===Ie.RDF&&Ie.FORBIDDEN_PROPERTY_ELEMENTS.indexOf(u.local)>=0)throw this.newParseError(`Illegal property element name: ${u.local}`);c.predicateSubPredicates=[],c.predicateSubObjects=[];let R=!1,D=!1,N=null,I=!0;const x=[],_=[];for(const E in u.attributes){const y=u.attributes[E];if(y.uri===Ie.RDF&&y.local==="version"){this.setVersion(c,y.value);continue}else if(y.uri===Ie.RDF)switch(y.local){case"resource":if(N)throw this.newParseError(`Found both rdf:resource (${y.value}) and rdf:nodeID (${N}).`);if(R)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:resource (${y.value})`);c.hadChildren=!0,N=y.value,I=!1;continue;case"datatype":if(D)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:datatype (${y.value}).`);if(R)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${y.value})`);c.datatype=this.valueToUri(y.value,c);continue;case"nodeID":if(D)throw this.newParseError(`Found both non-rdf:* property attributes and rdf:nodeID (${y.value}).`);if(c.hadChildren)throw this.newParseError(`Found both rdf:resource and rdf:nodeID (${y.value}).`);if(R)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID (${y.value})`);this.validateNcname(y.value),c.hadChildren=!0,N=y.value,I=!0;continue;case"bagID":throw this.newParseError("rdf:bagID is not supported.");case"parseType":if(D)throw this.newParseError("rdf:parseType is not allowed when non-rdf:* property attributes are present");if(c.datatype)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:datatype (${c.datatype.value})`);if(N)throw this.newParseError(`rdf:parseType is not allowed on property elements with rdf:nodeID or rdf:resource (${N})`);if(y.value==="Resource"){R=!0,c.childrenParseType=o.PROPERTY;const C=this.dataFactory.blankNode();this.emitTriple(c.subject,c.predicate,C,c.reifiedStatementId,c.childrenTripleTerms,c.reifier),c.subject=C,c.predicate=null}else y.value==="Collection"?(R=!0,c.hadChildren=!0,c.childrenCollectionSubject=c.subject,c.childrenCollectionPredicate=c.predicate,I=!1):y.value==="Literal"?(R=!0,c.childrenTagsToString=!0,c.childrenStringTags=[]):y.value==="Triple"&&(R=!0,c.childrenTagsToTripleTerms=!0,c.childrenTripleTerms=[]);continue;case"ID":this.validateNcname(y.value),c.reifiedStatementId=this.valueToUri("#"+y.value,c),this.claimNodeId(c.reifiedStatementId);continue;case"annotation":c.reifier=this.dataFactory.namedNode(y.value);continue;case"annotationNodeID":c.reifier=this.dataFactory.blankNode(y.value);continue}else if(y.uri===Ie.XML&&y.local==="lang"){c.language=y.value===""?null:y.value.toLowerCase();continue}else if(y.uri===Ie.ITS&&y.local==="dir"){this.setDirection(c,y.value);continue}else if(y.uri===Ie.ITS&&y.local==="version")continue;if(y.prefix!=="xml"&&y.prefix!=="xmlns"&&(y.prefix!==""||y.local!=="xmlns")&&y.uri){if(R||c.datatype)throw this.newParseError(`Found illegal rdf:* properties on property element with attribute: ${y.value}`);c.hadChildren=!0,D=!0,x.push(this.uriToNamedNode(y.uri+y.local)),_.push(this.createLiteral(y.value,c))}}if(N!==null){const E=c.subject;c.subject=I?this.dataFactory.blankNode(N):this.valueToUri(N,c),this.emitTriple(E,c.predicate,c.subject,c.reifiedStatementId,c.childrenTripleTerms,c.reifier);for(let y=0;y<x.length;y++)this.emitTriple(c.subject,x[y],_[y],null,c.childrenTripleTerms,c.reifier);c.predicateEmitted=!0}else I&&(c.predicateSubPredicates=x,c.predicateSubObjects=_,c.predicateEmitted=!1)}emitTriple(u,c,h,R,D,N){const I=this.dataFactory.quad(u,c,h,this.defaultGraph);D?D.push(I):this.push(I),N&&this.push(this.dataFactory.quad(N,this.dataFactory.namedNode(Ie.RDF+"reifies"),I)),R&&(this.push(this.dataFactory.quad(R,this.dataFactory.namedNode(Ie.RDF+"type"),this.dataFactory.namedNode(Ie.RDF+"Statement"),this.defaultGraph)),this.push(this.dataFactory.quad(R,this.dataFactory.namedNode(Ie.RDF+"subject"),u,this.defaultGraph)),this.push(this.dataFactory.quad(R,this.dataFactory.namedNode(Ie.RDF+"predicate"),c,this.defaultGraph)),this.push(this.dataFactory.quad(R,this.dataFactory.namedNode(Ie.RDF+"object"),h,this.defaultGraph)))}claimNodeId(u){if(!this.allowDuplicateRdfIds){if(this.nodeIds[u.value])throw this.newParseError(`Found multiple occurrences of rdf:ID='${u.value}'.`);this.nodeIds[u.value]=!0}}onText(u){const c=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;c&&(c.childrenStringTags?c.childrenStringTags.push(u):c.predicate&&(c.text=u))}onCloseTag(){const u=this.activeTagStack.pop(),c=this.activeTagStack.length?this.activeTagStack[this.activeTagStack.length-1]:null;if(u.childrenStringEmitClosingTag&&u.childrenStringTags.push(u.childrenStringEmitClosingTag),u.childrenTagsToString&&(u.datatype=this.dataFactory.namedNode(Ie.RDF+"XMLLiteral"),u.text=u.childrenStringTags.join(""),u.hadChildren=!1),u.childrenTagsToTripleTerms&&u.predicate&&u.rdfVersion){if(u.childrenTripleTerms.length!==1)throw this.newParseError(`Expected exactly one triple term in rdf:parseType="Triple" but got ${u.childrenTripleTerms.length}`);for(const h of u.childrenTripleTerms)this.emitTriple(u.subject,u.predicate,h,null,c.childrenTripleTerms,c.reifier);u.predicateEmitted=!0}if(u.childrenCollectionSubject)this.emitTriple(u.childrenCollectionSubject,u.childrenCollectionPredicate,this.dataFactory.namedNode(Ie.RDF+"nil"),null,u.childrenTripleTerms);else if(u.predicate){if(!u.hadChildren&&u.childrenParseType!==o.PROPERTY)this.emitTriple(u.subject,u.predicate,this.createLiteral(u.text||"",u),u.reifiedStatementId,u.childrenTripleTerms,u.reifier);else if(!u.predicateEmitted){const h=this.dataFactory.blankNode();this.emitTriple(u.subject,u.predicate,h,u.reifiedStatementId,u.childrenTripleTerms,u.reifier);for(let R=0;R<u.predicateSubPredicates.length;R++)this.emitTriple(h,u.predicateSubPredicates[R],u.predicateSubObjects[R],null,u.childrenTripleTerms)}}}onDoctype(u){u.replace(/<!ENTITY\s+([^\s]+)\s+["']([^"']+)["']\s*>/g,(c,h,R)=>(this.saxParser.ENTITIES[h]=R,""))}setDirection(u,c){if(c){if(c!=="ltr"&&c!=="rtl")throw this.newParseError(`Base directions must either be 'ltr' or 'rtl', while '${c}' was found.`);u.direction=c}else delete u.direction}setVersion(u,c){if(u.rdfVersion=c,this.emit("version",c),!this.isValidVersion(c))throw this.newParseError(`Detected unsupported version: ${c}`)}};ut.RdfXmlParser=f,f.MIME_TYPE="application/rdf+xml",f.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",f.XML="http://www.w3.org/XML/1998/namespace",f.ITS="http://www.w3.org/2005/11/its",f.FORBIDDEN_NODE_ELEMENTS=["RDF","ID","about","bagID","parseType","resource","nodeID","li","aboutEach","aboutEachPrefix"],f.FORBIDDEN_PROPERTY_ELEMENTS=["Description","RDF","ID","about","bagID","parseType","resource","nodeID","aboutEach","aboutEachPrefix"],f.NCNAME_MATCHER=/^([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_])([A-Za-z\xC0-\xD6\xD8-\xF6\u{F8}-\u{2FF}\u{370}-\u{37D}\u{37F}-\u{1FFF}\u{200C}-\u{200D}\u{2070}-\u{218F}\u{2C00}-\u{2FEF}\u{3001}-\u{D7FF}\u{F900}-\u{FDCF}\u{FDF0}-\u{FFFD}\u{10000}-\u{EFFFF}_\-.0-9#xB7\u{0300}-\u{036F}\u{203F}-\u{2040}])*$/u,f.SUPPORTED_VERSIONS=["1.2","1.2-basic","1.1"];var o;return(function(g){g[g.RESOURCE=0]="RESOURCE",g[g.PROPERTY=1]="PROPERTY"})(o||(ut.ParseType=o={})),ut}var an;function ks(){return an||(an=1,(function(s){var e=lt&&lt.__createBinding||(Object.create?(function(r,n,l,f){f===void 0&&(f=l);var o=Object.getOwnPropertyDescriptor(n,l);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[l]}}),Object.defineProperty(r,f,o)}):(function(r,n,l,f){f===void 0&&(f=l),r[f]=n[l]})),t=lt&&lt.__exportStar||function(r,n){for(var l in r)l!=="default"&&!Object.prototype.hasOwnProperty.call(n,l)&&e(n,r,l)};Object.defineProperty(s,"__esModule",{value:!0}),t($s(),s)})(lt)),lt}var ra=ks();export{Ns as N,Ws as T,qs as a,ht as b,lr as c,is as d,Rn as e,Zn as f,Ge as g,ra as h,jn as i,ea as j,Ys as n,ts as r,it as t};
