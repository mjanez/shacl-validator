import{j as s}from"./markdown-ByzBnfWA.js";import{W as m,g as Ge,r as S,U as ve,n as pt,X as mt,l as vt}from"./icons-DG6W60MC.js";import{u as ht}from"./index-UlUhn1sP.js";import{f as _,r as Ze,a as gt,b as Xe,c as yt,i as q,T as ke,p as C,L as I,g as Ye,d as Se,e as Je,D as xt,C as bt,h as Y,j as H,S as At,A as jt,k as wt,l as _e,m as Ot,n as G,o as Pt,u as kt,G as St,q as ie,s as _t,t as Qe,v as Tt,w as ne,x as Te,y as et,B as oe,X as tt,Y as rt,z as Nt,E as Rt,F as Et,R as Ne,H as Re,V as It}from"./ValidationResults-D4066-Bi.js";import{k as V,c as nt,u as Lt,B as ae,S as Ee}from"./index-BbfHyOJf.js";import{C as he,a as ge,b as ye,c as Ie,d as xe}from"./card-CaK8SozE.js";import{T as $t,a as Ct,b as Le,c as $e}from"./tabs-x0ql1qHn.js";import{A as Dt,a as Bt,b as Ft,c as Kt}from"./accordion-D5fXV4Zb.js";import{B as Vt}from"./badge-Wfg_ZMYe.js";import"./index-CeW4QOa1.js";import"./ui-C9vahUD6.js";import"./shacl-VT5Co26k.js";var Mt=["points","className","baseLinePoints","connectNulls"];function Z(){return Z=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z.apply(this,arguments)}function zt(t,e){if(t==null)return{};var n=Wt(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ce(t){return Gt(t)||Ht(t)||Ut(t)||qt()}function qt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ut(t,e){if(t){if(typeof t=="string")return je(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return je(t,e)}}function Ht(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gt(t){if(Array.isArray(t))return je(t)}function je(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var De=function(e){return e&&e.x===+e.x&&e.y===+e.y},Zt=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){De(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),De(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},te=function(e,n){var r=Zt(e);n&&(r=[r.reduce(function(o,i){return[].concat(Ce(o),Ce(i))},[])]);var a=r.map(function(o){return o.reduce(function(i,u,f){return"".concat(i).concat(f===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(a,"Z"):a},Xt=function(e,n,r){var a=te(e,r);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(te(n.reverse(),r).slice(1))},Yt=function(e){var n=e.points,r=e.className,a=e.baseLinePoints,o=e.connectNulls,i=zt(e,Mt);if(!n||!n.length)return null;var u=V("recharts-polygon",r);if(a&&a.length){var f=i.stroke&&i.stroke!=="none",c=Xt(n,a,o);return m.createElement("g",{className:u},m.createElement("path",Z({},_(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),f?m.createElement("path",Z({},_(i,!0),{fill:"none",d:te(n,o)})):null,f?m.createElement("path",Z({},_(i,!0),{fill:"none",d:te(a,o)})):null)}var p=te(n,o);return m.createElement("path",Z({},_(i,!0),{fill:p.slice(-1)==="Z"?i.fill:"none",className:u,d:p}))},be,Be;function Jt(){if(Be)return be;Be=1;var t=Ze(),e=gt(),n=Xe();function r(a,o){return a&&a.length?t(a,n(o,2),e):void 0}return be=r,be}var Qt=Jt();const er=Ge(Qt);var Ae,Fe;function tr(){if(Fe)return Ae;Fe=1;var t=Ze(),e=Xe(),n=yt();function r(a,o){return a&&a.length?t(a,e(o,2),n):void 0}return Ae=r,Ae}var rr=tr();const nr=Ge(rr);var ar=["cx","cy","angle","ticks","axisLine"],ir=["ticks","tick","angle","tickFormatter","stroke"];function J(t){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(t)}function re(){return re=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},re.apply(this,arguments)}function Ke(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ke(Object(n),!0).forEach(function(r){de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ve(t,e){if(t==null)return{};var n=or(t,e),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function or(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,it(r.key),r)}}function lr(t,e,n){return e&&Me(t.prototype,e),n&&Me(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cr(t,e,n){return e=le(e),ur(t,at()?Reflect.construct(e,n||[],le(t).constructor):e.apply(t,n))}function ur(t,e){if(e&&(J(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dr(t)}function dr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function at(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(at=function(){return!!t})()}function le(t){return le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},le(t)}function fr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&we(t,e)}function we(t,e){return we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},we(t,e)}function de(t,e,n){return e=it(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function it(t){var e=pr(t,"string");return J(e)=="symbol"?e:e+""}function pr(t,e){if(J(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(J(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fe=(function(t){function e(){return sr(this,e),cr(this,e,arguments)}return fr(e,t),lr(e,[{key:"getTickValueCoord",value:function(r){var a=r.coordinate,o=this.props,i=o.angle,u=o.cx,f=o.cy;return C(u,f,a,i)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,a;switch(r){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,u=r.ticks,f=er(u,function(p){return p.coordinate||0}),c=nr(u,function(p){return p.coordinate||0});return{cx:a,cy:o,startAngle:i,endAngle:i,innerRadius:c.coordinate||0,outerRadius:f.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.angle,u=r.ticks,f=r.axisLine,c=Ve(r,ar),p=u.reduce(function(v,d){return[Math.min(v[0],d.coordinate),Math.max(v[1],d.coordinate)]},[1/0,-1/0]),h=C(a,o,p[0],i),y=C(a,o,p[1],i),O=z(z(z({},_(c,!1)),{},{fill:"none"},_(f,!1)),{},{x1:h.x,y1:h.y,x2:y.x,y2:y.y});return m.createElement("line",re({className:"recharts-polar-radius-axis-line"},O))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,u=a.angle,f=a.tickFormatter,c=a.stroke,p=Ve(a,ir),h=this.getTickTextAnchor(),y=_(p,!1),O=_(i,!1),v=o.map(function(d,x){var b=r.getTickValueCoord(d),P=z(z(z(z({textAnchor:h,transform:"rotate(".concat(90-u,", ").concat(b.x,", ").concat(b.y,")")},y),{},{stroke:"none",fill:c},O),{},{index:x},b),{},{payload:d});return m.createElement(I,re({className:V("recharts-polar-radius-axis-tick",Ye(i)),key:"tick-".concat(d.coordinate)},Se(r.props,d,x)),e.renderTickItem(i,P,f?f(d.value,x):d.value))});return m.createElement(I,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.axisLine,i=r.tick;return!a||!a.length?null:m.createElement(I,{className:V("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),i&&this.renderTicks(),Je.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,a,o){var i;return m.isValidElement(r)?i=m.cloneElement(r,a):q(r)?i=r(a):i=m.createElement(ke,re({},a,{className:"recharts-polar-radius-axis-tick-value"}),o),i}}])})(S.PureComponent);de(fe,"displayName","PolarRadiusAxis");de(fe,"axisType","radiusAxis");de(fe,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Q(t){"@babel/helpers - typeof";return Q=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(t)}function U(){return U=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U.apply(this,arguments)}function ze(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ze(Object(n),!0).forEach(function(r){pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,st(r.key),r)}}function vr(t,e,n){return e&&We(t.prototype,e),n&&We(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hr(t,e,n){return e=ce(e),gr(t,ot()?Reflect.construct(e,n||[],ce(t).constructor):e.apply(t,n))}function gr(t,e){if(e&&(Q(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yr(t)}function yr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ot(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ot=function(){return!!t})()}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ce(t)}function xr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Oe(t,e)}function Oe(t,e){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Oe(t,e)}function pe(t,e,n){return e=st(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function st(t){var e=br(t,"string");return Q(e)=="symbol"?e:e+""}function br(t,e){if(Q(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Q(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ar=Math.PI/180,qe=1e-5,me=(function(t){function e(){return mr(this,e),hr(this,e,arguments)}return xr(e,t),vr(e,[{key:"getTickLineCoord",value:function(r){var a=this.props,o=a.cx,i=a.cy,u=a.radius,f=a.orientation,c=a.tickSize,p=c||8,h=C(o,i,u,r.coordinate),y=C(o,i,u+(f==="inner"?-1:1)*p,r.coordinate);return{x1:h.x,y1:h.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var a=this.props.orientation,o=Math.cos(-r.coordinate*Ar),i;return o>qe?i=a==="outer"?"start":"end":o<-qe?i=a==="outer"?"end":"start":i="middle",i}},{key:"renderAxisLine",value:function(){var r=this.props,a=r.cx,o=r.cy,i=r.radius,u=r.axisLine,f=r.axisLineType,c=W(W({},_(this.props,!1)),{},{fill:"none"},_(u,!1));if(f==="circle")return m.createElement(xt,U({className:"recharts-polar-angle-axis-line"},c,{cx:a,cy:o,r:i}));var p=this.props.ticks,h=p.map(function(y){return C(a,o,i,y.coordinate)});return m.createElement(Yt,U({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var r=this,a=this.props,o=a.ticks,i=a.tick,u=a.tickLine,f=a.tickFormatter,c=a.stroke,p=_(this.props,!1),h=_(i,!1),y=W(W({},p),{},{fill:"none"},_(u,!1)),O=o.map(function(v,d){var x=r.getTickLineCoord(v),b=r.getTickTextAnchor(v),P=W(W(W({textAnchor:b},p),{},{stroke:"none",fill:c},h),{},{index:d,payload:v,x:x.x2,y:x.y2});return m.createElement(I,U({className:V("recharts-polar-angle-axis-tick",Ye(i)),key:"tick-".concat(v.coordinate)},Se(r.props,v,d)),u&&m.createElement("line",U({className:"recharts-polar-angle-axis-tick-line"},y,x)),i&&e.renderTickItem(i,P,f?f(v.value,d):v.value))});return m.createElement(I,{className:"recharts-polar-angle-axis-ticks"},O)}},{key:"render",value:function(){var r=this.props,a=r.ticks,o=r.radius,i=r.axisLine;return o<=0||!a||!a.length?null:m.createElement(I,{className:V("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,a,o){var i;return m.isValidElement(r)?i=m.cloneElement(r,a):q(r)?i=r(a):i=m.createElement(ke,U({},a,{className:"recharts-polar-angle-axis-tick-value"}),o),i}}])})(S.PureComponent);pe(me,"displayName","PolarAngleAxis");pe(me,"axisType","angleAxis");pe(me,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var se;function ee(t){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(t)}function X(){return X=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(this,arguments)}function Ue(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ue(Object(n),!0).forEach(function(r){E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ct(r.key),r)}}function wr(t,e,n){return e&&He(t.prototype,e),n&&He(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Or(t,e,n){return e=ue(e),Pr(t,lt()?Reflect.construct(e,n||[],ue(t).constructor):e.apply(t,n))}function Pr(t,e){if(e&&(ee(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(t)}function kr(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lt=function(){return!!t})()}function ue(t){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ue(t)}function Sr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pe(t,e)}function Pe(t,e){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Pe(t,e)}function E(t,e,n){return e=ct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ct(t){var e=_r(t,"string");return ee(e)=="symbol"?e:e+""}function _r(t,e){if(ee(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ee(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D=(function(t){function e(n){var r;return jr(this,e),r=Or(this,e,[n]),E(r,"pieRef",null),E(r,"sectorRefs",[]),E(r,"id",kt("recharts-pie-")),E(r,"handleAnimationEnd",function(){var a=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),q(a)&&a()}),E(r,"handleAnimationStart",function(){var a=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),q(a)&&a()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return Sr(e,t),wr(e,[{key:"isActiveIndex",value:function(r){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(r)!==-1:r===a}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,i=o.label,u=o.labelLine,f=o.dataKey,c=o.valueKey,p=_(this.props,!1),h=_(i,!1),y=_(u,!1),O=i&&i.offsetRadius||20,v=r.map(function(d,x){var b=(d.startAngle+d.endAngle)/2,P=C(d.cx,d.cy,d.outerRadius+O,b),N=g(g(g(g({},p),d),{},{stroke:"none"},h),{},{index:x,textAnchor:e.getTextAnchor(P.x,d.cx)},P),B=g(g(g(g({},p),d),{},{fill:"none",stroke:d.fill},y),{},{index:x,points:[C(d.cx,d.cy,d.outerRadius,b),P]}),k=f;return Y(f)&&Y(c)?k="value":Y(f)&&(k=c),m.createElement(I,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(x)},u&&e.renderLabelLineItem(u,B,"line"),e.renderLabelItem(i,N,H(d,k)))});return m.createElement(I,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var a=this,o=this.props,i=o.activeShape,u=o.blendStroke,f=o.inactiveShape;return r.map(function(c,p){if(c?.startAngle===0&&c?.endAngle===0&&r.length!==1)return null;var h=a.isActiveIndex(p),y=f&&a.hasActiveIndex()?f:null,O=h?i:y,v=g(g({},c),{},{stroke:u?c.fill:c.stroke,tabIndex:-1});return m.createElement(I,X({ref:function(x){x&&!a.sectorRefs.includes(x)&&a.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Se(a.props,c,p),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(p)}),m.createElement(At,X({option:O,isActive:h,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,a=this.props,o=a.sectors,i=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,c=a.animationEasing,p=a.animationId,h=this.state,y=h.prevSectors,O=h.prevIsAnimationActive;return m.createElement(jt,{begin:u,duration:f,isActive:i,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(O),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var d=v.t,x=[],b=o&&o[0],P=b.startAngle;return o.forEach(function(N,B){var k=y&&y[B],R=B>0?wt(N,"paddingAngle",0):0;if(k){var F=_e(k.endAngle-k.startAngle,N.endAngle-N.startAngle),T=g(g({},N),{},{startAngle:P+R,endAngle:P+F(d)+R});x.push(T),P=T.endAngle}else{var L=N.endAngle,l=N.startAngle,j=_e(0,L-l),w=j(d),A=g(g({},N),{},{startAngle:P+R,endAngle:P+w+R});x.push(A),P=A.endAngle}}),m.createElement(I,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var a=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var i=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[i].focus(),a.setState({sectorToFocus:i});break}case"ArrowRight":{var u=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[u].focus(),a.setState({sectorToFocus:u});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,a=r.sectors,o=r.isAnimationActive,i=this.state.prevSectors;return o&&a&&a.length&&(!i||!Ot(i,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,a=this.props,o=a.hide,i=a.sectors,u=a.className,f=a.label,c=a.cx,p=a.cy,h=a.innerRadius,y=a.outerRadius,O=a.isAnimationActive,v=this.state.isAnimationFinished;if(o||!i||!i.length||!G(c)||!G(p)||!G(h)||!G(y))return null;var d=V("recharts-pie",u);return m.createElement(I,{tabIndex:this.props.rootTabIndex,className:d,ref:function(b){r.pieRef=b}},this.renderSectors(),f&&this.renderLabels(i),Je.renderCallByParent(this.props,null,!1),(!O||v)&&Pt.renderCallByParent(this.props,i,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return a.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==a.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:r.sectors!==a.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,a){return r>a?"start":r<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,a,o){if(m.isValidElement(r))return m.cloneElement(r,a);if(q(r))return r(a);var i=V("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return m.createElement(bt,X({},a,{key:o,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(r,a,o){if(m.isValidElement(r))return m.cloneElement(r,a);var i=o;if(q(r)&&(i=r(a),m.isValidElement(i)))return i;var u=V("recharts-pie-label-text",typeof r!="boolean"&&!q(r)?r.className:"");return m.createElement(ke,X({},a,{alignmentBaseline:"middle",className:u}),i)}}])})(S.PureComponent);se=D;E(D,"displayName","Pie");E(D,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!St.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});E(D,"parseDeltaAngle",function(t,e){var n=ie(e-t),r=Math.min(Math.abs(e-t),360);return n*r});E(D,"getRealPieData",function(t){var e=t.data,n=t.children,r=_(t,!1),a=_t(n,Qe);return e&&e.length?e.map(function(o,i){return g(g(g({payload:o},r),o),a&&a[i]&&a[i].props)}):a&&a.length?a.map(function(o){return g(g({},r),o.props)}):[]});E(D,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,a=e.width,o=e.height,i=Tt(a,o),u=r+ne(t.cx,a,a/2),f=n+ne(t.cy,o,o/2),c=ne(t.innerRadius,i,0),p=ne(t.outerRadius,i,i*.8),h=t.maxRadius||Math.sqrt(a*a+o*o)/2;return{cx:u,cy:f,innerRadius:c,outerRadius:p,maxRadius:h}});E(D,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?g(g({},e.type.defaultProps),e.props):e.props,a=se.getRealPieData(r);if(!a||!a.length)return null;var o=r.cornerRadius,i=r.startAngle,u=r.endAngle,f=r.paddingAngle,c=r.dataKey,p=r.nameKey,h=r.valueKey,y=r.tooltipType,O=Math.abs(r.minAngle),v=se.parseCoordinateOfPie(r,n),d=se.parseDeltaAngle(i,u),x=Math.abs(d),b=c;Y(c)&&Y(h)?(Te(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b="value"):Y(c)&&(Te(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),b=h);var P=a.filter(function(T){return H(T,b,0)!==0}).length,N=(x>=360?P:P-1)*f,B=x-P*O-N,k=a.reduce(function(T,L){var l=H(L,b,0);return T+(G(l)?l:0)},0),R;if(k>0){var F;R=a.map(function(T,L){var l=H(T,b,0),j=H(T,p,L),w=(G(l)?l:0)/k,A;L?A=F.endAngle+ie(d)*f*(l!==0?1:0):A=i;var M=A+ie(d)*((l!==0?O:0)+w*B),K=(A+M)/2,$=(v.innerRadius+v.outerRadius)/2,dt=[{name:j,value:l,payload:T,dataKey:b,type:y}],ft=C(v.cx,v.cy,$,K);return F=g(g(g({percent:w,cornerRadius:o,name:j,tooltipPayload:dt,midAngle:K,middleRadius:$,tooltipPosition:ft},T),v),{},{value:H(T,b),startAngle:A,endAngle:M,payload:T,paddingAngle:ie(d)*f}),F})}return g(g({},v),{},{sectors:R,data:a})});var Tr=et({chartName:"BarChart",GraphicalChild:oe,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:tt},{axisType:"yAxis",AxisComp:rt}],formatAxisMap:Nt}),Nr=et({chartName:"PieChart",GraphicalChild:D,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:me},{axisType:"radiusAxis",AxisComp:fe}],formatAxisMap:Rt,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const ut=S.forwardRef(({className:t,...e},n)=>s.jsx("textarea",{className:nt("flex min-h-[120px] w-full rounded-md border border-input bg-background px-4 py-3 text-sm shadow-sm transition-colors placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ut.displayName="Textarea";const zr=()=>{const{t}=Lt(),[e,n]=S.useState(null),[r,a]=S.useState(!1),[o,i]=S.useState(null),[u,f]=S.useState(""),[c,p]=S.useState(null),[h,y]=S.useState("upload"),O=S.useRef(null);S.useEffect(()=>{const l=new Worker(new URL("/assets/reportWorker-DAn0hnvB.js",import.meta.url),{type:"module"});return O.current=Et(l),()=>l.terminate()},[]);const v=async()=>{if(!(!u.trim()||!O.current)){a(!0),i(null);try{const l=await O.current.parseShaclReport(u);n(l)}catch(l){console.error(l),i(`${t("viewer.error")} ${l.message}`)}finally{a(!1)}}},d=S.useCallback((l,j)=>{f(l),p(j),y("upload")},[]),x=S.useCallback(l=>{const j=l[0];if(!j)return;const w=new FileReader;w.onload=A=>{A.target?.result&&d(A.target.result,j.name)},w.readAsText(j)},[d]),{getRootProps:b,getInputProps:P,isDragActive:N}=ht({onDrop:x,accept:{"text/turtle":[".ttl"],"application/rdf+xml":[".rdf",".xml"],"application/ld+json":[".jsonld"]},multiple:!1}),B=S.useCallback(()=>{f(""),p(null),i(null)},[]),k={violation:"hsl(0 72% 50%)",warning:"hsl(45 93% 47%)",info:"hsl(210 80% 60%)"},R=S.useMemo(()=>e?[{name:t("severity.violation"),value:e.violations.length,color:k.violation},{name:t("severity.warning"),value:e.warnings.length,color:k.warning},{name:t("severity.info"),value:e.infos.length,color:k.info}]:[],[e,t]),F=S.useMemo(()=>{if(!e)return[];const l=new Map,j=(w,A)=>{w.forEach(M=>{const K=M.sourceShape||M.focusNode||"n/a",$=l.get(K)||{violation:0,warning:0,info:0};$[A]+=1,l.set(K,$)})};return j(e.violations,"violation"),j(e.warnings,"warning"),j(e.infos,"info"),Array.from(l.entries()).map(([w,A])=>({name:w,...A,total:A.violation+A.warning+A.info})).sort((w,A)=>A.total-w.total).slice(0,6)},[e]),T=({active:l,payload:j})=>{if(!l||!j?.length)return null;const w=j[0].payload;return s.jsxs("div",{className:"rounded-xl border border-border bg-card/90 px-3 py-2 text-xs",children:[s.jsx("p",{className:"font-semibold",children:w.name}),s.jsxs("p",{className:"text-destructive",children:[t("severity.violation"),": ",w.violation]}),s.jsxs("p",{className:"text-amber-600",children:[t("severity.warning"),": ",w.warning]}),s.jsxs("p",{className:"text-sky-600",children:[t("severity.info"),": ",w.info]})]})},L=async(l,j)=>{if(!e)return;const w={...e,violations:l==="Violation"?e.violations:[],warnings:l==="Warning"?e.warnings:[],infos:l==="Info"?e.infos:[],totalViolations:l==="Violation"?e.violations.length:0},A=j==="ttl"?await Ee.exportReportAsTurtle(w):await Ee.exportReportAsCSV(w),M=new Blob([A],{type:j==="ttl"?"text/turtle":"text/csv"}),K=URL.createObjectURL(M),$=document.createElement("a");$.href=K,$.download=`shacl-${l.toLowerCase()}-${new Date().toISOString()}.${j}`,$.click(),URL.revokeObjectURL(K)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"rounded-3xl border border-border bg-card/70 p-6",children:[s.jsx("h2",{className:"font-display text-2xl font-semibold",children:t("viewer.title")}),s.jsx("p",{className:"mt-2 text-muted-foreground",children:t("viewer.subtitle")})]}),s.jsxs(he,{children:[s.jsxs(ge,{children:[s.jsx(ye,{children:t("viewer.import")}),s.jsx(Ie,{children:t("viewer.importDescription")})]}),s.jsxs(xe,{className:"space-y-4",children:[s.jsxs($t,{value:h,onValueChange:l=>y(l),children:[s.jsxs(Ct,{className:"w-full",children:[s.jsxs(Le,{value:"upload",className:"flex-1",children:[s.jsx(ve,{className:"mr-2 h-4 w-4"}),t("viewer.upload")]}),s.jsxs(Le,{value:"paste",className:"flex-1",children:[s.jsx(pt,{className:"mr-2 h-4 w-4"}),t("viewer.paste")]})]}),s.jsx($e,{value:"upload",className:"border-0 p-0 pt-4",children:c?s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-border/70 bg-muted/30 px-4 py-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10",children:s.jsx(ve,{className:"h-5 w-5 text-primary"})}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-sm font-medium",children:c}),s.jsx("span",{className:"text-xs text-muted-foreground",children:t("viewer.fileLoaded")})]})]}),s.jsx(ae,{variant:"ghost",size:"icon",onClick:B,className:"h-8 w-8 text-muted-foreground hover:text-destructive","aria-label":t("common.clear"),children:s.jsx(mt,{className:"h-4 w-4"})})]})}):s.jsxs("div",{...b(),className:nt("cursor-pointer rounded-2xl border-2 border-dashed transition-colors",N?"border-primary bg-primary/5":"border-border/70 hover:border-primary/50 hover:bg-muted/30"),children:[s.jsx("input",{...P()}),s.jsxs("div",{className:"flex flex-col items-center gap-4 px-6 py-12 text-center",children:[s.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-2xl bg-primary/10",children:s.jsx(ve,{className:"h-8 w-8 text-primary"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-base font-medium text-foreground",children:t(N?"viewer.dropActive":"viewer.dropInactive")}),s.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:t("viewer.uploadHint")})]})]})]})}),s.jsx($e,{value:"paste",className:"border-0 p-0 pt-4",children:s.jsx(ut,{rows:10,value:u,onChange:l=>f(l.target.value),className:"font-mono text-xs",placeholder:t("viewer.pasteHint")})})]}),o&&s.jsxs("div",{className:"flex items-center gap-2 rounded-2xl border border-destructive/40 bg-destructive/5 px-4 py-3 text-sm text-destructive",children:[s.jsx(vt,{className:"h-4 w-4"}),o]}),s.jsx(ae,{onClick:v,disabled:!u.trim()||r,className:"w-full sm:w-auto",children:t(r?"common.validating":"viewer.visualize")})]})]}),e&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(he,{children:[s.jsx(ge,{children:s.jsx(ye,{children:t("viewer.severityBreakdown")})}),s.jsx(xe,{className:"h-80",children:R.length?s.jsxs(s.Fragment,{children:[s.jsx(Ne,{width:"100%",height:"100%",children:s.jsxs(Nr,{children:[s.jsx(D,{data:R,dataKey:"value",nameKey:"name",innerRadius:70,outerRadius:110,paddingAngle:4,children:R.map(l=>s.jsx(Qe,{fill:l.color},`cell-${l.name}`))}),s.jsx(Re,{})]})}),s.jsx("div",{className:"mt-4 flex flex-wrap gap-3",children:R.map(l=>s.jsxs(Vt,{style:{backgroundColor:l.color},className:"text-white",children:[l.name,": ",l.value]},l.name))})]}):s.jsx("div",{className:"flex h-full items-center justify-center text-muted-foreground",children:t("viewer.emptyStats")})})]}),s.jsxs(he,{children:[s.jsxs(ge,{children:[s.jsx(ye,{children:t("viewer.topShapes")}),s.jsx(Ie,{children:t("viewer.topShapesHint")})]}),s.jsx(xe,{className:"h-80",children:F.length?s.jsx(Ne,{width:"100%",height:"100%",children:s.jsxs(Tr,{data:F,layout:"vertical",margin:{left:0,right:16},children:[s.jsx(tt,{type:"number",hide:!0}),s.jsx(rt,{dataKey:"name",type:"category",width:180,tick:{fontSize:11}}),s.jsx(Re,{content:T,cursor:{fill:"hsl(var(--muted)/0.3)"}}),s.jsx(oe,{dataKey:"violation",stackId:"issues",fill:k.violation,radius:[0,6,6,0]}),s.jsx(oe,{dataKey:"warning",stackId:"issues",fill:k.warning,radius:[0,6,6,0]}),s.jsx(oe,{dataKey:"info",stackId:"issues",fill:k.info,radius:[0,6,6,0]})]})}):s.jsx("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-center text-sm text-muted-foreground",children:s.jsx("p",{children:t("viewer.emptyShapes")})})})]})]}),s.jsx(Dt,{type:"multiple",defaultValue:["segments"],children:s.jsxs(Bt,{value:"segments",children:[s.jsx(Ft,{children:t("viewer.exportSegments")}),s.jsx(Kt,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:["Violation","Warning","Info"].map(l=>s.jsxs("div",{className:"rounded-2xl border border-border p-4",children:[s.jsx("p",{className:"text-sm font-semibold",children:t(`severity.${l.toLowerCase()}`)}),s.jsxs("div",{className:"mt-3 flex gap-2",children:[s.jsx(ae,{variant:"outline",size:"sm",onClick:()=>L(l,"ttl"),children:"TTL"}),s.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>L(l,"csv"),children:"CSV"})]})]},l))})})]})}),s.jsx(It,{report:e})]})]})};export{zr as default};
